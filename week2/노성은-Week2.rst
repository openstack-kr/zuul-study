zuul-study week2 노성은
=====================
     
.. contents:: 목차
   :depth: 2
   :local:

1. CI/CD, OpenStack, Zuul 에 대한 이해
-------------------

a. CI CD
~~~~~~~~

**[CI/CD란?]**

* CI/CD는 애플리케이션의 개발부터 배포까지 모든 단계를 자동화하여 , 사용자에게 빈번하고 안정적으로 서비스를 제공하는 소프트웨어 개발 전략이자 프로세스이다.

  - 코드 작성, 빌드, 테스트, 배포에 이르는 과정을 파이프라인으로 구축하여 개발 효율성과 소프트웨어 품질을 동시에 높이는 것을 목적으로 한다.
  - 개발팀이 코드 변경 사항을 더 자주, 더 빨리, 더 안정적으로 운영 환경에 적용할 수 있도록 지원한다.
  - 소프트웨어 제공 워크플로를 간소화하여 복잡성을 감소시키고, 대규모 환경에서의 효율성을 향상시킨다. 일부 개발팀은 하루에도 여러 차례 변경 사항을 배포하여, 사용자가 지속적으로 개선되는 애플리케이션을 경험할 수 있도록 한다.

* **CI - Continous Integration (지속적 통합)**
  
  - 빌드/테스트 자동화 과정. 개발자들의 코드 변경 사항을 공유 리포지토리에 정기적으로 통합하는 과정이다.
  - 소스 코드 통합 및 버전 관리 등의 개발자 작업을 보다 효율적으로 수행할 수 있도록 함으로써 소프트웨어를 보다 신속하게 운영환경에 배치할 수 있도록 해주는 사전 단계이다.
  - 여러 명의 개발자가 동시에 애플리케이션 개발과 관련된 작업을 할 경우 서로 충돌할 수 있는 문제를 해결할 수 있다.

* **CD - Continuous Deployment & Continuous Delivery (지속적 제공 및 배포 자동화)**

  - 배포 자동화 과정. CI 이후 단계에서, 코드를 실제 서비스 환경까지 자동으로 릴리즈하는 단계이다.

  - **지속적인 서비스 제공(Continuous Delivery)** : CI에서 유효성 검증이 끝난 코드들을 저장소에 자동으로 릴리스 한다. 이를 통해 운영팀은 변경된 코드들을 저장소에서 가져와서 애플리케이션에 수동으로 배포할 수 있게 된다.

    - 개발팀과 운영팀 사이의 의사소통이 좀 더 원활해질 수 있다.
    - 실제로 애플리케이션이 배포되기 전까지의 작업을 자동화한다.

  - **지속적인 배포(Continuous Deployment)** : 소프트웨어의 변경 사항이 테스트를 통과하자마자 자동으로 최종 사용자에게 배포된다.

    - 사용자의 피드백도 즉각 반영하기 쉬워진다.

* **CI/CD 파이프라인 프로세스**

  - ‘코드 커밋 → 빌드 → 테스트 → 배포’의 자동화

    1. **Code Push**: 개발자들이 개발하여 브랜치에 코드를 push 한다.
    2. **Trigger & CI:** `git push`가 감지되면 CI 서버가 Trigger되어 자동으로 Build, Test, Lint를 실행한다.
    3. **Feedback & Merge:**
        - 에러 발생 시: 개발자에게 알림이 전송되며, 개발자는 에러를 수정하여 다시 푸시한다.
        - 성공 시: 코드가 메인 브랜치에 병합(Merge)된다.
    4. 메인 브랜치 병합 후 최종 빌드 및 테스트가 완료되면, CI 파이프라인이 실행 되어 프로덕션 환경에 변경사항을 자동으로 배포한다.

----------

**[CI/CD의 장점]**
^^^^^^^^^^^^^^^^^^^

* **기능 릴리스 가속화 및 효율성 증대**

  - 개발 프로세스 간소화: 복잡한 수동 작업을 제거하고 자동화를 통해 사람의 개입을 없애 시간과 비용을 절감한다.
  - 빈번한 배포 및 피드백: 하루에도 여러 번 배포가 가능해져 사용자 피드백을 빠르게 반영하고 기능을 개선할 수 있다.
  - 핸드오프 손실 방지
  - 경쟁 우위 확보

* **소프트웨어 품질 개선 및 테스트 자동화**

  - **탁월한 코드 품질 보장** : 입증된 자동화 테스트를 거친 코드만 배포되므로 서비스 안정성이 보장된다.
  - **신속한 오류 해결**
    - 개발자는 거의 실시간으로 코드 문제를 파악할 수 있고, 버그 수정에 드는 시간과 자원 낭비가 줄어든다.
    - 다른 프로젝트 구동 시 끝없는 수정 요청에 시달리지 않고 오로지 코딩에만 집중할 수 있다.
  - **소규모 업데이트의 이점** : 업데이트를 더 자주, 작게 도입하여 잠재적 버그와 취약성 위험을 줄이고, 이상 징후를 즉시 식별 및 수정할 수 있다.
  
  - **릴리스 지연 방지** : 2021년 깃랩 설문조사에 따르면, 릴리스 지연의 주원인은 ‘테스트’였다. CI/CD는 이를 자동화하여 상시 릴리스가 가능한 환경을 만든다.

* **개발자 경험 강화 및 업무 만족도 향상**

  - **반복 작업 제거** : 디버깅, 테스트, 검증 등 반복적이고 힘든 작업을 자동화하여 개발자의 스트레스를 줄인다.
  - **가치 있는 작업에 집중** : 수동 작업 시간을 줄여 더 중요한 문제 해결이나 가치 높은 작업에 시간을 할애할 수 있다.
  - **백로그 감소** : 시간과 비용 절감으로 여유가 생겨, 기존에 시간이 부족해 처리하지 못했던 오래된 코드(백로그)나 사소한 결함까지 수정할 수 있게 된다.
  - **팀 사기 진작** : 결과적으로 개발팀의 사기가 높아져 비즈니스 성과 향상으로 이어진다.

* **오류 격리 및 간소화된 복구 (MTTR 개선)**

  - **오류 격리** : 문제가 발생한 정확한 위치를 파악하기 어려웠던 과거와 달리, 오류를 쉽게 식별하고 격리하여 생산성을 높인다.
  - **간소화된 롤백** : 문제가 발생하면 이전 버전으로 즉시 되돌릴 수 있는 간단한 프로세스를 통해 서비스 가용성을 유지한다.
  - **MTTR(평균 해결 시간) 개선** : 문제를 신속하게 파악하고 해결함으로써 핵심 지표인 MTTR을 개선하고 비즈니스 수익에 긍정적인 영향을 미친다.

* **투명성, 책임성 및 데이터 모니터링**

  - **싱글 윈도우(Single Window)** : 통합 CI/CD 프로세스를 통해 팀 내 모든 인원과 비즈니스 이해관계자가 현황을 한눈에 파악할 수 있다.
  - **예측 가능한 마일스톤** : 개발 과정이 투명해지고 추적 가능해져 배포 일정을 자신 있게 예측하고 약속할 수 있다.
  - **지표(Metrics) 활용** : 리드 타임, 배포 빈도, 변경 실패율 등 다양한 통계 지표를 통해 코드가 실제 환경에서 어떻게 동작하는지 지속적으로 모니터링하고 피드백을 받는다.

---------

**[CI/CD의 작동 방식]**
^^^^^^^^^^^^^^^^^^^^^^

* CI/CD는 구축 및 배포 프로세스를 자동화하여 애플리케이션 개발 주기와 소프트웨어 업데이트를 가속화한다.
* 또한, 투명하고 확장 가능한 최신 소프트웨어 개발 관행에서 더 빠른 피드백을 가능하게 하여 개발 팀과 운영 팀 간의 격차를 해소한다.
* **지속적 통합**

    - 개발자가 공유 코드 리포지토리의 변경 사항을 통합하는 방식을 자동화한다.
    - 저장소는 성공적인 빌드를 위한 소스 코드, 라이브러리, 테스트 스크립트 및 기타 리소스로 구성된다.
    - 지속적 통합을 통해 개발자는 품질 저하 없이 코드를 더 자주 제공할 수 있다.
    - 기존에 합의된 시간까지 기다려야 했던 방식에서 발생하던 코드 충돌(한 개발자의 변경이 다른 부분에 오류를 일으키는 현상) 문제를 해결하며, 여러 개발자가 동시에 작업해도 다른 사람의 코드를 손상시키지 않아 코드 릴리스가 더 빨라진다.

* **지속적 전달**

    - 지속적 통합 단계에서 검증된 코드를 프로덕션 배포에 사용할 준비가 되도록 한다.
    - CI 단계 이후, 단위, 통합, 회귀, API 안정성 테스트 등 추가 자동 테스트를 거친다.
    - 테스트를 통해 문제를 조기에 식별하고, 문제가 있는 코드를 재작업할 수 있다.
    - 검증 완료 후 서버리스 리소스, 클라우드 서버 등 인프라를 자동으로 프로비저닝한다.
    - 운영 팀이 프로덕션 환경에 애플리케이션을 **수동으로 배포**할 수 있는 상태가 된다.

* **지속적 배포**

    - 배포 단계에서 사람의 수동 개입을 제거하여 코드 자동화를 더욱 발전시킨다.
    - 자동화된 테스트 도구를 사용하여 고품질 소프트웨어를 생성한다.
    - 운영 팀의 승인을 기다리는 대신, 설정된 애플리케이션 승인 기준을 통과하면 최종 사용자에게 **자동으로 배포**된다.
