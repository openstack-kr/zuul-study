

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Release Notes &mdash; Zuul  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=97235ca2" />

  
    <link rel="canonical" href="https://zuul-ci.org/docs/zuul/latest/releasenotes.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Vulnerability Reporting" href="vulnerabilities.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #41B6E6" >

          
          
          <a href="index.html">
            
              <img src="_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About Zuul</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concepts.html">Zuul Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="gating.html">Project Gating</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gating.html#testing-in-parallel">Testing in parallel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gating.html#pipeline-window">Pipeline Window</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gating.html#cross-project-testing">Cross Project Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="gating.html#cross-project-dependencies">Cross-Project Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gating.html#dependent-pipeline">Dependent Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="gating.html#independent-pipeline">Independent Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="gating.html#multiple-changes">Multiple Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="gating.html#cycles">Cycles</a></li>
<li class="toctree-l4"><a class="reference internal" href="gating.html#global-repo-state">Global Repo State</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/quick-start.html">Quick-Start Installation and Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/quick-start.html#start-zuul-containers">Start Zuul Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/quick-start.html#add-your-gerrit-account">Add Your Gerrit Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/quick-start.html#configure-zuul-pipelines">Configure Zuul Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/quick-start.html#test-zuul-pipelines">Test Zuul Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/quick-start.html#configure-a-base-job">Configure a Base Job</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/quick-start.html#further-steps">Further Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="project-config.html">Project Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="project-config.html#security-contexts">Security Contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="project-config.html#configuration-loading">Configuration Loading</a></li>
<li class="toctree-l2"><a class="reference internal" href="project-config.html#regular-expressions">Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="project-config.html#encryption">Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="project-config.html#configuration-items">Configuration Items</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config/pipeline.html">Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/job.html">Job</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/project.html">Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/project.html#project-template">Project Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/queue.html">Queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/secret.html">Secret</a><ul>
<li class="toctree-l4"><a class="reference internal" href="config/secret.html#data-secrets">Data Secrets</a></li>
<li class="toctree-l4"><a class="reference internal" href="config/secret.html#token-secrets">Token Secrets</a></li>
<li class="toctree-l4"><a class="reference internal" href="config/secret.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="config/nodeset.html">Nodeset</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/semaphore.html">Semaphore</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/pragma.html">Pragma</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/image.html">Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/flavor.html">Flavor</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/label.html">Label</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/section.html">Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/provider.html">Provider</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="job-content.html">Job Content</a><ul>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#working-directory">Working Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#git-repositories">Git Repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#variables">Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#site-wide-variables">Site-wide Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#job-extra-variables">Job Extra Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#secrets">Secrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#job-variables">Job Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#project-variables">Project Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#file-variables">File Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#parent-job-results">Parent Job Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#zuul-variables">Zuul Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#job-ref">Job Ref</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#item">Item</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#job">Job</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#id2">Working Directory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#ssh-keys">SSH Keys</a><ul>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#nodepool-key">Nodepool Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#tenant-key">Tenant Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#project-key">Project Key</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#return-values">Return Values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#returning-the-log-url">Returning the log url</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#returning-artifact-urls">Returning artifact URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#skipping-dependent-jobs">Skipping dependent jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#leaving-warnings">Leaving warnings</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#leaving-file-comments">Leaving file comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#pausing-the-job">Pausing the job</a></li>
<li class="toctree-l3"><a class="reference internal" href="job-content.html#skipping-retries">Skipping retries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#ansible-groups">Ansible Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="job-content.html#id5">Build Status</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="admin.html">Service Administration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#external-dependencies">External Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installation.html#nodepool">Nodepool</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#zookeeper">ZooKeeper</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#executor-deployment">Executor Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#web-deployment">Web Deployment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installation.html#reverse-proxy">Reverse Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#static-offload">Static Offload</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#sub-directory-serving">Sub directory serving</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#white-labeled-tenant">White Labeled Tenant</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#static-external">Static External</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html">Upgrading</a><ul>
<li class="toctree-l3"><a class="reference internal" href="upgrading.html#rolling-upgrades">Rolling Upgrades</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrading.html#skipping-versions">Skipping Versions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components.html">Component Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#common-options">Common Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#statsd">Statsd</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#tracing">Tracing</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#zookeeper">ZooKeeper</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#database">Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#oidc">OIDC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#scheduler">Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#merger">Merger</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#executor">Executor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#trusted-and-untrusted-playbooks">Trusted and Untrusted Playbooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#security-considerations">Security Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#id5">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#web-server">Web Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#launcher">Launcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#authentication">Authentication</a><ul>
<li class="toctree-l5"><a class="reference internal" href="configuration.html#driver-specific-attributes">Driver-specific attributes</a><ul>
<li class="toctree-l6"><a class="reference internal" href="configuration.html#hs256">HS256</a></li>
<li class="toctree-l6"><a class="reference internal" href="configuration.html#rs256">RS256</a></li>
<li class="toctree-l6"><a class="reference internal" href="configuration.html#rs256withjwks">RS256withJWKS</a></li>
<li class="toctree-l6"><a class="reference internal" href="configuration.html#openidconnect">OpenIDConnect</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#client">Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#finger-gateway">Finger Gateway</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#connections">Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="drivers/index.html">Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="drivers/gerrit.html">Gerrit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/gerrit.html#connection-configuration">Connection Configuration</a><ul>
<li class="toctree-l5"><a class="reference internal" href="drivers/gerrit.html#ssh-configuration">SSH Configuration</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/gerrit.html#http-configuration">HTTP Configuration</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/gerrit.html#kafka-event-support">Kafka Event Support</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/gerrit.html#aws-kinesis-event-support">AWS Kinesis Event Support</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/gerrit.html#google-cloud-pub-sub-event-support">Google Cloud Pub/Sub Event Support</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gerrit.html#trigger-configuration">Trigger Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gerrit.html#reporter-configuration">Reporter Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gerrit.html#requirements-configuration">Requirements Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gerrit.html#reference-pipelines-configuration">Reference Pipelines Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gerrit.html#checks-plugin-support-deprecated">Checks Plugin Support (Deprecated)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/git.html">Git</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/git.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/git.html#trigger-configuration">Trigger Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/github.html">GitHub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/github.html#configure-github">Configure GitHub</a><ul>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#web-hook">Web-Hook</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#application">Application</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="drivers/github.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/github.html#trigger-configuration">Trigger Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/github.html#reporter-configuration">Reporter Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/github.html#requirements-configuration">Requirements Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/github.html#reference-pipelines-configuration">Reference pipelines configuration</a><ul>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#branch-protection-rules">Branch protection rules</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#reference-pipelines">Reference pipelines</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="drivers/github.html#github-checks-api">Github Checks API</a><ul>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#design-decisions">Design decisions</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#behaviour-in-zuul">Behaviour in Zuul</a><ul>
<li class="toctree-l6"><a class="reference internal" href="drivers/github.html#reporting">Reporting</a></li>
<li class="toctree-l6"><a class="reference internal" href="drivers/github.html#trigger">Trigger</a></li>
<li class="toctree-l6"><a class="reference internal" href="drivers/github.html#requirements">Requirements</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#actions-events">Actions / Events</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#file-comments-annotations">File comments (annotations)</a><ul>
<li class="toctree-l6"><a class="reference internal" href="drivers/github.html#custom-actions">Custom actions</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="drivers/github.html#restrictions-and-recommendations">Restrictions and Recommendations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/gitlab.html">GitLab</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/gitlab.html#configure-gitlab">Configure GitLab</a><ul>
<li class="toctree-l5"><a class="reference internal" href="drivers/gitlab.html#web-hooks">web-hooks</a></li>
<li class="toctree-l5"><a class="reference internal" href="drivers/gitlab.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gitlab.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gitlab.html#trigger-configuration">Trigger Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gitlab.html#reporter-configuration">Reporter Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gitlab.html#requirements-configuration">Requirements Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/gitlab.html#reference-pipelines-configuration">Reference pipelines configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/pagure.html">Pagure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/pagure.html#configure-pagure">Configure Pagure</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/pagure.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/pagure.html#trigger-configuration">Trigger Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/pagure.html#reporter-configuration">Reporter Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/pagure.html#requirements-configuration">Requirements Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/pagure.html#reference-pipelines-configuration">Reference pipelines configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/elasticsearch.html">Elasticsearch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/elasticsearch.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/elasticsearch.html#reporter-configuration">Reporter Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/mqtt.html">MQTT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/mqtt.html#message-schema">Message Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/mqtt.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/mqtt.html#reporter-configuration">Reporter Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/smtp.html">SMTP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/smtp.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/smtp.html#reporter-configuration">Reporter Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/timer.html">Timer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/timer.html#trigger-configuration">Trigger Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/zuul.html">Zuul</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/zuul.html#trigger-configuration">Trigger Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/zuul.html#reporter-configuration">Reporter Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/aws.html">AWS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/aws.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/aws.html#provider-configuration">Provider Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/azure.html">Azure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/azure.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/azure.html#provider-configuration">Provider Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/openstack.html">OpenStack</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/openstack.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/openstack.html#provider-configuration">Provider Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers/static.html">Static</a><ul>
<li class="toctree-l4"><a class="reference internal" href="drivers/static.html#connection-configuration">Connection Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="drivers/static.html#provider-configuration">Provider Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tenants.html">Tenant Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tenants.html#tenant">Tenant</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenants.html#global-semaphore">Global Semaphore</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenants.html#authorization-rule">Authorization Rule</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenants.html#authorization-rule-templating">Authorization Rule Templating</a></li>
<li class="toctree-l3"><a class="reference internal" href="tenants.html#api-root">API Root</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="build-nodes.html">Build Nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="build-nodes.html#node-reuse">Node Reuse</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-nodes.html#image-creation">Image Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-nodes.html#image-validation">Image Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-nodes.html#nodepool-migration">Nodepool Migration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="operation.html">Operation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="operation.html#scheduler">Scheduler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="operation.html#id2">Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation.html#reconfiguration">Reconfiguration</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation.html#advanced-options">Advanced Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation.html#managing-event-processing">Managing Event Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation.html#backup-and-restoration">Backup and Restoration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="operation.html#merger">Merger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="operation.html#id4">Operation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="operation.html#executor">Executor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="operation.html#id5">Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation.html#ansible-and-python-3">Ansible and Python 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation.html#log-streaming">Log Streaming</a><ul>
<li class="toctree-l5"><a class="reference internal" href="operation.html#posix-log-streaming">Posix Log Streaming</a></li>
<li class="toctree-l5"><a class="reference internal" href="operation.html#windows-log-streaming">Windows Log Streaming</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="operation.html#web-server">Web Server</a><ul>
<li class="toctree-l4"><a class="reference internal" href="operation.html#id7">Operation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="operation.html#finger-gateway">Finger Gateway</a><ul>
<li class="toctree-l4"><a class="reference internal" href="operation.html#id8">Operation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html">Authenticated Access</a><ul>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#important-security-considerations">Important Security Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#jwt-format">JWT Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#manually-generating-a-jwt">Manually Generating a JWT</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#debugging">Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="authentication.html#interfacing-with-other-systems">Interfacing with Other Systems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="howtos/openid-with-google.html">Configuring Google Authentication</a><ul>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-google.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-google.html#setting-up-credentials-with-google">Setting up credentials with Google</a><ul>
<li class="toctree-l6"><a class="reference internal" href="howtos/openid-with-google.html#create-oauth-client-id">Create OAuth client ID</a></li>
<li class="toctree-l6"><a class="reference internal" href="howtos/openid-with-google.html#configure-zuul">Configure Zuul</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-google.html#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="howtos/openid-with-keycloak.html">Configuring Keycloak Authentication</a><ul>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-keycloak.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-keycloak.html#setting-up-keycloak">Setting up Keycloak</a><ul>
<li class="toctree-l6"><a class="reference internal" href="howtos/openid-with-keycloak.html#create-a-client">Create a client</a></li>
<li class="toctree-l6"><a class="reference internal" href="howtos/openid-with-keycloak.html#create-a-client-scope">Create a client scope</a></li>
<li class="toctree-l6"><a class="reference internal" href="howtos/openid-with-keycloak.html#optional-set-up-a-social-identity-provider">(Optional) Set up a social identity provider</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-keycloak.html#setting-up-zuul">Setting up Zuul</a></li>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-keycloak.html#further-reading">Further Reading</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="howtos/openid-with-microsoft.html">Configuring Microsoft Authentication</a><ul>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-microsoft.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-microsoft.html#creating-the-app-registration">Creating the App Registration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="howtos/openid-with-microsoft.html#optional-include-groups-claim">Optional: Include Groups Claim</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="howtos/openid-with-microsoft.html#setting-up-zuul">Setting up Zuul</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/keycloak.html">Keycloak Tutorial</a><ul>
<li class="toctree-l5"><a class="reference internal" href="tutorials/keycloak.html#update-etc-hosts">Update /etc/hosts</a></li>
<li class="toctree-l5"><a class="reference internal" href="tutorials/keycloak.html#restart-zuul-containers">Restart Zuul Containers</a></li>
<li class="toctree-l5"><a class="reference internal" href="tutorials/keycloak.html#start-keycloak">Start Keycloak</a></li>
<li class="toctree-l5"><a class="reference internal" href="tutorials/keycloak.html#log-into-zuul">Log Into Zuul</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Monitoring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#statsd-reporting">Statsd reporting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="monitoring.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="monitoring.html#metrics">Metrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#prometheus-monitoring">Prometheus monitoring</a><ul>
<li class="toctree-l4"><a class="reference internal" href="monitoring.html#id1">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="monitoring.html#id2">Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="monitoring.html#liveness-probes">Liveness Probes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tracing.html">Tracing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tracing.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="tracing.html#tutorial">Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/tracing.html">Jaeger Tracing Tutorial</a><ul>
<li class="toctree-l5"><a class="reference internal" href="tutorials/tracing.html#restart-zuul-containers">Restart Zuul Containers</a></li>
<li class="toctree-l5"><a class="reference internal" href="tutorials/tracing.html#start-jaeger">Start Jaeger</a></li>
<li class="toctree-l5"><a class="reference internal" href="tutorials/tracing.html#recheck-a-change">Recheck a change</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="client.html">Zuul Admin Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="client.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="client.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="client.html#tenant-conf-check">tenant-conf-check</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#create-auth-token">create-auth-token</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#export-keys">export-keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#import-keys">import-keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#copy-keys">copy-keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#delete-keys">delete-keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#delete-oidc-signing-keys">delete-oidc-signing-keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#delete-state">delete-state</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#delete-pipeline-state">delete-pipeline-state</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#prune-database">prune-database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="client.html#deprecated-commands">Deprecated commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="client.html#autohold">Autohold</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#autohold-delete">Autohold Delete</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#autohold-info">Autohold Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#autohold-list">Autohold List</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#dequeue">Dequeue</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#enqueue">Enqueue</a></li>
<li class="toctree-l4"><a class="reference internal" href="client.html#enqueue-ref">Enqueue-ref</a><ul>
<li class="toctree-l5"><a class="reference internal" href="client.html#manual-enqueue-examples">Manual enqueue examples</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="client.html#promote">Promote</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#thread-dumps-and-profiling">Thread Dumps and Profiling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rest-api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtos/index.html">How-To Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="howtos/pti.html">Project Testing Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="howtos/pti.html#projects-layout">Projects layout</a><ul>
<li class="toctree-l4"><a class="reference internal" href="howtos/pti.html#org-config">org-config</a></li>
<li class="toctree-l4"><a class="reference internal" href="howtos/pti.html#org-jobs">org-jobs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="howtos/pti.html#projects-content">Projects content</a></li>
<li class="toctree-l3"><a class="reference internal" href="howtos/pti.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="howtos/pti.html#project-tests">Project tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="howtos/pti.html#updating-pti-test">Updating PTI test</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="howtos/pti.html#cross-project-gating">Cross project gating</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="howtos/badges.html">Badges</a></li>
<li class="toctree-l2"><a class="reference internal" href="howtos/matrix.html">Chatting with Matrix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="howtos/matrix.html#why-use-matrix">Why Use Matrix?</a></li>
<li class="toctree-l3"><a class="reference internal" href="howtos/matrix.html#create-an-account">Create An Account</a></li>
<li class="toctree-l3"><a class="reference internal" href="howtos/matrix.html#join-the-zuul-room">Join the #zuul Room</a></li>
<li class="toctree-l3"><a class="reference internal" href="howtos/matrix.html#optional-next-steps">Optional Next Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="howtos/matrix-encryption.html">Optional: Save Encryption Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="howtos/matrix-id.html">Optional: Register with an Identity Provider</a></li>
<li class="toctree-l4"><a class="reference internal" href="howtos/matrix-irc.html">Optional: Join an IRC Room</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="howtos/zookeeper.html">ZooKeeper Administration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="howtos/zookeeper.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="howtos/zookeeper.html#encrypted-connections">Encrypted Connections</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer/index.html">Developerâ€™s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer/index.html#zuul.scheduler.Scheduler"><code class="docutils literal notranslate"><span class="pre">Scheduler</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="developer/datamodel.html">Data Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.model.Pipeline"><code class="docutils literal notranslate"><span class="pre">Pipeline</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.manager.PipelineManager"><code class="docutils literal notranslate"><span class="pre">PipelineManager</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.manager.dependent.DependentPipelineManager"><code class="docutils literal notranslate"><span class="pre">DependentPipelineManager</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.manager.independent.IndependentPipelineManager"><code class="docutils literal notranslate"><span class="pre">IndependentPipelineManager</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.model.ChangeQueue"><code class="docutils literal notranslate"><span class="pre">ChangeQueue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.model.Job"><code class="docutils literal notranslate"><span class="pre">Job</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.model.JobGraph"><code class="docutils literal notranslate"><span class="pre">JobGraph</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.model.Build"><code class="docutils literal notranslate"><span class="pre">Build</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.model.QueueItem"><code class="docutils literal notranslate"><span class="pre">QueueItem</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#zuul.model.BuildSet"><code class="docutils literal notranslate"><span class="pre">BuildSet</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#changes">Changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.Change"><code class="docutils literal notranslate"><span class="pre">Change</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.Ref"><code class="docutils literal notranslate"><span class="pre">Ref</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#filters">Filters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.RefFilter"><code class="docutils literal notranslate"><span class="pre">RefFilter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.EventFilter"><code class="docutils literal notranslate"><span class="pre">EventFilter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#tenants">Tenants</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.Tenant"><code class="docutils literal notranslate"><span class="pre">Tenant</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.UnparsedAbideConfig"><code class="docutils literal notranslate"><span class="pre">UnparsedAbideConfig</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.UnparsedConfig"><code class="docutils literal notranslate"><span class="pre">UnparsedConfig</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.ParsedConfig"><code class="docutils literal notranslate"><span class="pre">ParsedConfig</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/datamodel.html#other-global-objects">Other Global Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.Project"><code class="docutils literal notranslate"><span class="pre">Project</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.Layout"><code class="docutils literal notranslate"><span class="pre">Layout</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.RepoFiles"><code class="docutils literal notranslate"><span class="pre">RepoFiles</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/datamodel.html#zuul.model.TriggerEvent"><code class="docutils literal notranslate"><span class="pre">TriggerEvent</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/drivers.html">Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/drivers.html#zuul.driver.Driver"><code class="docutils literal notranslate"><span class="pre">Driver</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.Driver.reconfigure"><code class="docutils literal notranslate"><span class="pre">Driver.reconfigure()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.Driver.registerScheduler"><code class="docutils literal notranslate"><span class="pre">Driver.registerScheduler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.Driver.stop"><code class="docutils literal notranslate"><span class="pre">Driver.stop()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/drivers.html#zuul.driver.ConnectionInterface"><code class="docutils literal notranslate"><span class="pre">ConnectionInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.ConnectionInterface.getConnection"><code class="docutils literal notranslate"><span class="pre">ConnectionInterface.getConnection()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/drivers.html#zuul.driver.SourceInterface"><code class="docutils literal notranslate"><span class="pre">SourceInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.SourceInterface.getRejectSchema"><code class="docutils literal notranslate"><span class="pre">SourceInterface.getRejectSchema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.SourceInterface.getRequireSchema"><code class="docutils literal notranslate"><span class="pre">SourceInterface.getRequireSchema()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.SourceInterface.getSource"><code class="docutils literal notranslate"><span class="pre">SourceInterface.getSource()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/drivers.html#zuul.driver.TriggerInterface"><code class="docutils literal notranslate"><span class="pre">TriggerInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.TriggerInterface.getTrigger"><code class="docutils literal notranslate"><span class="pre">TriggerInterface.getTrigger()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.TriggerInterface.getTriggerEventClass"><code class="docutils literal notranslate"><span class="pre">TriggerInterface.getTriggerEventClass()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.TriggerInterface.getTriggerSchema"><code class="docutils literal notranslate"><span class="pre">TriggerInterface.getTriggerSchema()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/drivers.html#zuul.driver.ReporterInterface"><code class="docutils literal notranslate"><span class="pre">ReporterInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.ReporterInterface.getReporter"><code class="docutils literal notranslate"><span class="pre">ReporterInterface.getReporter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/drivers.html#zuul.driver.ReporterInterface.getReporterSchema"><code class="docutils literal notranslate"><span class="pre">ReporterInterface.getReporterSchema()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/triggers.html">Triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/triggers.html#zuul.trigger.BaseTrigger"><code class="docutils literal notranslate"><span class="pre">BaseTrigger</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/triggers.html#zuul.trigger.BaseTrigger.getEventFilters"><code class="docutils literal notranslate"><span class="pre">BaseTrigger.getEventFilters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/triggers.html#zuul.trigger.BaseTrigger.onChangeEnqueued"><code class="docutils literal notranslate"><span class="pre">BaseTrigger.onChangeEnqueued()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/triggers.html#zuul.trigger.BaseTrigger.onChangeMerged"><code class="docutils literal notranslate"><span class="pre">BaseTrigger.onChangeMerged()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/triggers.html#zuul.trigger.BaseTrigger.postConfig"><code class="docutils literal notranslate"><span class="pre">BaseTrigger.postConfig()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/triggers.html#zuul.driver.gerrit.gerrittrigger.GerritTrigger"><code class="docutils literal notranslate"><span class="pre">GerritTrigger</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/triggers.html#zuul.driver.gerrit.gerrittrigger.GerritTrigger.getEventFilters"><code class="docutils literal notranslate"><span class="pre">GerritTrigger.getEventFilters()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/triggers.html#zuul.driver.timer.timertrigger.TimerTrigger"><code class="docutils literal notranslate"><span class="pre">TimerTrigger</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/triggers.html#zuul.driver.timer.timertrigger.TimerTrigger.getEventFilters"><code class="docutils literal notranslate"><span class="pre">TimerTrigger.getEventFilters()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/triggers.html#zuul.driver.zuul.zuultrigger.ZuulTrigger"><code class="docutils literal notranslate"><span class="pre">ZuulTrigger</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/triggers.html#zuul.driver.zuul.zuultrigger.ZuulTrigger.getEventFilters"><code class="docutils literal notranslate"><span class="pre">ZuulTrigger.getEventFilters()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/testing.html">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/testing.html#tests.base.simple_layout"><code class="docutils literal notranslate"><span class="pre">simple_layout()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.addEvent"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.addEvent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.assertBuilds"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.assertBuilds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.assertHistory"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.assertHistory()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.assertReportedStat"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.assertReportedStat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.commitConfigUpdate"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.commitConfigUpdate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.getSortedBuilds"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.getSortedBuilds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.getUpstreamRepos"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.getUpstreamRepos()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.logState"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.logState()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.newTenantConfig"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.newTenantConfig()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.printHistory"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.printHistory()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.setUp"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.setUp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.ZuulTestCase.waitUntilNodeCacheSync"><code class="docutils literal notranslate"><span class="pre">ZuulTestCase.waitUntilNodeCacheSync()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.addFakeChange"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.addFakeChange()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.checkBranchCache"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.checkBranchCache()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.cleanupCache"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.cleanupCache()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.clearBranchCache"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.clearBranchCache()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.clearConnectionCacheOnBranchEvent"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.clearConnectionCacheOnBranchEvent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.getEventQueue"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.getEventQueue()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.getProjectBranches"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.getProjectBranches()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.getProjectDefaultBranch"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.getProjectDefaultBranch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.getProjectMergeModes"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.getProjectMergeModes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.getWebController"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.getWebController()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.isBranchProtected"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.isBranchProtected()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.maintainCache"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.maintainCache()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.toDict"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.toDict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.updateProjectBranches"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.updateProjectBranches()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.fakegerrit.FakeGerritConnection.validateWebConfig"><code class="docutils literal notranslate"><span class="pre">FakeGerritConnection.validateWebConfig()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/testing.html#tests.base.RecordingExecutorServer"><code class="docutils literal notranslate"><span class="pre">RecordingExecutorServer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.RecordingExecutorServer.failJob"><code class="docutils literal notranslate"><span class="pre">RecordingExecutorServer.failJob()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.RecordingExecutorServer.release"><code class="docutils literal notranslate"><span class="pre">RecordingExecutorServer.release()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.RecordingExecutorServer.retryJob"><code class="docutils literal notranslate"><span class="pre">RecordingExecutorServer.retryJob()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.RecordingExecutorServer.returnData"><code class="docutils literal notranslate"><span class="pre">RecordingExecutorServer.returnData()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/testing.html#tests.base.FakeBuild"><code class="docutils literal notranslate"><span class="pre">FakeBuild</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.FakeBuild.getWorkspaceRepos"><code class="docutils literal notranslate"><span class="pre">FakeBuild.getWorkspaceRepos()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.FakeBuild.hasChanges"><code class="docutils literal notranslate"><span class="pre">FakeBuild.hasChanges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.FakeBuild.isWaiting"><code class="docutils literal notranslate"><span class="pre">FakeBuild.isWaiting()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/testing.html#tests.base.FakeBuild.release"><code class="docutils literal notranslate"><span class="pre">FakeBuild.release()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/testing.html#tests.base.BuildHistory"><code class="docutils literal notranslate"><span class="pre">BuildHistory</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/metrics.html">Metrics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/metrics.html#event-overview">Event Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/docs.html">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/docs.html#restructuredtext-conventions">ReStructuredText Conventions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#code-blocks">Code Blocks</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#literal-values">Literal Values</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#terminology">Terminology</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/docs.html#zuul-sphinx-directives">Zuul Sphinx Directives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#zuul-attr">zuul:attr::</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#zuul-value">zuul:value::</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#zuul-var">zuul:var::</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/docs.html#zuul-sphinx-roles">Zuul Sphinx Roles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#id1">:zuul:attr:</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#id2">:zuul:value:</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/docs.html#id3">:zuul:var:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/ansible.html">Ansible Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/ansible.html#streaming-job-output">Streaming job output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/ansible.html#zuul.ansible.base.callback.zuul_stream.CallbackModule"><code class="docutils literal notranslate"><span class="pre">CallbackModule</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/ansible.html#zuul.lib.log_streamer.LogStreamer"><code class="docutils literal notranslate"><span class="pre">LogStreamer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/ansible.html#zuul.web.LogStreamHandler"><code class="docutils literal notranslate"><span class="pre">LogStreamHandler</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/ansible.html#zuul.web.ZuulWeb"><code class="docutils literal notranslate"><span class="pre">ZuulWeb</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/ansible.html#zuul.ansible.base.callback.zuul_json.CallbackModule"><code class="docutils literal notranslate"><span class="pre">CallbackModule</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/ansible.html#capturing-live-command-output">Capturing live command output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/javascript.html">Zuul Dashboard Javascript</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/javascript.html#for-the-impatient-who-don-t-want-deal-with-javascript-toolchains">For the impatient who donâ€™t want deal with javascript toolchains</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/javascript.html#yarn-dependency-management">yarn dependency management</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/javascript.html#dealing-with-yarn-lock-merge-conflicts">Dealing with yarn.lock merge conflicts</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/javascript.html#react-components-and-styling">React Components and Styling</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/javascript.html#development">Development</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/javascript.html#authentication">Authentication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/javascript.html#deploying">Deploying</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/specs/index.html">Specifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html">Nodepool in Zuul</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#image-management">Image Management</a><ul>
<li class="toctree-l5"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#snapshot-images">Snapshot Images</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#node-management">Node Management</a><ul>
<li class="toctree-l5"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#quota-handling-rate-limiting">Quota Handling &amp; Rate Limiting</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#upgrade-process">Upgrade Process</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#library-requirements">Library Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#diskimage-builder-testing">Diskimage-Builder Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/nodepool-in-zuul.html#work-items">Work Items</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/specs/init-jobs.html">Initializer Jobs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/init-jobs.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/init-jobs.html#proposal">Proposal</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/init-jobs.html#implementation">Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/init-jobs.html#user-interface">User Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/init-jobs.html#other-types-of-jobs">Other Types of Jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/init-jobs.html#alternatives">Alternatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/init-jobs.html#work-items">Work Items</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/specs/reporter-jobs.html">Reporter Jobs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/reporter-jobs.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/reporter-jobs.html#proposal">Proposal</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/reporter-jobs.html#implementation">Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/reporter-jobs.html#user-interface">User Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/reporter-jobs.html#limitations">Limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/reporter-jobs.html#alternatives">Alternatives</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/specs/branch-assigned-queues.html">Branch-Assigned Queues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/branch-assigned-queues.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/branch-assigned-queues.html#proposal">Proposal</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/branch-assigned-queues.html#user-interface">User Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/specs/web-rbac.html">Fine-Grained API/Web Access Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/web-rbac.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/web-rbac.html#proposal">Proposal</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/specs/web-rbac.html#alternatives">Alternatives</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/zookeeper.html">ZooKeeper</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/zookeeper.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/zookeeper.html#driver-event-ingestion">Driver Event Ingestion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer/zookeeper.html#active-event-gathering">Active Event Gathering</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer/zookeeper.html#passive-event-gathering">Passive Event Gathering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer/zookeeper.html#configuration-storage">Configuration Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/zookeeper.html#executor-and-merger-queues">Executor and Merger Queues</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/zookeeper.html#zookeeper-map">Zookeeper Map</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/model-changelog.html">Data Model Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-0">Version 0</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-1">Version 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-2">Version 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-3">Version 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-4">Version 4</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-5">Version 5</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-6">Version 6</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-7">Version 7</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-8">Version 8</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-9">Version 9</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-10">Version 10</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-11">Version 11</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-12">Version 12</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-13">Version 13</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-14">Version 14</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-15">Version 15</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-16">Version 16</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-17">Version 17</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-18">Version 18</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-19">Version 19</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-20">Version 20</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-21">Version 21</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-22">Version 22</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-23">Version 23</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-24">Version 24</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-25">Version 25</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-26">Version 26</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-27">Version 27</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-28">Version 28</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-29">Version 29</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-30">Version 30</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-31">Version 31</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-32">Version 32</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-33">Version 33</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-34">Version 34</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-35">Version 35</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/model-changelog.html#version-36">Version 36</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developer/releasenotes.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer/releasenotes.html#installing-reno">Installing reno</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer/releasenotes.html#adding-a-new-release-note">Adding a new release note</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="governance.html">Zuul Project Governance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="governance.html#zuul-maintainers">Zuul Maintainers</a></li>
<li class="toctree-l2"><a class="reference internal" href="governance.html#zuul-project-lead">Zuul Project Lead</a></li>
<li class="toctree-l2"><a class="reference internal" href="governance.html#zuul-jobs-maintainers">Zuul-Jobs Maintainers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vulnerabilities.html">Vulnerability Reporting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vulnerabilities.html#create-a-private-story-in-storyboard">Create a Private Story in StoryBoard</a></li>
<li class="toctree-l2"><a class="reference internal" href="vulnerabilities.html#report-via-encrypted-e-mail">Report via Encrypted E-mail</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#in-development">In Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-13-1-1">13.1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-13-1-0">13.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-13-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-13-1-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-13-0-1">13.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-13-0-1-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-13-0-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-13-0-0">13.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-13-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-12-1-0">12.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-12-1-0-new-features">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-12-0-0">12.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-12-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-12-0-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-12-0-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-11-3-0">11.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-3-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-3-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-11-2-0">11.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-2-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-2-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-11-1-0">11.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-1-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-1-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-11-0-1">11.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-0-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-11-0-0">11.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-0-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-0-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-11-0-0-security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-10-2-0">10.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-2-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-2-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-2-0-bug-fixes">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-notes">Other Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-10-1-0">10.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-1-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-1-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-10-0-0">10.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prelude">Prelude</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-0-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-10-0-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-9-5-0">9.5.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-5-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-9-4-0">9.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-4-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-4-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-9-3-0">9.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-3-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-3-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-3-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-9-2-0">9.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-2-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-2-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-2-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-9-1-0">9.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-1-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-1-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-9-0-0">9.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-0-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-9-0-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-8-3-1">8.3.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-3-1-security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-8-3-0">8.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-3-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-3-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-3-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-8-2-0">8.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-2-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-2-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-2-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-8-1-0">8.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-1-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-1-0-security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-8-0-1">8.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-0-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-8-0-0">8.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-0-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-8-0-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-7-1-0">7.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-7-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-7-1-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-7-0-0">7.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-7-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-7-0-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-6-4-0">6.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-4-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-4-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-6-3-0">6.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-3-0-new-features">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-6-2-0">6.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-2-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-2-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-6-1-0">6.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-1-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-1-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-6-0-0">6.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-0-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-6-0-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-2-5">5.2.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-5-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-2-4">5.2.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-4-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-2-3">5.2.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-3-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-2-2">5.2.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-2-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-2-1">5.2.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-1-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-1-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-2-0">5.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-2-0-security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-1-0">5.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-1-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-1-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-1-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-5-0-0">5.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-5-0-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-12-0">4.12.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-12-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-11-0">4.11.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-11-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-11-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-10-4">4.10.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-10-4-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-10-3">4.10.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-10-3-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-10-2">4.10.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-10-2-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-10-1">4.10.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-10-1-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-10-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-10-0">4.10.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-10-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-9-0">4.9.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-9-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-9-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-8-1">4.8.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-8-1-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-8-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-8-0">4.8.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-8-0-new-features">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-7-0">4.7.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-7-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-7-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-7-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-6-0">4.6.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-6-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-6-0-security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-5-1">4.5.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-5-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-5-0">4.5.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-5-0-prelude">Prelude</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-4-0">4.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-4-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-4-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-3-0">4.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-3-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-3-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-3-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-3-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-2-0">4.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-2-0-prelude">Prelude</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-1-0">4.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-1-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-1-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-1-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-4-0-0">4.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-0-0-prelude">Prelude</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-0-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-0-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-0-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-4-0-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-19-1">3.19.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-19-1-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-19-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-19-0">3.19.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-19-0-prelude">Prelude</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-19-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-19-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-19-0-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-19-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-18-0">3.18.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-18-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-18-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-18-0-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-18-0-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-18-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-17-0">3.17.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-17-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-17-0-security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-16-1">3.16.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-16-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-16-0">3.16.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-16-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-16-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-16-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-15-0">3.15.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-15-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-14-0">3.14.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-14-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-14-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-13-0">3.13.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-13-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-13-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-12-0">3.12.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-12-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-12-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-12-0-other-notes">Other Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-11-1">3.11.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-11-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-11-0">3.11.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-11-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-11-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-10-2">3.10.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-10-2-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-10-2-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-10-2-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-10-1">3.10.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-10-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-10-0">3.10.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-10-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-10-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-9-0">3.9.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-9-0-new-features">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-8-1">3.8.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-8-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-8-0">3.8.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-8-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-8-0-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-8-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-7-1">3.7.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-7-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-7-0">3.7.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-7-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-7-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-6-1">3.6.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-6-1-security-issues">Security Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-6-0">3.6.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-6-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-6-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-5-0">3.5.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-5-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-5-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-5-0-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-5-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-4-0">3.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-4-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-4-0-upgrade-notes">Upgrade Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-3-1">3.3.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-3-1-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-3-1-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-3-1-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-3-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-3-0">3.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-3-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-3-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-3-0-deprecation-notes">Deprecation Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-2-0">3.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-2-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-2-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-1-0">3.1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-1-0-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-1-0-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-1-0-security-issues">Security Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-1-0-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-0-3">3.0.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-3-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-3-deprecation-notes">Deprecation Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-3-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-0-2">3.0.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-2-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-2-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-2-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#relnotes-3-0-1">3.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-1-new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-1-upgrade-notes">Upgrade Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relnotes-3-0-1-bug-fixes">Bug Fixes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #41B6E6" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Zuul</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Release Notes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/releasenotes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="release-notes">
<h1>Release Notes<a class="headerlink" href="#release-notes" title="Link to this heading">ïƒ</a></h1>
<section id="in-development">
<span id="relnotes-in-development"></span><h2>In Development<a class="headerlink" href="#in-development" title="Link to this heading">ïƒ</a></h2>
<section id="new-features">
<span id="relnotes-in-development-new-features"></span><h3>New Features<a class="headerlink" href="#new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Jobs may now filter the non-required projects for their workspace.
If a job is known to only operate on a certain set of projects,
the <a class="reference internal" href="config/job.html#attr-job.include-projects" title="attr-job.include-projects"><span class="xref zuul zuul-attr">job.include-projects</span></a> and <a class="reference internal" href="config/job.html#attr-job.exclude-projects" title="attr-job.exclude-projects"><span class="xref zuul zuul-attr">job.exclude-projects</span></a>
attributes may be used to instruct Zuul to skip the workspace
preparation of projects that are not required by the job.</p></li>
</ul>
<ul class="simple">
<li><p>A new type of job, a â€œreporterâ€ job is available.  It allows users
to perform an action immediately after all pipeline reporters have
run for a queue item.  The configuration attribute,
<a class="reference internal" href="config/job.html#attr-job.type" title="attr-job.type"><span class="xref zuul zuul-attr">job.type</span></a> is used to enable the feature.</p></li>
</ul>
<ul>
<li><p>A change has been made to the branch selection routine for role
repo checkouts in jobs triggered by tags.</p>
<p>Previously, when checking out a role repo for a tag job, Zuul
would check out the first match of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>The project override-checkout</p></li>
<li><p>The job override-checkout</p></li>
<li><p>If the role project is the playbook project, then the playbook project branch</p></li>
<li><p>The role project default branch</p></li>
</ul>
</div></blockquote>
<p>It is now updated to the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>The project override-checkout</p></li>
<li><p>The job override-checkout</p></li>
<li><p>The playbook project branch</p></li>
<li><p>The role project default branch</p></li>
</ul>
</div></blockquote>
<p>This may be a change for certain jobs, but it is hoped that the
new sequence is more intuitive.</p>
</li>
</ul>
</section>
<section id="deprecation-notes">
<span id="relnotes-in-development-deprecation-notes"></span><h3>Deprecation Notes<a class="headerlink" href="#deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Zuul job variables <a class="reference internal" href="job-content.html#var-zuul.build_refs.project.src_dir" title="var-zuul.build_refs.project.src_dir"><span class="xref zuul zuul-var">zuul.build_refs.project.src_dir</span></a> and
<a class="reference internal" href="job-content.html#var-zuul.buildset_refs.project.src_dir" title="var-zuul.buildset_refs.project.src_dir"><span class="xref zuul zuul-var">zuul.buildset_refs.project.src_dir</span></a> were erroneously
supplied as <code class="docutils literal notranslate"><span class="pre">zuul.build_refs.src_dir</span></code> and
<code class="docutils literal notranslate"><span class="pre">zuul.buildset_refs.src_dir</span></code> respectively.  The correct
variables are now supplied, and any usages of the old, incorrect
variables should be replaced.  The old variables will be removed
in a future version of Zuul.</p></li>
</ul>
</section>
</section>
<section id="relnotes-13-1-1">
<span id="id1"></span><h2>13.1.1<a class="headerlink" href="#relnotes-13-1-1" title="Link to this heading">ïƒ</a></h2>
<section id="security-issues">
<span id="relnotes-13-1-1-security-issues"></span><h3>Security Issues<a class="headerlink" href="#security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A vulnerability in the zuul-web component could be used to obtain
the contents of any file accessible on the zuul-web server (or
within its container).  The vulnerability is believed to have been
present prior to version 4 of Zuul, and has been corrected as of
version 13.1.0.</p></li>
</ul>
</section>
</section>
<section id="relnotes-13-1-0">
<span id="id2"></span><h2>13.1.0<a class="headerlink" href="#relnotes-13-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-13-1-0-new-features">
<span id="id3"></span><h3>New Features<a class="headerlink" href="#relnotes-13-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new configuration setting, <code class="docutils literal notranslate"><span class="pre">replication_delay</span></code> has been added to
the Gerrit driver. Some Gerrit installations consist of multiple
servers with various strategies for keeping these servers in sync
(push replication, pull replication, multi-master, shared storage,
etc.).  Since there is currently no reliable method to determine
when all servers are updated, this setting may be used to
introduce a delay in event processing.  Zuul will ensure that at
least this amount of time (in seconds) has passed before
processing the corresponding event.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="drivers/github.html#attr-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check" title="attr-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check"><span class="xref zuul zuul-attr">pipeline.&lt;reporter&gt;.&lt;github source&gt;.check</span></a> attribute
now accepts the value of <a class="reference internal" href="drivers/github.html#value-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check.queued" title="value-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check.queued"><span class="xref zuul zuul-value">queued</span></a> to indicate that a pull request has been
enqueued into a pipeline.</p></li>
</ul>
<ul class="simple">
<li><p>Added support for the branch attribute in GitLab pipeline configurations
triggered by merge_request events. This enables pipelines to run only for
specific branches, providing precise control over branch-specific behavior.</p></li>
</ul>
<ul class="simple">
<li><p>A new type of job, an â€œinitializerâ€ job is available.  It allows
users to easily configure very large job graphs where all the jobs
in the graph have dependencies on a single (or small number) of
jobs.  The configuration attribute, <a class="reference internal" href="config/job.html#attr-job.type" title="attr-job.type"><span class="xref zuul zuul-attr">job.type</span></a> is available
to enable the feature.</p></li>
</ul>
</section>
<section id="relnotes-13-1-0-deprecation-notes">
<span id="id4"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-13-1-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">replication_timeout</span></code> setting for the Gerrit driver is now
ignored and should be removed from <code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code> files.  See the
new <code class="docutils literal notranslate"><span class="pre">replication_delay</span></code> setting for an alternative.</p></li>
</ul>
</section>
<section id="bug-fixes">
<span id="relnotes-13-1-0-bug-fixes"></span><h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul will now record a notice in the job-output.json for Ansible
playbooks that fail to do so themselves. This can happen if Ansible
crashes or is forced to stop by Zuul due to timeouts. The information
is minimal, but should give users an indication in the web ui console
of why certain plays are not recorded.</p></li>
</ul>
</section>
</section>
<section id="relnotes-13-0-1">
<span id="id5"></span><h2>13.0.1<a class="headerlink" href="#relnotes-13-0-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-13-0-1-security-issues">
<span id="id6"></span><h3>Security Issues<a class="headerlink" href="#relnotes-13-0-1-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Streaming log handling for the <code class="docutils literal notranslate"><span class="pre">win_command</span></code> and <code class="docutils literal notranslate"><span class="pre">win_shell</span></code>
modules did not correctly observe the <code class="docutils literal notranslate"><span class="pre">no_log</span></code> directive.
Previously Zuul would suppress output to the <code class="docutils literal notranslate"><span class="pre">job-output.json</span></code>
file, but not output to <code class="docutils literal notranslate"><span class="pre">job-output.txt</span></code> or live log streams.</p></li>
</ul>
</section>
<section id="relnotes-13-0-1-bug-fixes">
<span id="id7"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-13-0-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Zuul module for <cite>ansible.builtin.command</cite> and <cite>ansible.builtin.shell</cite>
now correctly handles the case when <cite>no_log: True</cite> is set. Previously
the task would deadlock if the process output filled the buffer.</p></li>
</ul>
</section>
</section>
<section id="relnotes-13-0-0">
<span id="id8"></span><h2>13.0.0<a class="headerlink" href="#relnotes-13-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-13-0-0-new-features">
<span id="id9"></span><h3>New Features<a class="headerlink" href="#relnotes-13-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible version 11 is now available.  The default Ansible version
is still 9, but version 11 may be selected by using
<a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="tenants.html#attr-authorization-rule.conditions" title="attr-authorization-rule.conditions"><span class="xref zuul zuul-attr">authorization-rule.conditions</span></a> attribute can now
include conditions for boolean claims.</p></li>
</ul>
<ul class="simple">
<li><p>Implemented support for the <cite>reject</cite> attribute in the GitLab driver.
It allows specifying Merge Requests which should not be enqueued into
a pipeline. The supported conditions cover the same Merge Requestsâ€™
parameters as available in the existing <cite>require</cite> attribute â€“ filtering
whether the Merge Request must (not) be open, merged, approved or contain
some labels.</p></li>
</ul>
<ul>
<li><p>If a change alters a file in an <a class="reference internal" href="config/job.html#attr-job.include-vars" title="attr-job.include-vars"><span class="xref zuul zuul-attr">job.include-vars</span></a>,
<a class="reference internal" href="config/job.html#attr-job.pre-run" title="attr-job.pre-run"><span class="xref zuul zuul-attr">job.pre-run</span></a>, <a class="reference internal" href="config/job.html#attr-job.run" title="attr-job.run"><span class="xref zuul zuul-attr">job.run</span></a>, or <a class="reference internal" href="config/job.html#attr-job.post-run" title="attr-job.post-run"><span class="xref zuul zuul-attr">job.post-run</span></a>
attribute of a job, then that job will run regardless of any file
matchers configured on the job (unless
<a class="reference internal" href="config/job.html#attr-job.match-on-config-updates" title="attr-job.match-on-config-updates"><span class="xref zuul zuul-attr">job.match-on-config-updates</span></a> is disabled).</p>
<p>This means that jobs with file matchers should no longer need to
explicitly list their playbooks or include-vars files in order to
run on changes to those files.</p>
</li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/nodeset.html#attr-nodeset.alternatives" title="attr-nodeset.alternatives"><span class="xref zuul zuul-attr">nodeset.alternatives</span></a> feature will now be used if
Ansible reports an unreachable host while running a job.  This can
be used to fall back to a more reliable nodeset if connectivity to
the nodeset is interrupted while running.</p></li>
</ul>
</section>
<section id="upgrade-notes">
<span id="relnotes-13-0-0-upgrade-notes"></span><h3>Upgrade Notes<a class="headerlink" href="#upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Support for Ansible version 8 has been removed.  Migrate any
existing jobs which rely on this version to Ansible version 9
before upgrading.</p></li>
</ul>
<ul class="simple">
<li><p>The previously deprecated <code class="docutils literal notranslate"><span class="pre">status-url</span></code> attribute of the Github
and Pagure reporter has been removed.</p></li>
</ul>
</section>
</section>
<section id="relnotes-12-1-0">
<span id="id10"></span><h2>12.1.0<a class="headerlink" href="#relnotes-12-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-12-1-0-new-features">
<span id="id11"></span><h3>New Features<a class="headerlink" href="#relnotes-12-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Added support for OpenID Connect (OIDC) compatible workload
identity federation.  When configured using <a class="reference internal" href="config/secret.html#attr-secret.oidc" title="attr-secret.oidc"><span class="xref zuul zuul-attr">secret.oidc</span></a>,
Zuul will generate an OIDC ID token and supply it to the job,
which can be used to authenticate to external services that trust
Zuul as an OIDC Identity Provider.  See <a class="reference internal" href="config/secret.html#secret"><span class="std std-ref">Secret</span></a> for more
information.</p></li>
</ul>
<ul>
<li><p>An option has been added to allow multiple timer-triggered queue
items for the same project-branch may now be enqueued if the
branch head has advanced.</p>
<p>Previously timer-triggered items only included information about
the project and branch, and therefore if a job on such an item ran
longer than the timer interval, Zuul would not enqueue a second
copy of the item because it would have been seen as identical to
the first (even if the underlying repo had changed.</p>
<p>If the new <code class="docutils literal notranslate"><span class="pre">dereference</span></code> attribute of the timer trigger is set,
Zuul will now include information about the branch head SHA of the
queue item, so that now if a timer trigger fires while a queue
item for the same project-branch is already in the queue, the
second item will be enqueued if the branch has changed since the
first item was enqueued.  If the SHA of the branch head is the
same for both items, the second item will not be enqueued.</p>
<p>When set, the <code class="docutils literal notranslate"><span class="pre">newrev</span></code> is now available in the jobâ€™s <code class="docutils literal notranslate"><span class="pre">zuul</span></code>
variables for such queue items.</p>
<p>The previous behavior remains the default, where derefence is not
set, and <code class="docutils literal notranslate"><span class="pre">newrev</span></code> is not available.</p>
</li>
</ul>
<ul>
<li><p>Most pipeline triggers now accept a <code class="docutils literal notranslate"><span class="pre">debug</span></code> attribute which may
be used to add a trigger to allow users to request extra debug
information about why a change may or may not have been enqueued
into a pipeline and why certain jobs ran or did not run.</p>
<p>For example, a site may add a trigger that matches the comment
â€œcheck debugâ€ to request an expanded report on a change.</p>
</li>
</ul>
<ul class="simple">
<li><p>Tenant administrators may now use the web UI or zuul-client
commands to pause and unpause event processing for a tenant.</p></li>
</ul>
</section>
</section>
<section id="relnotes-12-0-0">
<span id="id12"></span><h2>12.0.0<a class="headerlink" href="#relnotes-12-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-12-0-0-new-features">
<span id="id13"></span><h3>New Features<a class="headerlink" href="#relnotes-12-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Jobs now have the ability to set a <a class="reference internal" href="config/job.html#attr-job.pre-timeout" title="attr-job.pre-timeout"><span class="xref zuul zuul-attr">job.pre-timeout</span></a> value. This
timeout limits the amount of time that pre-run playbooks may consume.
This timeout counts against the normal <a class="reference internal" href="config/job.html#attr-job.timeout" title="attr-job.timeout"><span class="xref zuul zuul-attr">job.timeout</span></a> value and if
<a class="reference internal" href="config/job.html#attr-job.pre-timeout" title="attr-job.pre-timeout"><span class="xref zuul zuul-attr">job.pre-timeout</span></a> is unset then <a class="reference internal" href="config/job.html#attr-job.timeout" title="attr-job.timeout"><span class="xref zuul zuul-attr">job.timeout</span></a> is used.</p></li>
</ul>
<ul class="simple">
<li><p>The Zuul Executor has a new governor sensor that detects when the
Executor is nearing the limit on new processes. Running Zuul jobs
in the Executor requires a number of process including but not limited
to: Bubblewrap, Ansible, SSH, and SSH Agent. This new governor sensor
helps to avoid jobs failing due to an inability to fork one of these
many processes. Instead the Executor will pause its efforts until it
backs away from the process limit.</p></li>
</ul>
<ul class="simple">
<li><p>Live console log streaming is now available for <code class="docutils literal notranslate"><span class="pre">win_shell`</span> <span class="pre">and</span>
<span class="pre">``win_command</span></code> tasks on Windows hosts.</p></li>
</ul>
</section>
<section id="relnotes-12-0-0-upgrade-notes">
<span id="id14"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-12-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>When using Zuul with a MariaDB database, configure the
<a class="reference internal" href="configuration.html#attr-database.dburi" title="attr-database.dburi"><span class="xref zuul zuul-attr">database.dburi</span></a> setting to use the <code class="docutils literal notranslate"><span class="pre">mariadb</span></code> dialect with
<code class="docutils literal notranslate"><span class="pre">mariadb+pymysql://</span></code>.</p></li>
</ul>
<ul class="simple">
<li><p>The <cite>web.status_url</cite> configuration option is no longer supported and using
the <cite>status_url</cite>, <cite>change</cite> and <cite>changes</cite> string substitutions in pipeline
reporter messages will result in an error.</p></li>
</ul>
<ul>
<li><p>Due to the addition of live console log streaming for Windows
hosts, one of the following is necessary:</p>
<blockquote>
<div><ul class="simple">
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">zuul_win_console:</span></code> task to the first pre-run
playbook in a base job for Windows hosts, and allow
connections to port 19886 on the hosts.  This will allow for
automatic live log streaming in the same manner as under Posix
systems.</p></li>
<li><p>If the above is not practical on long-lived Windows hosts, set
<code class="docutils literal notranslate"><span class="pre">zuul_console_disabled:</span> <span class="pre">True</span></code> for those hosts.  This will
disable writing console output to spool files on the remote
hosts which would otherwise not be deleted.</p></li>
</ul>
</div></blockquote>
<p>Note that the Posix and Windows log streaming servers operate on
different ports (19885 and 19886 respectively) in order to allow
both to coexist on the same host.</p>
</li>
</ul>
</section>
<section id="relnotes-12-0-0-bug-fixes">
<span id="id15"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-12-0-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Job json API responses now include the <a class="reference internal" href="config/job.html#attr-job.post-timeout" title="attr-job.post-timeout"><span class="xref zuul zuul-attr">job.post-timeout</span></a>
configuration value for the job.</p></li>
</ul>
</section>
</section>
<section id="relnotes-11-3-0">
<span id="id16"></span><h2>11.3.0<a class="headerlink" href="#relnotes-11-3-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-11-3-0-new-features">
<span id="id17"></span><h3>New Features<a class="headerlink" href="#relnotes-11-3-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Individual attributes of jobs may now be marked as final so that
any attempt to override that attribute will cause an error.  See
<a class="reference internal" href="config/job.html#attr-job.attribute-control" title="attr-job.attribute-control"><span class="xref zuul zuul-attr">job.attribute-control</span></a>.</p></li>
</ul>
<ul>
<li><p>Zuul will now run any job that is a hard dependency of a job that
is set to run.</p>
<p>Previously if job B had a hard dependency on job A, and job A did
not run due to a file matcher, Zuul would report an error.  Now it
will instead ignore the file matcher on job A as long as job B is
to be run.</p>
<p>This will allow for simpler file matchers, more intuitive
behavior, and enable a new pattern for job graphs where job A
might have a file matcher that never matches, but job B will cause
it to run regardless.</p>
</li>
</ul>
<ul class="simple">
<li><p>A new options, <a class="reference internal" href="config/job.html#attr-job.workspace-checkout" title="attr-job.workspace-checkout"><span class="xref zuul zuul-attr">job.workspace-checkout</span></a> is available to
disable checkouts of repositories on the Zuul executor.  This may
be useful to save time or space when preparing large repositories
which will be unused on the executor.</p></li>
</ul>
</section>
<section id="relnotes-11-3-0-upgrade-notes">
<span id="id18"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-11-3-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Gerrit driver now has an additional option,
<a class="reference internal" href="drivers/gerrit.html#attr-pipeline.reporter.&lt;gerrit reporter&gt;.notify" title="attr-pipeline.reporter.&lt;gerrit reporter&gt;.notify"><span class="xref zuul zuul-attr">pipeline.reporter.&lt;gerrit reporter&gt;.notify</span></a> which
configures the notification handling of reviews as noted in the
<a class="reference external" href="https://gerrit-review.googlesource.com/Documentation/rest-api-changes.html#review-input">Gerrit changes API Docs</a>.
used to suppress reporting job results as review comments.  Due to
the configuration syntax for Gerrit reporters, the word â€œnotifyâ€
may no longer be used as a review label.</p></li>
</ul>
<ul class="simple">
<li><p>The maximum combined stdout and stderr output from a single
Ansible task has been limited to 1GiB.  In the unlikely event that
an existing job legitimately exceeds this limit, a new executor
configuration option, <a class="reference internal" href="configuration.html#attr-executor.output_max_bytes" title="attr-executor.output_max_bytes"><span class="xref zuul zuul-attr">executor.output_max_bytes</span></a>, has been
provided to temporarily increase the limit.  This option is likely
to be removed in a future version of Zuul.  To avoid this issue,
Ansible tasks with large volumes of output should be adjusted to
redirect that output to a file which is separately collected and
processed.</p></li>
</ul>
<ul class="simple">
<li><p>Schedulers will no longer trigger a smart-reconfig after startup and with
that also not pick up modifications to the local tenant config and system
attributes in the zuul config file with a restart of a scheduler. This
means that changes to the tenant config or the zuul config always require
an explicit (smart) reconfiguration.</p></li>
</ul>
</section>
</section>
<section id="relnotes-11-2-0">
<span id="id19"></span><h2>11.2.0<a class="headerlink" href="#relnotes-11-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-11-2-0-new-features">
<span id="id20"></span><h3>New Features<a class="headerlink" href="#relnotes-11-2-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/project.html#attr-project.&lt;pipeline&gt;.fail-fast" title="attr-project.&lt;pipeline&gt;.fail-fast"><span class="xref zuul zuul-attr">project.&lt;pipeline&gt;.fail-fast</span></a> attribute now also applies to node failures
of voting jobs.</p></li>
</ul>
<ul class="simple">
<li><p>Jobs may now read variables from an in-repo file using the
<a class="reference internal" href="config/job.html#attr-job.include-vars" title="attr-job.include-vars"><span class="xref zuul zuul-attr">job.include-vars</span></a> job attribute.  This allows jobs with
many (or frequently changing) variables to load their variables
from a file in order to reduce the complexity of Zuul
configuration.  Because these files are read when the job is
executed, changes to their values will not cause Zuul tenant
reconfigurations.</p></li>
</ul>
</section>
<section id="relnotes-11-2-0-upgrade-notes">
<span id="id21"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-11-2-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible version 8 is now deprecated in Zuul since it is
unmaintaned, and it will be removed from a future version of
Zuul. Ansible 9 is now the default version in Zuul.</p></li>
</ul>
<ul class="simple">
<li><p>Github Enterprise versions older than 2.21 are not supported.</p></li>
</ul>
<ul class="simple">
<li><p>Include-vars behavior has changed when running on tags.
Previously, the use of <a class="reference internal" href="config/job.html#attr-job.include-vars" title="attr-job.include-vars"><span class="xref zuul zuul-attr">job.include-vars</span></a> in a job that ran
on a ref (i.e., tag or branch rather than a change) would use
either the override-checkout or the project default branch to
source the variables file.  In the case that the job is running on
a ref of the include-vars project, it will now source the file
from the ref checkout itself; this is expected to be more useful
and intuitive for users.  To restore the previous behavior, the
<a class="reference internal" href="config/job.html#attr-job.include-vars.use-ref" title="attr-job.include-vars.use-ref"><span class="xref zuul zuul-attr">job.include-vars.use-ref</span></a> may be used.</p></li>
</ul>
</section>
</section>
<section id="relnotes-11-1-0">
<span id="id22"></span><h2>11.1.0<a class="headerlink" href="#relnotes-11-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-11-1-0-new-features">
<span id="id23"></span><h3>New Features<a class="headerlink" href="#relnotes-11-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Untrusted projects may now be allowed (via explicit configuration
in the tenant config file) to configure jobs that are run by
certain specified other untrusted projects.  This allows a
â€œsuper-projectâ€ to configure the jobs run by its â€œsub-projectsâ€.</p>
<p>See <a class="reference internal" href="tenants.html#attr-tenant.untrusted-projects.&lt;project&gt;.configure-projects" title="attr-tenant.untrusted-projects.&lt;project&gt;.configure-projects"><span class="xref zuul zuul-attr">tenant.untrusted-projects.&lt;project&gt;.configure-projects</span></a>
for details.</p>
</li>
</ul>
<ul class="simple">
<li><p>Project stanzas may now include an explicit branch configuration
via the <a class="reference internal" href="config/project.html#attr-project.branches" title="attr-project.branches"><span class="xref zuul zuul-attr">project.branches</span></a> attribute.  This enables projects
that configure other projects (whether the configuring projects
are trusted or untrusted) to better control what jobs run on certain
branches.</p></li>
</ul>
<ul class="simple">
<li><p>The tenant configuration may now specify the maximum number of
changes that should be enqueued in a pipeline in order to protect
Zuul from resource exhaustion.  This is not necessary in most
circumstances, so the default remains no limit.</p></li>
</ul>
<ul>
<li><p>Several job attributes may now have their inheritance behavior
changed through â€œoverride controlâ€.  This introduces two new YAML
tags, <code class="docutils literal notranslate"><span class="pre">!override</span></code> and <code class="docutils literal notranslate"><span class="pre">!inherit</span></code> which may be used to
explicitly specify whether certain job attributes should inherit
values from parent jobs or override them.</p>
<p>See the general job documentation at <a class="reference internal" href="config/job.html#job"><span class="std std-ref">Job</span></a> and also
documentation for the following individual attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="config/job.html#attr-job.dependencies" title="attr-job.dependencies"><span class="xref zuul zuul-attr">job.dependencies</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.extra-vars" title="attr-job.extra-vars"><span class="xref zuul zuul-attr">job.extra-vars</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.failure-output" title="attr-job.failure-output"><span class="xref zuul zuul-attr">job.failure-output</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.files" title="attr-job.files"><span class="xref zuul zuul-attr">job.files</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.group-vars" title="attr-job.group-vars"><span class="xref zuul zuul-attr">job.group-vars</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.host-vars" title="attr-job.host-vars"><span class="xref zuul zuul-attr">job.host-vars</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.irrelevant-files" title="attr-job.irrelevant-files"><span class="xref zuul zuul-attr">job.irrelevant-files</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.provides" title="attr-job.provides"><span class="xref zuul zuul-attr">job.provides</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.required-projects" title="attr-job.required-projects"><span class="xref zuul zuul-attr">job.required-projects</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.requires" title="attr-job.requires"><span class="xref zuul zuul-attr">job.requires</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.tags" title="attr-job.tags"><span class="xref zuul zuul-attr">job.tags</span></a></p></li>
<li><p><a class="reference internal" href="config/job.html#attr-job.vars" title="attr-job.vars"><span class="xref zuul zuul-attr">job.vars</span></a></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="relnotes-11-1-0-deprecation-notes">
<span id="id24"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-11-1-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">status-url</span></code> attribute of the Github and Pagure reporter is
deprecated. Reporters will currently ignore this setting and automatically
use the best URL for information about the item instead.</p></li>
</ul>
</section>
<section id="relnotes-11-1-0-bug-fixes">
<span id="id25"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-11-1-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The zuul_return Ansible plugin will now validate the schema of the
data supplied to it; particularly the data for warnings and
artifacts.  Previously the behavior on incorrectly structured data
was undefined and ranged from being silently ignorred to causing
exceptions in pipeline processing.  Data format errors will now be
detected while the job is running and will cause Ansible errors
and (if not ignored) job failures.</p></li>
</ul>
</section>
</section>
<section id="relnotes-11-0-1">
<span id="id26"></span><h2>11.0.1<a class="headerlink" href="#relnotes-11-0-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-11-0-1-bug-fixes">
<span id="id27"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-11-0-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The recent security fix to run cleanup-run playbooks interleaved
with post-run playbooks incorrectly caused jobs to retry if a
cleanup playbook encountered an unreachable host.  This has been
corrected and a cleanup playbook will never cause a job to retry
if it encounters an unreachable host.</p></li>
</ul>
</section>
</section>
<section id="relnotes-11-0-0">
<span id="id28"></span><h2>11.0.0<a class="headerlink" href="#relnotes-11-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-11-0-0-upgrade-notes">
<span id="id29"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-11-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Existing cleanup-run playbooks are now executed during the
post-run phase of the job.  This is a change in behavior that will
run playbooks in a different order than before.  Previously all
cleanup-run playbooks would run after all post-run playbooks.
Zuul will now run post-run, then cleanup-run playbooks at each
level of the inheritance hierarchy (interleaving post-run and
cleanup-run playbooks from different levels of the hierarchy).</p>
<p>Note that this may have an impact on some jobs.  In particular, be
on the lookout for jobs with post-run playbooks that assume that
other, more-nested, post-run playbooks always run (for example, log
collection playbooks).  Ensure that log collection happens no more
nested than at the job level where logs are created.  Also be aware
of cleanup-run playbooks that remove artifacts required by post-run
playbooks.  Since more-nested cleanup-run playbooks can now run
before less-nested post-run playbooks, it may be necessary to move
cleanup actions to less-nested levels.</p>
<p>To facilitate upgrades, Zuul will ignore the result of cleanup-run
playbooks when specified using the old syntax, but once migrated
to the new syntax using post-run, these playbooks may cause a
POST_FAILURE just like any other post-run playbook.</p>
</li>
</ul>
</section>
<section id="relnotes-11-0-0-deprecation-notes">
<span id="id30"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-11-0-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/job.html#attr-job.cleanup-run" title="attr-job.cleanup-run"><span class="xref zuul zuul-attr">job.cleanup-run</span></a> attribute is deprecated.  Instead,
list cleanup playbooks under <a class="reference internal" href="config/job.html#attr-job.post-run" title="attr-job.post-run"><span class="xref zuul zuul-attr">job.post-run</span></a> and set the
<a class="reference internal" href="config/job.html#attr-job.post-run.cleanup" title="attr-job.post-run.cleanup"><span class="xref zuul zuul-attr">job.post-run.cleanup</span></a> flag.</p></li>
</ul>
</section>
<section id="relnotes-11-0-0-security-issues">
<span id="id31"></span><h3>Security Issues<a class="headerlink" href="#relnotes-11-0-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>A vulnerability was discovered which could potentially allow jobs
with a malicious cleanup-run playbook to access the credentials of
their parents or the nodepool ssh key.</p>
<p>To protect against this, cleanup-run playbooks are now executed
during the post-run phase of the job, and Zuul will only execute
the post-run playbooks corresponding to the inheritance level of
previously-executed pre-run playbooks.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-10-2-0">
<span id="id32"></span><h2>10.2.0<a class="headerlink" href="#relnotes-10-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-10-2-0-new-features">
<span id="id33"></span><h3>New Features<a class="headerlink" href="#relnotes-10-2-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new job variable, <a class="reference internal" href="job-content.html#var-zuul.build_refs" title="var-zuul.build_refs"><span class="xref zuul zuul-var">zuul.build_refs</span></a>, is available to
indicate for which particular refs in a circular dependency queue
item a deduplicated job is being run.</p></li>
</ul>
<ul class="simple">
<li><p>The scheduler now accepts the argument <code class="docutils literal notranslate"><span class="pre">--disable-pipelines</span></code>
which will instruct it to discard all pipeline events.  This
facilitaties the creation of a system with a running Zuul config
that does not start any jobs or make any reports.</p></li>
</ul>
<ul class="simple">
<li><p>The gerrit driver now supports a new synthetic trigger,
<a class="reference internal" href="drivers/gerrit.html#attr-pipeline.trigger.&lt;gerrit source&gt;.approval-change" title="attr-pipeline.trigger.&lt;gerrit source&gt;.approval-change"><span class="xref zuul zuul-attr">pipeline.trigger.&lt;gerrit source&gt;.approval-change</span></a>. This is
similar to <cite>approval</cite>, but only triggers when the value of the
approval changes instead of simply being present.</p></li>
</ul>
<ul class="simple">
<li><p>gitlab driver now handles the merge request â€˜closeâ€™ action.</p></li>
</ul>
<ul class="simple">
<li><p>The GitHub driver now supports excluding locked (read-only) branches
with the <cite>exclude-locked-branches</cite> tenant configuration setting.</p></li>
</ul>
</section>
<section id="relnotes-10-2-0-deprecation-notes">
<span id="id34"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-10-2-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The replacement fields <code class="docutils literal notranslate"><span class="pre">change</span></code>, <code class="docutils literal notranslate"><span class="pre">changes</span></code>, and <code class="docutils literal notranslate"><span class="pre">status_url</span></code>
available in some pipeline reporter configurations are deprecated.
Use <code class="docutils literal notranslate"><span class="pre">item_url</span></code>, which is automatically the best URL for
information about the item instead.</p></li>
</ul>
</section>
<section id="relnotes-10-2-0-bug-fixes">
<span id="id35"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-10-2-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The pseudo-file â€œ/COMMIT_MSGâ€ is not considered at all when
determining whether a change matches files or irrelevant-files
matchers.  It was previously not considered in most cases, but in
the case of a negated regular expression in an irrelevant-files
stanza, it could still have an effect.  This has been corrected
and any regexes that explicitly mention â€œ/COMMIT_MSGâ€ may remove
it.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/job.html#attr-job.files" title="attr-job.files"><span class="xref zuul zuul-attr">job.files</span></a> and <a class="reference internal" href="config/job.html#attr-job.irrelevant-files" title="attr-job.irrelevant-files"><span class="xref zuul zuul-attr">job.irrelevant-files</span></a> attributes
now fully support the new <a class="reference internal" href="project-config.html#regex"><span class="std std-ref">regular expression</span></a>
syntax, including negation.</p></li>
</ul>
</section>
<section id="other-notes">
<span id="relnotes-10-2-0-other-notes"></span><h3>Other Notes<a class="headerlink" href="#other-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now checks the submitWholeTopic setting in Gerrit when it
starts.  If this setting is changed, or Gerrit is upgraded, all
running Zuul schedulers should be restarted in order to see the
change.</p></li>
</ul>
</section>
</section>
<section id="relnotes-10-1-0">
<span id="id36"></span><h2>10.1.0<a class="headerlink" href="#relnotes-10-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-10-1-0-new-features">
<span id="id37"></span><h3>New Features<a class="headerlink" href="#relnotes-10-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The executor now monitors filesystem inode usage as well as
storage usage.  The threshold for accepting jobs can be configured
independenty with <a class="reference internal" href="configuration.html#attr-executor.min_avail_inodes" title="attr-executor.min_avail_inodes"><span class="xref zuul zuul-attr">executor.min_avail_inodes</span></a>.  Inode
usage is also reported separately with the
<a class="reference internal" href="monitoring.html#stat-zuul.executor.&lt;executor&gt;.pct_used_inodes" title="stat-zuul.executor.&lt;executor&gt;.pct_used_inodes"><span class="xref zuul zuul-stat">zuul.executor.&lt;executor&gt;.pct_used_inodes</span></a> metric.</p></li>
</ul>
<ul class="simple">
<li><p>The topic of a change (if any) is now reported in the <a class="reference internal" href="job-content.html#var-zuul.topic" title="var-zuul.topic"><span class="xref zuul zuul-var">zuul.topic</span></a>
job variable</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports substring searches on the Builds and Buildsets pages on
its web UI. This is supported by placing asterisk (*) placeholders anywhere
in the search term, representing any characters. This is enabled for job
name, branch, project, and pipeline filters.</p></li>
</ul>
<ul class="simple">
<li><p>Information about all of the changes (refs) associated with a
circular dependency queue item is now available in the
<a class="reference internal" href="job-content.html#var-zuul.buildset_refs" title="var-zuul.buildset_refs"><span class="xref zuul zuul-var">zuul.buildset_refs</span></a> variable.</p></li>
</ul>
<ul class="simple">
<li><p>When a remote host in a job is found to be unreachable, Zuul will
automatically add it to a new group named <cite>zuul_unreachable</cite> for
all subsequent playbooks.  This can be used to avoid running
certain post-run steps on hosts already known to be unreachable.</p></li>
</ul>
</section>
<section id="relnotes-10-1-0-deprecation-notes">
<span id="id38"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-10-1-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Specifying <a class="reference internal" href="drivers/github.html#attr-pipeline.trigger.&lt;github source&gt;.event" title="attr-pipeline.trigger.&lt;github source&gt;.event"><span class="xref zuul zuul-attr">pipeline.trigger.&lt;github source&gt;.event</span></a> as a
list is deprecated.  Update any instances to specify multiple
triggers each with a single associated event instead.</p></li>
</ul>
<ul class="simple">
<li><p>The use of <a class="reference internal" href="drivers/github.html#value-pipeline.trigger.&lt;github source&gt;.action.requested" title="value-pipeline.trigger.&lt;github source&gt;.action.requested"><span class="xref zuul zuul-value">requested</span></a> has been deprecated for some time
already.  Its use will now produce a configuration syntax warning,
and in a future version of Zuul, an error.</p></li>
</ul>
<ul class="simple">
<li><p>The use of <a class="reference internal" href="drivers/github.html#attr-pipeline.trigger.&lt;github source&gt;.require-status" title="attr-pipeline.trigger.&lt;github source&gt;.require-status"><span class="xref zuul zuul-attr">pipeline.trigger.&lt;github source&gt;.require-status</span></a>
has been deprecated for some already.  Its use will now produce a
configuration syntax warning, and in a future version of Zuul, an
error.</p></li>
</ul>
</section>
<section id="relnotes-10-1-0-bug-fixes">
<span id="id39"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-10-1-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Fixes a bug where Zuul would incorrectly enqueue a Gerrit change that could
not be submitted due to missing labels in a dependent pipeline.</p>
<p>Specifically, if change had a score for any label that would provided by
Zuul, all other missing labels would be incorrectly ignored.</p>
</li>
</ul>
<ul>
<li><p>Monitoring stats for per-branch queues are now distinct from
shared-branch queues.  Shared branch queue stats are at:</p>
<blockquote>
<div><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue</span></a>.</p>
</div></blockquote>
<p>Per-branch queue stats are now at:</p>
<blockquote>
<div><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue.&lt;queue&gt;.branch" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue.&lt;queue&gt;.branch"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue.&lt;queue&gt;.branch</span></a>.</p>
</div></blockquote>
<p>Prior to this change, per-branch queue stats for one branch queue
may have overwritten the stats from another queue resulting in
incomplete or incorrect data.</p>
</li>
</ul>
<ul class="simple">
<li><p>In 10.0.0, supercedent pipelines could raise exceptions when
enqueing changes that were part of a dependency cycle (regardless
of whether the changes merged or not).  This has been corrected,
and the documentation has been updated to clarify that circular
dependencies are ignored in supercedent pipelines.</p></li>
</ul>
<ul class="simple">
<li><p>The value of <a class="reference internal" href="job-content.html#var-zuul.items.project.src_dir" title="var-zuul.items.project.src_dir"><span class="xref zuul zuul-var">zuul.items.project.src_dir</span></a> did not take into
account the jobâ€™s workspace scheme and was always constructed
using the golang scheme.  That has been corrected so that it now
reflects the jobâ€™s scheme.</p></li>
</ul>
</section>
</section>
<section id="relnotes-10-0-0">
<span id="id40"></span><h2>10.0.0<a class="headerlink" href="#relnotes-10-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="prelude">
<span id="relnotes-10-0-0-prelude"></span><h3>Prelude<a class="headerlink" href="#prelude" title="Link to this heading">ïƒ</a></h3>
<p>This release includes a significant refactoring of the internal handling of circular dependencies.  This requires some changes for consumers of Zuul output (via some reporters or the REST API) and requires special care during upgrades.  In the case of a dependency cycle between changes, Zuul pipeline queue items will now represent multiple changes rather than a single change.  This allows for more intuitive behavior and information display as well as better handling of job deduplication.</p>
</section>
<section id="relnotes-10-0-0-new-features">
<span id="id41"></span><h3>New Features<a class="headerlink" href="#relnotes-10-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible version 9 is now available.  The default Ansible version
is still 8, but version 9 may be selected by using
<a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a>.</p></li>
</ul>
</section>
<section id="relnotes-10-0-0-upgrade-notes">
<span id="id42"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-10-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Support for Ansible version 6 has been removed.  Migrate any
existing jobs which rely on this version to Ansible version 8
before upgrading.</p></li>
</ul>
<ul>
<li><p>Zuul can not be upgraded to this version while running.  To upgrade:</p>
<blockquote>
<div><ul>
<li><p>Stop all Zuul components running the previous version
(stopping Nodepool is optional).</p></li>
<li><p>On a scheduler machine or image (with the scheduler stopped)
and the new version of Zuul, run the command:</p>
<blockquote>
<div><p>zuul-admin delete-state â€“keep-config-cache</p>
</div></blockquote>
<p>This will delete all of the pipeline state from ZooKeeper, but
it will retain the configuration cache (which contains all of
the project configuration from zuul.yaml files).  This will
speed up the startup process.</p>
</li>
<li><p>Start all Zuul components on the new version.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<ul class="simple">
<li><p>The MQTT reporter now includes a job_uuid field to correlate retry builds with final builds.</p></li>
</ul>
</section>
<section id="relnotes-10-0-0-deprecation-notes">
<span id="id43"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-10-0-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The syntax of string substitution in pipeline reporter messages
has changed.  Since queue items may now represent more than one
change, the <cite>{change}</cite> substitution in messages is deprecated and
will be removed in a future version.  To maintain backwards
compatability, it currently refers to the arbitrary first change
in the list of changes for a queue item.  Please upgrade your
usage to use the new <cite>{changes}</cite> substitution which is a list.</p></li>
</ul>
<ul class="simple">
<li><p>The syntax of string substitution in SMTP reporter messages
has changed.  Since queue items may now represent more than one
change, the <cite>{change}</cite> substitution in messages is deprecated and
will be removed in a future version.  To maintain backwards
compatability, it currently refers to the arbitrary first change
in the list of changes for a queue item.  Please upgrade your
usage to use the new <cite>{changes}</cite> substitution which is a list.</p></li>
</ul>
<ul class="simple">
<li><p>The MQTT and Elasticsearch reporters now include a <cite>changes</cite> field
which is a list of dictionaries representing the changes included
in an item.  The correspending scalar fields describing what was
previously the only change associated with an item remain for
backwards compatability and refer to the arbitrary first change is
the list of changes for a queue item.  These scalar values will be
removed in a future version of Zuul.  Please upgrade yur usage to
use the new <cite>changes</cite> entries.</p></li>
</ul>
<ul class="simple">
<li><p>The <cite>zuul.bundle_id</cite> variable is deprecated and will be removed in
a future version.  For backwards compatability, it currently
duplicates the item uuid.</p></li>
</ul>
</section>
</section>
<section id="relnotes-9-5-0">
<span id="id44"></span><h2>9.5.0<a class="headerlink" href="#relnotes-9-5-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-9-5-0-upgrade-notes">
<span id="id45"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-9-5-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible versions 6 is now deprecated in Zuul since it is
unmaintaned, and it will be removed from a future version of Zuul.
Ansible 8 is now the default version in Zuul.</p></li>
</ul>
</section>
</section>
<section id="relnotes-9-4-0">
<span id="id46"></span><h2>9.4.0<a class="headerlink" href="#relnotes-9-4-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-9-4-0-new-features">
<span id="id47"></span><h3>New Features<a class="headerlink" href="#relnotes-9-4-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Gerrit driver now supports the <code class="docutils literal notranslate"><span class="pre">hashtags-changed</span></code> event as a
trigger as well as using hashtags as trigger or pipeline
requirements.</p></li>
</ul>
</section>
<section id="relnotes-9-4-0-bug-fixes">
<span id="id48"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-9-4-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The MQTT reporter now sets the log_url for retried builds correctly.
The link to the build result page is reported in a dedicated web_url
field.</p></li>
</ul>
</section>
</section>
<section id="relnotes-9-3-0">
<span id="id49"></span><h2>9.3.0<a class="headerlink" href="#relnotes-9-3-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-9-3-0-new-features">
<span id="id50"></span><h3>New Features<a class="headerlink" href="#relnotes-9-3-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Monitoring stats for builds are now emitted for more results.
Previously they were emitted for some build results such as
<cite>SUCCESS</cite>, <cite>FAILURE</cite>, and <cite>ERROR</cite> but now include <cite>NODE_FAILURE</cite>
and other result values.</p></li>
</ul>
<ul class="simple">
<li><p>Support for using Google Cloud Pub/Sub as an event source has been
added to the Gerrit driver.</p></li>
</ul>
</section>
<section id="relnotes-9-3-0-upgrade-notes">
<span id="id51"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-9-3-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>A significant SQL schema migration is included which requires
extra care when upgrading.</p>
<p>It is recommended to make a database backup before upgrading in
case of problems.  It is also recommended to test the migration
with a copy of the database in a development environment first in
order to ascertain expected runtime and detect any data integrity
problems early.</p>
<p>Zuul is unable to operate as normal during the schema upgrade.
The following procedure is recommended:</p>
<blockquote>
<div><ul class="simple">
<li><p>Perform a database backup</p></li>
<li><p>Stop all Zuul components</p></li>
<li><p>Start one scheduler and wait for it to complete the migration
and initialization</p></li>
<li><p>Start the rest of Zuul</p></li>
</ul>
</div></blockquote>
<p>If the migration fails and the backing database is PostgreSQL, the
migration will be rolled back and Zuul may be restarted on the
previous version.  If the backing database is MySQL, if the error
happens early enough the migration may be rolled back (look for
â€œEarly error in schema migration, rolling backâ€ in scheduler
logs).  If an error happens late in the migration, manual
intervention may be required.</p>
</li>
</ul>
<ul class="simple">
<li><p>Zuulâ€™s GitHub driver has updated the default merge mode to better align
with GitHubâ€™s default behavior. This change requires Git 2.33.0 or newer
unless you explicitly override Zuulâ€™s default merge mode for a project.
Additionally, if you arenâ€™t overriding the merge mode then the merge
algorithm chosen may change depending on your Git and GitHub versions.
This is expected to provide more deterministic results.</p></li>
</ul>
<ul class="simple">
<li><p>Input data from a parent job (return data or artifacts) no longer
influences whether a child job can be deduplicated or not.</p></li>
</ul>
</section>
<section id="relnotes-9-3-0-bug-fixes">
<span id="id52"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-9-3-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Correct the behavior of the timer driver to not trigger for branches
configured as always-dynamic.</p></li>
</ul>
</section>
</section>
<section id="relnotes-9-2-0">
<span id="id53"></span><h2>9.2.0<a class="headerlink" href="#relnotes-9-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-9-2-0-new-features">
<span id="id54"></span><h3>New Features<a class="headerlink" href="#relnotes-9-2-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Gerrit and GitHub repositories will now automatically use the
default branch as specified in their respective systems as the
projectâ€™s default branch.  This may still be overridden in zuul
using the <a class="reference internal" href="config/project.html#attr-project.default-branch" title="attr-project.default-branch"><span class="xref zuul zuul-attr">project.default-branch</span></a> setting.</p></li>
</ul>
<ul class="simple">
<li><p>A new job configuration option, <a class="reference internal" href="config/job.html#attr-job.failure-output" title="attr-job.failure-output"><span class="xref zuul zuul-attr">job.failure-output</span></a>, has
been added to allow users to specify regular expressions which,
when seen in the streaming job output, will trigger the early
failure detection in Zuul so that dependent pipeline gate resets
may begin before the completion of a failed job.</p></li>
</ul>
<ul class="simple">
<li><p>Two new settings are available to protect Zuul from resource
exhaustion from processing too many dependencies among changes.
The Gerrit driver supports setting <a class="reference internal" href="drivers/gerrit.html#attr-&lt;gerrit connection&gt;.max_dependencies" title="attr-&lt;gerrit connection&gt;.max_dependencies"><span class="xref zuul zuul-attr">&lt;gerrit
connection&gt;.max_dependencies</span></a> to limit internal dependency
processing during event processing, and a new tenant setting of
<a class="reference internal" href="tenants.html#attr-tenant.max-dependencies" title="attr-tenant.max-dependencies"><span class="xref zuul zuul-attr">tenant.max-dependencies</span></a> is available to limit tenant
processing while enqueing changes in pipelines.</p></li>
</ul>
<ul class="simple">
<li><p>Additional pipeline stats for individual project queues are
available at
<a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.queue</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Configuration options which accept <a class="reference internal" href="project-config.html#regex"><span class="std std-ref">regular expressions</span></a> have been updated to accept a new syntax which allows
specifying that the regular expression should be treated as a
negative match.</p></li>
</ul>
<ul class="simple">
<li><p>An upper limit on the dependent pipeline actionable window can now
be specified using the <a class="reference internal" href="config/pipeline.html#attr-pipeline.window-ceiling" title="attr-pipeline.window-ceiling"><span class="xref zuul zuul-attr">pipeline.window-ceiling</span></a> setting.
The default of no upper limit remains.</p></li>
</ul>
</section>
<section id="relnotes-9-2-0-upgrade-notes">
<span id="id55"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-9-2-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>If using the GitHub driver in app mode, you should consider
also generating and adding an <code class="docutils literal notranslate"><span class="pre">api_token</span></code>.  The option is not
strictly required but will increase rate limits and add
functionality for projects the app is not installed in.</p></li>
</ul>
</section>
<section id="relnotes-9-2-0-deprecation-notes">
<span id="id56"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-9-2-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Regular expressions using Python syntax are deprecated in favor of
RE2 syntax instead, for additional speed and safety.  Negative
lookahead assertions may be replaced using the <cite>negate</cite> keyword.
See <a class="reference internal" href="project-config.html#regex"><span class="std std-ref">Regular Expressions</span></a> for more information.</p>
<p>If Zuul detects a regular expression using Python syntax that is not
supported by RE2, it will register a configuration syntax warning.
These may be viewed on the configuration errors page in the web
interface.</p>
<p>A future version of Zuul will remove Python regex support
completely and these warnings will become errors.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-9-1-0">
<span id="id57"></span><h2>9.1.0<a class="headerlink" href="#relnotes-9-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-9-1-0-new-features">
<span id="id58"></span><h3>New Features<a class="headerlink" href="#relnotes-9-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new job attribute, <cite>ansible-split-streams</cite> has been added to
instruct Zuul to keep stdout and stderr separate when running
Ansible command tasks.</p></li>
</ul>
</section>
<section id="relnotes-9-1-0-deprecation-notes">
<span id="id59"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-9-1-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Zuul is changing the behavior of its customized Ansible command
module to match the standard Ansible behavior.</p>
<p>The previous behavior and current default is to combine stdout and
stderr streams.  In a later Zuul release, the
<cite>ansible-split-streams</cite> default value will change from <cite>false</cite> to
<cite>true</cite> in order to match the standard Ansible behavior and keep
the streams separate.  A further Zuul release will remove the
option altogether.</p>
</li>
</ul>
</section>
<section id="relnotes-9-1-0-bug-fixes">
<span id="id60"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-9-1-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible task failures in block/rescue stanzas could cause Zuul to
erroneously trigger early-failure behavior for the build, which
could result in inconsistent behavior in a dependent pipeline.
Task failures in Ansible blocks are no longer considered for early
failure detection, and if a build encounters an early failure, it
will cause the build result to be reported as a failure in all
cases.</p></li>
</ul>
</section>
</section>
<section id="relnotes-9-0-0">
<span id="id61"></span><h2>9.0.0<a class="headerlink" href="#relnotes-9-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-9-0-0-new-features">
<span id="id62"></span><h3>New Features<a class="headerlink" href="#relnotes-9-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible version 8 is now available.  The default Ansible version
is still 6, but version 8 may be selected by using
<a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Support for using AWS Kinesis as an event source has been added to the Gerrit driver.</p></li>
</ul>
<ul class="simple">
<li><p>A new job variable, <cite>zuul.commit_id</cite> has been added.  This
provides a stable identifier for all types of pipeline queue items
(changes, refs, tags, or branches) from any driver to identify the
commit which triggered the queue item.  This can be used to
interface with external systems which identify changes by commit.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul will now begin the process of aborting following jobs and
re-ordering pipelines immediately after the first Ansible task
fails.</p></li>
</ul>
<ul class="simple">
<li><p>Support for using Kafka as an event source has been added to the Gerrit driver.</p></li>
</ul>
<ul class="simple">
<li><p>A new tenant project configuration option,
<cite>implied-branch-matchers</cite> has been added.  This is useful in
conjunction with the branch exclusion options which may cause Zuul
to change behavior as the set of load branches switches between
one and more than one.  The operator can fix the appropriate
behavior in the tenant config file rather than relying on the
heuristic in these cases.</p></li>
</ul>
<ul class="simple">
<li><p>A new Zuul job variable <a class="reference internal" href="job-content.html#var-zuul_will_retry" title="var-zuul_will_retry"><span class="xref zuul zuul-var">zuul_will_retry</span></a> available in post and
cleanup playbooks, which indicates whether the current job will be retried.</p></li>
</ul>
</section>
<section id="relnotes-9-0-0-upgrade-notes">
<span id="id63"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-9-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Python 3.11 is now the only version of Python with which Zuul is
tested.</p></li>
</ul>
</section>
<section id="relnotes-9-0-0-bug-fixes">
<span id="id64"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-9-0-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Duplicate <a class="reference internal" href="config/queue.html#attr-queue" title="attr-queue"><span class="xref zuul zuul-attr">queue</span></a> configuration items are now permitted on
multiple branches of the same project as long as their
configuration is identical.  Similar to secrets and semaphores,
this can help avoid spurious configuration errors when branching a
project with in-repo configuration.</p></li>
</ul>
</section>
</section>
<section id="relnotes-8-3-1">
<span id="id65"></span><h2>8.3.1<a class="headerlink" href="#relnotes-8-3-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-8-3-1-security-issues">
<span id="id66"></span><h3>Security Issues<a class="headerlink" href="#relnotes-8-3-1-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul will execute bwrap with â€“disable-userns set if two conditions
hold. 1) The version of bwrap is 0.8.0 or newer and 2) User namespaces
are enabled in the zuul-executor runtime context. Doing so will
prevent the zuul-executor bwrap runtimes from creating additional
user namespaces which fortifies Zuulâ€™s security position.</p></li>
</ul>
</section>
</section>
<section id="relnotes-8-3-0">
<span id="id67"></span><h2>8.3.0<a class="headerlink" href="#relnotes-8-3-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-8-3-0-new-features">
<span id="id68"></span><h3>New Features<a class="headerlink" href="#relnotes-8-3-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Added a new dark theme for the Zuul web interface.</p></li>
</ul>
<ul class="simple">
<li><p>Added theme selection for the Zuul web interface. The default theme is set
to Auto which means your system/browsers preference determines if the Light
or Dark theme should be used. Either can be explicitly set in the settings
for the web interface by clicking the cogs in the top right.</p></li>
</ul>
<ul>
<li><p>Gerrit pipeline triggers now support embedded require and reject
filters in order to match.  Any conditions set for the pipeline in
require or reject filters may also be set for event trigger
filters.</p>
<p>This can be used to construct pipelines which trigger based on
certain events but only if certain other conditions are met.  It
is distinct from pipeline requirements in that it only affects
items that are directly enqueued whereas pipeline requirements
affect dependencies as well.</p>
</li>
</ul>
<ul class="simple">
<li><p>All Gerrit â€œrequiresâ€ filters are now available as â€œrejectâ€
filters as well.</p></li>
</ul>
<ul>
<li><p>GitHub pipeline triggers now support embedded require and reject
filters in order to match.  Any conditions set for the pipeline in
require or reject filters may also be set for event trigger
filters.</p>
<p>This can be used to construct pipelines which trigger based on
certain events but only if certain other conditions are met.  It
is distinct from pipeline requirements in that it only affects
items that are directly enqueued whereas pipeline requirements
affect dependencies as well.</p>
</li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="job-content.html#var-nodepool.slot" title="var-nodepool.slot"><span class="xref zuul zuul-var">nodepool.slot</span></a> variable has been added to host vars.
This is supplied by the nodepool static and metastatic drivers
starting with version 8.0.0.  It may be used to avoid build
directory collisions on nodes that run more than one job.</p></li>
</ul>
</section>
<section id="relnotes-8-3-0-deprecation-notes">
<span id="id69"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-8-3-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Elasticsearch reporter now filters <cite>zuul</cite> data from the job returned vars.
The job returned vars under the <cite>zuul</cite> key are meant for Zuul and may include large
amount of data such as file comments.</p></li>
</ul>
<ul class="simple">
<li><p>The <cite>require-approval</cite> and <cite>reject-approval</cite> Gerrit trigger
attributes are deprecated.  Use <a class="reference internal" href="drivers/gerrit.html#attr-pipeline.trigger.&lt;gerrit source&gt;.require" title="attr-pipeline.trigger.&lt;gerrit source&gt;.require"><span class="xref zuul zuul-attr">pipeline.trigger.&lt;gerrit
source&gt;.require</span></a> and <a class="reference internal" href="drivers/gerrit.html#attr-pipeline.trigger.&lt;gerrit source&gt;.reject" title="attr-pipeline.trigger.&lt;gerrit source&gt;.reject"><span class="xref zuul zuul-attr">pipeline.trigger.&lt;gerrit
source&gt;.reject</span></a> instead.</p></li>
</ul>
<ul class="simple">
<li><p>The <cite>require-status</cite> GitHub trigger attribute is deprecated.
Use <a class="reference internal" href="drivers/github.html#attr-pipeline.trigger.&lt;github source&gt;.require" title="attr-pipeline.trigger.&lt;github source&gt;.require"><span class="xref zuul zuul-attr">pipeline.trigger.&lt;github source&gt;.require</span></a> instead.</p></li>
</ul>
</section>
<section id="relnotes-8-3-0-bug-fixes">
<span id="id70"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-8-3-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The <cite>zuul-admin prune-database</cite> command did not completely delete
expected data from the database.  It may not have deleted all of
the buildsets older than the specified cutoff time, and it may
have left orphaned data in ancillary tables.  This has been
corrected and it should now work as expected.  Additionally, a
<cite>â€“batch-size</cite> argument has been added so that it may delete data
in multiple transactions which can facilitate smoother operation
when run while Zuul is operational.</p>
<p>Users who have previously run the command may need to manually
delete rows from the <cite>zuul_build</cite>, <cite>zuul_build_event</cite>,
<cite>zuul_artifact</cite>, and <cite>zuul_provides</cite> tables which do not have
corresponding entries in the <cite>zuul_buildset</cite> table.</p>
</li>
</ul>
<ul>
<li><p>The <cite>cherry-pick</cite> merge mode will now silently skip commits that have
already been applied to the tree when cherry-picking, instead of failing
with an error.</p>
<p>The exception to this is if the source of the cherry-pick is an empty
commit, in which case it is always kept.</p>
<p>Skipping commits that have already been applied is important in a pipeline
triggered by the Gerrit <cite>change-merged</cite> event (like the <cite>deploy</cite> pipeline),
since the scheduler would previously try to cherry-pick the change on top
of the commit that just merged and fail.</p>
</li>
</ul>
<ul>
<li><p>Zuul will now attempt to honor Gerrit â€œsubmit requirementsâ€ when
determining whether to enqueue a change into a dependent (i.e.,
â€œgateâ€) pipeline.  Zuul previously honored only Gerritâ€™s older
â€œsubmit recordsâ€ feature.  The new checks will avoid enqueing
changes in â€œgateâ€ pipelines in the cases where Zuul can
unambiguously determine that there is no possibility of merging,
but some non-mergable changes may still be enqueued if Zuul can
not be certain whether a rule should apply or be disregarded (in
these cases, Gerrit will fail to merge the change and Zuul will
report the buildset as a MERGE_FAILURE).</p>
<p>This requires Gerrit version 3.5.0 or later, and Zuul to be
configured with HTTP access for Gerrit.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-8-2-0">
<span id="id71"></span><h2>8.2.0<a class="headerlink" href="#relnotes-8-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-8-2-0-new-features">
<span id="id72"></span><h3>New Features<a class="headerlink" href="#relnotes-8-2-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The change message (commit message, or pull request message
depending on the driver) is now available in plain text form
annotated with the Ansible <cite>!unsafe</cite> tag as
<a class="reference internal" href="job-content.html#var-zuul.change_message" title="var-zuul.change_message"><span class="xref zuul zuul-var">zuul.change_message</span></a>.</p></li>
</ul>
</section>
<section id="relnotes-8-2-0-upgrade-notes">
<span id="id73"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-8-2-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Fixes <cite>tenant.untrusted-projects.&lt;project&gt;.include-branches</cite> being lower
priority than <cite>tenant.untrusted-projects.&lt;project&gt;.exclude-branches</cite> to
match the documentation and expected user behavior.</p>
<p>This only affects projects that are using both <cite>include-branches</cite> and
<cite>exclude-branches</cite> at the same time. Now, <cite>include-branches</cite> has priority
over <cite>exclude-branches</cite> for any branches that match both. Practically
speaking, this means that <cite>exclude-branches</cite> is ignored if
<cite>include-branches</cite> is set.</p>
</li>
</ul>
</section>
<section id="relnotes-8-2-0-deprecation-notes">
<span id="id74"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-8-2-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The base64 encoded version of the change message available as
<a class="reference internal" href="job-content.html#var-zuul.message" title="var-zuul.message"><span class="xref zuul zuul-var">zuul.message</span></a> is deprecated and will be removed in a future
version of Zuul.  Use <a class="reference internal" href="job-content.html#var-zuul.change_message" title="var-zuul.change_message"><span class="xref zuul zuul-var">zuul.change_message</span></a> instead.</p></li>
</ul>
</section>
</section>
<section id="relnotes-8-1-0">
<span id="id75"></span><h2>8.1.0<a class="headerlink" href="#relnotes-8-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-8-1-0-new-features">
<span id="id76"></span><h3>New Features<a class="headerlink" href="#relnotes-8-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new pipeline attribute,
<a class="reference internal" href="config/pipeline.html#attr-pipeline.allow-other-connections" title="attr-pipeline.allow-other-connections"><span class="xref zuul zuul-attr">pipeline.allow-other-connections</span></a>, has been added
to ensure that only changes from connections which
are mentioned in the pipeline configuration (such as triggers,
reporters, or pipeline requirements) are enqueued.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now stores the pause and resume events for a build together with
their timestamp and reports them to the SQL database and via MQTT.</p></li>
</ul>
<ul>
<li><p>Individual playbooks may now be wrapped by a semaphore.  Zuul will
start the job and proceed up to the point of a playbook which
requires a semaphore and then wait until it is able to aquire the
semaphore before proceeding.  It releases the semaphore after the
end of that individual playbook.</p>
<p>The same semaphore may be used for both jobs and playbooks, but an
individual job may not use the same semaphore for both purposes.</p>
</li>
</ul>
</section>
<section id="relnotes-8-1-0-upgrade-notes">
<span id="id77"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-8-1-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Additional syntax checking is performed on job configuration
changes so that Zuul will report an error if a job inherits from a
non-permitted parent (such as a final job, intermediate job when
the child is not abstract, or a protected job in another project).
Previously, these situations might only be discovered when
freezing a job graph.</p>
<p>If any jobs currently in this situation exist, they will be
reported as configuration errors.</p>
</li>
</ul>
</section>
<section id="relnotes-8-1-0-security-issues">
<span id="id78"></span><h3>Security Issues<a class="headerlink" href="#relnotes-8-1-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Non-live items are now subject to pipeline requirements for
independent pipelines.</p>
<p>Previously, an optimization for independent pipelines skipped
checking that a change met the pipeline requirements.  If an
independent pipeline is intended only to run reviewed code, this
could allow running unreviewed code by updating dependent changes.</p>
<p>Now both non-live and live items are subject to pipeline
requirements in all pipeline managers.</p>
</li>
</ul>
<ul class="simple">
<li><p>The new <cite>allow-other-connections</cite> pipeline configuration option
may now be used to ensure that only changes from connections which
are mentioned in the pipeline configuration (such as triggers,
reporters, or pipeline requirements) are enqueued.  This allows
the construction of a pipeline where, for example, code review
requirements are strictly enforced, even for dependencies which
are not normally directly enqueued.</p></li>
</ul>
</section>
</section>
<section id="relnotes-8-0-1">
<span id="id79"></span><h2>8.0.1<a class="headerlink" href="#relnotes-8-0-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-8-0-1-bug-fixes">
<span id="id80"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-8-0-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>An error which prevented results from appearing in the web UI on
the â€œBuildsetsâ€ tab has been corrected.</p></li>
</ul>
</section>
</section>
<section id="relnotes-8-0-0">
<span id="id81"></span><h2>8.0.0<a class="headerlink" href="#relnotes-8-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-8-0-0-new-features">
<span id="id82"></span><h3>New Features<a class="headerlink" href="#relnotes-8-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Read-level access to tenants or the tenant list may now be
restricted to authorized users using the
<a class="reference internal" href="tenants.html#attr-tenant.access-rules" title="attr-tenant.access-rules"><span class="xref zuul zuul-attr">tenant.access-rules</span></a> and <a class="reference internal" href="tenants.html#attr-api-root.access-rules" title="attr-api-root.access-rules"><span class="xref zuul zuul-attr">api-root.access-rules</span></a>
attributes.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/project.html#value-project.merge-mode.rebase" title="value-project.merge-mode.rebase"><span class="xref zuul zuul-value">rebase</span></a> merge-mode is now supported
for GitHub.</p></li>
</ul>
</section>
<section id="relnotes-8-0-0-upgrade-notes">
<span id="id83"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-8-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Support for Ansible version 5 has been removed.  Migrate any
existing jobs which rely on this version to Ansible version 6
before upgrading.</p></li>
</ul>
<ul>
<li><p>In preparation for expanded access control features in the web
interface, and REST API, the <code class="docutils literal notranslate"><span class="pre">admin-rule</span></code> tenant configuration
object has been renamed to <code class="docutils literal notranslate"><span class="pre">authorization-rule</span></code>.  When applied
to a tenant, the tenant attribute is still <code class="docutils literal notranslate"><span class="pre">admin-rules</span></code> since
it determines admin access to that tenant.  This change will allow
similar rules to be applied to non-admin level access in the
future.</p>
<p>Tenant configs should now follow this example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">authorization-rule</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-rule</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tenant</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-tenant</span>
<span class="w">    </span><span class="nt">admin-rules</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-rule</span>
</pre></div>
</div>
<p>The old form is still permitted for backwards compatability, but
will be removed in a later version of Zuul.</p>
</li>
</ul>
<ul class="simple">
<li><p>The default merge mode used by Zuul for preparing git repos was
previously <a class="reference internal" href="config/project.html#value-project.merge-mode.merge-resolve" title="value-project.merge-mode.merge-resolve"><span class="xref zuul zuul-value">merge-resolve</span></a> in all cases,
but is now <a class="reference internal" href="config/project.html#value-project.merge-mode.merge" title="value-project.merge-mode.merge"><span class="xref zuul zuul-value">merge</span></a> for all drivers except
Gerrit, where <a class="reference internal" href="config/project.html#value-project.merge-mode.merge-resolve" title="value-project.merge-mode.merge-resolve"><span class="xref zuul zuul-value">merge-resolve</span></a> is still
the default.  This makes the merge operations performed by Zuul
more closely match the operations that will be performed by the
code review systems.</p></li>
</ul>
</section>
<section id="relnotes-8-0-0-bug-fixes">
<span id="id84"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-8-0-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The use of implied branch matchers in jobs where
<cite>override-checkout</cite> was specified could cause some jobs to include
unintended variants.  Specifically: job variants with implied
branch matchers on branches which are substring matches of a
branch specified in the <cite>override-checkout</cite> job attribute may have
been used when not intended.</p>
<p>This has been corrected so that the same job variant matching
process happens whether the changeâ€™s branch or the branch
specified by override-checkout is used.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-7-1-0">
<span id="id85"></span><h2>7.1.0<a class="headerlink" href="#relnotes-7-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-7-1-0-new-features">
<span id="id86"></span><h3>New Features<a class="headerlink" href="#relnotes-7-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The GitHub driver now supports specifying the <cite>draft</cite> status of a
PR as a pipeline requirement.
See <a class="reference internal" href="drivers/github.html#attr-pipeline.require.&lt;github source&gt;.draft" title="attr-pipeline.require.&lt;github source&gt;.draft"><span class="xref zuul zuul-attr">pipeline.require.&lt;github source&gt;.draft</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Details about the configuration and current usage of semaphores
are now available in the web UI under the â€œSemaphoresâ€ tab.</p></li>
</ul>
</section>
<section id="relnotes-7-1-0-upgrade-notes">
<span id="id87"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-7-1-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible versions 5 is now deprecated in Zuul since it is
unmaintaned, and it will be removed from a future version of Zuul.
Ansible 6 is now the default version in Zuul.</p></li>
</ul>
</section>
</section>
<section id="relnotes-7-0-0">
<span id="id88"></span><h2>7.0.0<a class="headerlink" href="#relnotes-7-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-7-0-0-new-features">
<span id="id89"></span><h3>New Features<a class="headerlink" href="#relnotes-7-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The MQTT driver now supports including data returned from a job in
its reports.  See
<a class="reference internal" href="drivers/mqtt.html#attr-pipeline.&lt;reporter&gt;.&lt;mqtt&gt;.include-returned-data" title="attr-pipeline.&lt;reporter&gt;.&lt;mqtt&gt;.include-returned-data"><span class="xref zuul zuul-attr">pipeline.&lt;reporter&gt;.&lt;mqtt&gt;.include-returned-data</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Nodesets may now express an ordered list of alternatives so that
if Nodepool is unable to fulfill a request for certain labels, one
or more alternative Nodesets may be attempted instead.  See
<a class="reference internal" href="config/nodeset.html#attr-nodeset.alternatives" title="attr-nodeset.alternatives"><span class="xref zuul zuul-attr">nodeset.alternatives</span></a> for details.</p></li>
</ul>
</section>
<section id="relnotes-7-0-0-upgrade-notes">
<span id="id90"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-7-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Support for Ansible versions 2.8 and 2.9 has been removed.
Migrate any existing jobs which rely on these versions to Ansible
version 5 or 6 before upgrading.</p></li>
</ul>
<ul class="simple">
<li><p>The previously deprecated <code class="docutils literal notranslate"><span class="pre">merge-failure</span></code> and
<code class="docutils literal notranslate"><span class="pre">merge-failure-message</span></code> pipeline configuration options have been
removed.  Use <code class="docutils literal notranslate"><span class="pre">merge-conflict</span></code> and <code class="docutils literal notranslate"><span class="pre">merge-conflict-message</span></code>
respectively instead.</p></li>
</ul>
<ul class="simple">
<li><p>The deprecated syntax of specifying project change queues on
pipeline configurations has been removed.  Specify queues using
the project stanza now.  See <a class="reference internal" href="config/queue.html#attr-queue" title="attr-queue"><span class="xref zuul zuul-attr">queue</span></a> for more information.</p></li>
</ul>
</section>
</section>
<section id="relnotes-6-4-0">
<span id="id91"></span><h2>6.4.0<a class="headerlink" href="#relnotes-6-4-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-6-4-0-new-features">
<span id="id92"></span><h3>New Features<a class="headerlink" href="#relnotes-6-4-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible version 6 is now available.  The default Ansible version
is still 5, but version 6 may be selected by using
<a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a>.</p></li>
</ul>
</section>
<section id="relnotes-6-4-0-upgrade-notes">
<span id="id93"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-6-4-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible versions 2.8 and 2.9 are now deprecated in Zuul since they
are both unmaintaned.  Ansible 5 is now the default version in Zuul.</p></li>
</ul>
</section>
</section>
<section id="relnotes-6-3-0">
<span id="id94"></span><h2>6.3.0<a class="headerlink" href="#relnotes-6-3-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-6-3-0-new-features">
<span id="id95"></span><h3>New Features<a class="headerlink" href="#relnotes-6-3-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new <a class="reference internal" href="config/pipeline.html#attr-pipeline.config-error" title="attr-pipeline.config-error"><span class="xref zuul zuul-attr">pipeline.config-error</span></a> pipeline reporter is available
for customizing reporter actions related to Zuul configuration
errors.</p></li>
</ul>
</section>
</section>
<section id="relnotes-6-2-0">
<span id="id96"></span><h2>6.2.0<a class="headerlink" href="#relnotes-6-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-6-2-0-new-features">
<span id="id97"></span><h3>New Features<a class="headerlink" href="#relnotes-6-2-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Added build set url to Zuul comment.  This provide a quick way
for user to reach the build set page from Gerrit.</p></li>
</ul>
<ul class="simple">
<li><p>Added a new
<a class="reference internal" href="tenants.html#attr-tenant.untrusted-projects.&lt;project&gt;.always-dynamic-branches" title="attr-tenant.untrusted-projects.&lt;project&gt;.always-dynamic-branches"><span class="xref zuul zuul-attr">tenant.untrusted-projects.&lt;project&gt;.always-dynamic-branches</span></a>
tenant project configuration option.  This may be used to specify
branches from which Zuul should never load static configuration
and instead treat every change as if it newly proposed dynamic
configuration.  This is potentially useful for large numbers of
rarely-used feature branches.</p></li>
</ul>
<ul class="simple">
<li><p>The new <cite>ssh_server</cite> option for gerrit connections may be used to specify
a hostname to use for SSH connections while the normal <cite>server</cite> option
specifies the hostname to use for HTTP connections.</p></li>
</ul>
<ul class="simple">
<li><p>Support for global (cross-tenant) semaphores has been added.  See
<a class="reference internal" href="tenants.html#global-semaphore"><span class="std std-ref">Global Semaphore</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Pipeline timer triggers with jitter now apply the jitter to each
project-branch individually (instead of to the pipeline as a
whole).  This can reduce the thundering herd effect on external
systems for periodic pipelines with many similar jobs.</p></li>
</ul>
<ul class="simple">
<li><p>The scheduler now accepts an argument <cite>â€“wait-for-init</cite> which will
cause it to wait until all tenants have been initialized before it
begins processing pipelines.  This may help large systems with
excess scheduler capacity perform a rolling restart of schedulers
more quickly.</p></li>
</ul>
</section>
<section id="relnotes-6-2-0-bug-fixes">
<span id="id98"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-6-2-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now treats job dependencies that reference undefined jobs as
a configuration error.  Previously a job which depended on another
job which did not exist would pass initial syntax validation and
only cause a failure in freezing the job graph when Zuul attempted
to run the job.  Now incorrect or missing job dependencies are
detected during configuration.  This means that new config errors
may be prevented from merging.  It also means that existing
erroneous job or project configurations will be regarded as
configuration errors at startup.</p></li>
</ul>
</section>
</section>
<section id="relnotes-6-1-0">
<span id="id99"></span><h2>6.1.0<a class="headerlink" href="#relnotes-6-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-6-1-0-new-features">
<span id="id100"></span><h3>New Features<a class="headerlink" href="#relnotes-6-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <cite>cherry-pick</cite> merger mode can now handle merges between branches by
performing a <cite>git merge</cite> instead of <cite>git cherry-pick</cite> if the change has
multiple parents. Previously, this would fail because git doesnâ€™t allow
a merge to be cherry-picked.</p></li>
</ul>
<ul class="simple">
<li><p>If identical jobs are run for multiple changes in a dependency
cycle, Zuul may now deduplicate them under certain circumstances.
See <a class="reference internal" href="config/job.html#attr-job.deduplicate" title="attr-job.deduplicate"><span class="xref zuul zuul-attr">job.deduplicate</span></a> for details.</p></li>
</ul>
<ul class="simple">
<li><p>Added new tenant project configuration options
attr:<cite>tenant.untrusted-projects.&lt;project&gt;.include-branches</cite> and
attr:<cite>tenant.untrusted-projects.&lt;project&gt;.exclude-branches</cite>.
Similar to <em>exclude-unprotected-branches</em>, these may be used to
reduce the set of branches from which Zuul will load
configuration.</p></li>
</ul>
<ul class="simple">
<li><p>A new command, <code class="docutils literal notranslate"><span class="pre">prune-database</span></code> has been added to <cite>zuul-admin</cite>
in order to remove database entries older than a certain age.</p></li>
</ul>
<ul class="simple">
<li><p>The GitHub driver now has support for using a GitHub Enterprise
<a class="reference external" href="https://docs.github.com/en/enterprise-server&#64;3.3/admin/enterprise-management/caching-repositories/about-repository-caching">repository cache</a>.
See <a class="reference internal" href="drivers/github.html#attr-&lt;github connection&gt;.repo_cache" title="attr-&lt;github connection&gt;.repo_cache"><span class="xref zuul zuul-attr">&lt;github connection&gt;.repo_cache</span></a> for information on how
to configure it.</p></li>
</ul>
</section>
<section id="relnotes-6-1-0-upgrade-notes">
<span id="id101"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-6-1-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A SQL schema migration is added in order to add an <code class="docutils literal notranslate"><span class="pre">updated</span></code>
column to the buildset table which will be used by the
<cite>prune-database</cite> command to determine which buildsets to delete.
The migration will attempt to use the most recent timestamp
associated with the buildset when initializing this column,
however, if no timestamps are available, it will initialize it to
1970-01-01.  Since this is considerably before Zuulâ€™s birthdate,
this means that any buildsets without timestamp information will
be pruned the first time <cite>prune-database</cite> is run.  It is expected
that buildsets with no timestamps, even very recent ones, are
typically uninteresting and therefore this should not cause a
hardship.  If this is not the case for your installation, you may
want to inspect the database and change the <code class="docutils literal notranslate"><span class="pre">updated</span></code> column to
a more recent value in these cases.</p></li>
</ul>
</section>
<section id="relnotes-6-1-0-deprecation-notes">
<span id="id102"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-6-1-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The zuul CLI is renamed <cite>zuul-admin</cite>. The <cite>zuul</cite> command will remain usable until a future version,
then will be phased out. Likewise, tenant-scoped, workflow affecting commands such as autohold,
enqueue, dequeue, promote are deprecated from the zuul-admin CLI and will be phased out in a
future version. They can still be performed via the <cite>zuul-client</cite> CLI.</p></li>
</ul>
</section>
</section>
<section id="relnotes-6-0-0">
<span id="id103"></span><h2>6.0.0<a class="headerlink" href="#relnotes-6-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-6-0-0-new-features">
<span id="id104"></span><h3>New Features<a class="headerlink" href="#relnotes-6-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Ansible version 5 is now available.  The default Ansible version
is still 2.9, but version 5 may be selected by using
<a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Pipelines can now trigger on <code class="docutils literal notranslate"><span class="pre">wip-state-changed</span></code> and filter events on the
wip state of a change with <a class="reference internal" href="drivers/gerrit.html#attr-pipeline.require.&lt;gerrit source&gt;.wip" title="attr-pipeline.require.&lt;gerrit source&gt;.wip"><span class="xref zuul zuul-attr">pipeline.require.&lt;gerrit source&gt;.wip</span></a>.</p></li>
</ul>
</section>
<section id="relnotes-6-0-0-upgrade-notes">
<span id="id105"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-6-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>This is the first version of Ansible added to Zuul since the
Ansible project began releasing the <cite>Ansible community</cite> package.
Zuul includes the Ansible community package since it includes a
wide selection of useful modules, many of which were included by
default in previous versions of Ansible.</p>
<p>Only the major version of Ansible community is specified
(e.g. <code class="docutils literal notranslate"><span class="pre">ansible-version:</span> <span class="pre">5</span></code>).  This corresponds to a single minor
release of Ansible core (e.g., Ansible community 5 corresponds to
Ansible core 2.12).  Ansible releases minor versions of the
community package which may contain updates to the included
Ansible collections as well as micro version updates of Ansible
core (e.g. Ansible community 5.6 includes ansible-core 2.12.4).</p>
<p>Zuul does not specify the minor version of Ansible community,
therefore the latest available micro-version will be installed at
build-time.  If you need more control over the version of Ansible
used, see the help text for <code class="docutils literal notranslate"><span class="pre">zuul-manage-ansible</span></code>.</p>
</li>
</ul>
<ul class="simple">
<li><p>Python 3.8 or newer is required to run Zuul. This change was necessary
to support Ansible 5 and newer as Ansibleâ€™s minimum python requirement
is 3.8.</p></li>
</ul>
<ul class="simple">
<li><p>The built-in support for the ARA Ansible callback plugin has been
removed.</p></li>
</ul>
<ul>
<li><p>The restricted Ansible environment used for untrusted playbooks
has been relaxed.</p>
<p>Zuul previously attempted to restrict the actions of playbooks
running in the untrusted execution context on the executor so that
users would not be able to load custom Ansible plugins, execute
code on the executor, or use certain functions of built-in Ansible
modules.  This was done in an attempt to improve the security of
the Zuul executor.  However, the approach has proved laborious,
prone to error, and increasingly incompatible with newer versions
of Ansible.</p>
<p>Therefore it has been removed, and now playbooks within both the
trusted and untrusted execution contexts have access to the full
suite of Ansible modules.  See the <a class="reference internal" href="configuration.html#executor-security"><span class="std std-ref">Security Considerations</span></a>
section for information on caveats relating to executor security.</p>
</li>
</ul>
</section>
<section id="relnotes-6-0-0-bug-fixes">
<span id="id106"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-6-0-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Nodepool host variables are now available even for unreachable
hosts.  This is useful for network appliances which start the job
in an unreachable state.</p></li>
</ul>
</section>
</section>
<section id="relnotes-5-2-5">
<span id="id107"></span><h2>5.2.5<a class="headerlink" href="#relnotes-5-2-5" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-2-5-bug-fixes">
<span id="id108"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-5-2-5-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Further instances of reporting NO_JOBS results to the database
when not necessary have been corrected.</p></li>
</ul>
</section>
</section>
<section id="relnotes-5-2-4">
<span id="id109"></span><h2>5.2.4<a class="headerlink" href="#relnotes-5-2-4" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-2-4-bug-fixes">
<span id="id110"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-5-2-4-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A change in 5.2.3 began reporting NO_JOBS results to the database
which was unintentional.  This has been corrected and they are no
longer recorded in the database.</p></li>
</ul>
</section>
</section>
<section id="relnotes-5-2-3">
<span id="id111"></span><h2>5.2.3<a class="headerlink" href="#relnotes-5-2-3" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-2-3-bug-fixes">
<span id="id112"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-5-2-3-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Projects and jobs on branches whose names have special characters
in regular expressions could fail to match changes as intended.
Implied branch matchers automatically generated from branch names
are now treated as requiring exact matches.  Any user-specified
branch matcher (including in <a class="reference internal" href="config/job.html#attr-job.branches" title="attr-job.branches"><span class="xref zuul zuul-attr">job.branches</span></a> and
<a class="reference internal" href="config/pragma.html#attr-pragma.implied-branches" title="attr-pragma.implied-branches"><span class="xref zuul zuul-attr">pragma.implied-branches</span></a>) are still treated as regular
expressions.</p></li>
</ul>
<ul class="simple">
<li><p>Project name regex handling has been updated to return all possible
matches. Previously if there were collisions with short names it was an
error. The point of the regex system is to simplify configuration and
apply configs to all projects that match. Collisions donâ€™t impact this
behavior so we donâ€™t need to raise an error in these cases.</p></li>
</ul>
</section>
</section>
<section id="relnotes-5-2-2">
<span id="id113"></span><h2>5.2.2<a class="headerlink" href="#relnotes-5-2-2" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-2-2-bug-fixes">
<span id="id114"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-5-2-2-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>An issue introduced in Zuul version 5.2.0 which could cause jobs
running on Windows nodes to fail with the error <cite>Could not find
imported module support code for â€˜Ansible.ModuleUtils.Legacyâ€™â€</cite>
has been corrected.</p></li>
</ul>
</section>
</section>
<section id="relnotes-5-2-1">
<span id="id115"></span><h2>5.2.1<a class="headerlink" href="#relnotes-5-2-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-2-1-new-features">
<span id="id116"></span><h3>New Features<a class="headerlink" href="#relnotes-5-2-1-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/queue.html#attr-queue.dependencies-by-topic" title="attr-queue.dependencies-by-topic"><span class="xref zuul zuul-attr">queue.dependencies-by-topic</span></a> setting is added for Zuul
users who wish to emulate the Gerrit <code class="docutils literal notranslate"><span class="pre">submitWholeTopic</span></code> behavior
for some projects without enabling it site-wide in Gerrit.</p></li>
</ul>
<ul class="simple">
<li><p>The promote administrative action now functions with all pipeline
managers.  Previously it would only have an impact on dependent
pipelines, but it will now re-order change queues as well as
changes within any type of pipeline.</p></li>
</ul>
</section>
<section id="relnotes-5-2-1-upgrade-notes">
<span id="id117"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-5-2-1-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The promote administrative action will no longer restart jobs for
changes which have not been re-ordered within their change queue.</p></li>
</ul>
</section>
<section id="relnotes-5-2-1-bug-fixes">
<span id="id118"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-5-2-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Fixed an issue in the Gerrit driver introduced in 5.2.0 which
could cause infinite loops while querying changes.</p></li>
</ul>
</section>
</section>
<section id="relnotes-5-2-0">
<span id="id119"></span><h2>5.2.0<a class="headerlink" href="#relnotes-5-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-2-0-new-features">
<span id="id120"></span><h3>New Features<a class="headerlink" href="#relnotes-5-2-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Changes in dependent queues are now automatically dequeued if they
no longer meet the mergability requirements set by the upstream
code review system.</p></li>
</ul>
<ul>
<li><p>Zuul now matches Gerritâ€™s behavior when
<code class="docutils literal notranslate"><span class="pre">change.submitWholeTopic</span></code> is set in Gerrit.</p>
<p>When this setting is enabled in Gerrit and a change is submitted
(merged), all changes with the same topic are submitted
simultaneously.  Zuul will now query for changes which are set to
be submitted together by Gerrit when enqueing them and treat them
as if they are a set of circular dependencies.</p>
<p>If the projects are not part of pipeline queues which are
configured to allow circular dependencies, then Zuul will report
failure on enqueue.  Be sure that the submitWholeTopic setting in
Gerrit and the allow-circular-dependencies setting in Zuul match.</p>
<p>This functionality requires an HTTP connection to Gerrit.  If only
an SSH connection is available, then changes submitted together
will be ignored.</p>
</li>
</ul>
<ul class="simple">
<li><p>The ability to configure Microsoft Login as an OpenID Connect
authentication provider has been added.</p></li>
</ul>
<ul>
<li><p>Zuul now reports total resource usage statistics.</p>
<p>The following statistic is emitted:</p>
<p><cite>zuul.nodepool.resources.total.tenant.{tenant}.{resource}</cite></p>
<p>Gauge with the currently used resources by tenant in total, i.e., all nodes
belonging to a tenant, regardles of their state.</p>
</li>
</ul>
<ul>
<li><p>It is now possible for jobs to skip retries caused by failures in
â€˜pre-runâ€™ by returning <cite>retry: false</cite>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">zuul_return</span><span class="p">:</span>
<span class="w">    </span><span class="nt">data</span><span class="p">:</span>
<span class="w">      </span><span class="nt">zuul</span><span class="p">:</span>
<span class="w">        </span><span class="nt">retry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="relnotes-5-2-0-upgrade-notes">
<span id="id121"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-5-2-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Zuul now reports total and in-use resource usage statics separately.</p>
<p>To distinquish those, the following statistics have been renamed:</p>
<ul class="simple">
<li><p><cite>zuul.nodepool.resources.tenant.{tenant}.{resource}</cite>
<cite>-&gt;</cite>
<cite>zuul.nodepool.resources.in_use.tenant.{tenant}.{resource}</cite></p></li>
<li><p><cite>zuul.nodepool.resources.project.{project}.{resource}</cite>:
<cite>-&gt;</cite>
<cite>zuul.nodepool.resources.in_use.project.{tenant}.{resource}</cite></p></li>
</ul>
</li>
</ul>
</section>
<section id="relnotes-5-2-0-security-issues">
<span id="id122"></span><h3>Security Issues<a class="headerlink" href="#relnotes-5-2-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>A vulnerability which allowed the execution of untrusted code on
the executor was fixed.</p>
<p>Zuul restricts the Ansible modules and plugins which can be used
in the <cite>untrusted</cite> security context (i.e., untrusted projects).
It also prohibits running programs on the Zuul executor in the
untrusted security context.</p>
<p>Ansible 2.8 and later versions support referencing builtin modules
using the <cite>ansible.builtin.&lt;name&gt;</cite> alias.  Playbooks which use
this mechanism can bypass Zuulâ€™s security restrictions and run
arbitrary local code or otherwise restricted modules.</p>
<p>Zuulâ€™s use of bubblewrap means that any commands executed via this
vulnerability would still be contained within the restricted
environment, meaning that they can not access files outside of the
build directory or continue running longer than the playbook.  But
they may have been able to access files within the build directory
but outside of the <cite>work/</cite> directory, as well as potentially
exploit any kernel or hypervisor privilege escalation
vulnerabilities.</p>
<p>The Zuul team now considers the restricted Ansible environment to
be ineffective as a security mechanism and is developing plans to
remove the restrictions and rely entirely on bubblewrap in the
future.  These changes will occur in a future release of Zuul
(likely 6.0.0) and will be preceded by more details about the
change.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-5-1-0">
<span id="id123"></span><h2>5.1.0<a class="headerlink" href="#relnotes-5-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-1-0-new-features">
<span id="id124"></span><h3>New Features<a class="headerlink" href="#relnotes-5-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Added support for adding and removing merge request labels in the
GitLab driver, as well as triggering pipelines on label removal
(label addition was already supported).</p></li>
</ul>
<ul class="simple">
<li><p>A new buildset result <code class="docutils literal notranslate"><span class="pre">MERGE_FAILURE</span></code> is stored in the build
database in the case where a buildset is unable to be merged by
the upstream code review system.</p></li>
</ul>
<ul class="simple">
<li><p>The following new statsd metrics are available in order to monitor
Zuul system performance:</p>
<ul>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_enqueue_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_enqueue_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_enqueue_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.merge_request_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.merge_request_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.merge_request_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.layout_generation_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.layout_generation_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.layout_generation_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.job_freeze_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.job_freeze_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.job_freeze_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.repo_state_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.repo_state_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.repo_state_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.node_request_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.node_request_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.node_request_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.job_wait_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.job_wait_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.job_wait_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_job_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_job_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_job_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_time" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_time</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_objects" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_objects"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_objects</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_objects" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_objects"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_objects</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_znodes" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_znodes"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_znodes</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_znodes" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_znodes"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_znodes</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_bytes" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_bytes"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.read_bytes</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_bytes" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_bytes"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.write_bytes</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_process" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_process"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.event_process</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.handling" title="stat-zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.handling"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.pipeline.&lt;pipeline&gt;.handling</span></a></p></li>
<li><p><a class="reference internal" href="monitoring.html#stat-zuul.tenant.&lt;tenant&gt;.reconfiguration_time" title="stat-zuul.tenant.&lt;tenant&gt;.reconfiguration_time"><span class="xref zuul zuul-stat">zuul.tenant.&lt;tenant&gt;.reconfiguration_time</span></a></p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li><p>A new command <code class="docutils literal notranslate"><span class="pre">zuul-scheduler</span> <span class="pre">tenant-reconfigure</span></code> has been
added.  It allows an operator to perform a reconfiguration of a
single tenant.  This may be helpful in clearing up issues after
connection problems with the code hosting system.</p></li>
</ul>
<ul class="simple">
<li><p>New monitoring metrics specific to zuul-web are available.</p></li>
</ul>
</section>
<section id="relnotes-5-1-0-upgrade-notes">
<span id="id125"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-5-1-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The buildset result <code class="docutils literal notranslate"><span class="pre">MERGER_FAILURE</span></code> has been renamed to
<code class="docutils literal notranslate"><span class="pre">MERGE_CONFLICT</span></code>, and the pipeline reporter configuration
<code class="docutils literal notranslate"><span class="pre">merge-failure</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">merge-conflict</span></code>.</p>
<p>These are more descriptive of the most common errors actually
reported, and so are expected to be less confusing to users.  This
is also in service of a future change to support a new buildset
result <code class="docutils literal notranslate"><span class="pre">MERGE_FAILURE</span></code> which will indicate that the change was
unable to be merged in the upstream repository.</p>
<p>When upgrading, it is recommended to stop all schedulers briefly
(i.e, when the first scheduler of the new version starts, there
should be no schedulers running the old version).  The new
scheduler will perform a database migration when it starts and
update all existing <code class="docutils literal notranslate"><span class="pre">MERGER_FAILURE</span></code> buildset results to
<code class="docutils literal notranslate"><span class="pre">MERGE_CONFLICT</span></code>.  If old schedulers are running, they may
continue to add <code class="docutils literal notranslate"><span class="pre">MERGER_FAILURE</span></code> entries which will need to be
manually updated in order to be visible in the web UI or rest API.</p>
</li>
</ul>
</section>
<section id="relnotes-5-1-0-deprecation-notes">
<span id="id126"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-5-1-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">merge-failure</span></code> and <code class="docutils literal notranslate"><span class="pre">merge-failure-message</span></code> pipeline
configuration options have been renamed to <code class="docutils literal notranslate"><span class="pre">merge-conflict</span></code> and
<code class="docutils literal notranslate"><span class="pre">merge-conflict-message</span></code> respectively.  The old settings are
retained for backwards compatibility, but will be removed in a
later version.  Please update your usage of them as soon as
possible.</p></li>
</ul>
</section>
<section id="relnotes-5-1-0-bug-fixes">
<span id="id127"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-5-1-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <cite>labels</cite> pipeline requirement in the <cite>gitlab</cite> driver erroneously treated
the labels as a boolean <cite>or</cite> but should have treated them as a boolean <cite>and</cite>
(i.e., all listed labels are required).
The behavior has been updated to match the documentation and other drivers.</p></li>
</ul>
</section>
</section>
<section id="relnotes-5-0-0">
<span id="id128"></span><h2>5.0.0<a class="headerlink" href="#relnotes-5-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-5-0-0-upgrade-notes">
<span id="id129"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-5-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Zuul no longer uses gearman.  It is no longer required to run a
Gearman server, and the Zuul scheduler no longer does so.  All
gearman-related settings in zuul.conf files are now ignored and
may be removed.</p>
<p>Commands such as <cite>zuul enqueue</cite> which were previously executed via
Gearman may still be used by creating an authentication token and
adding a <cite>webclient</cite> section to zuul.conf.</p>
</li>
</ul>
<ul class="simple">
<li><p>Support for configuring the database as a <cite>connection</cite> in
<code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code> was deprecated in Zuul version 4.0 and has now been
removed.  Refer to <a class="reference internal" href="configuration.html#database"><span class="std std-ref">Database</span></a> how to configure the database
now.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-12-0">
<span id="id130"></span><h2>4.12.0<a class="headerlink" href="#relnotes-4-12-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-12-0-upgrade-notes">
<span id="id131"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-12-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Due to a change in the ZooKeeper data format, the following
upgrade procedure is required:</p>
<blockquote>
<div><ul class="simple">
<li><p>Stop all Zuul components</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">zuul</span> <span class="pre">delete-state</span></code></p></li>
<li><p>Start all Zuul components</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<ul class="simple">
<li><p>Zuul-web now requires access to the Zookeeper keystore.  Ensure that
the <a class="reference internal" href="configuration.html#attr-keystore.password" title="attr-keystore.password"><span class="xref zuul zuul-attr">keystore.password</span></a> option is included in <code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code>
on at least the scheduler, executor, and web servers (it may be included
on all components if desired).</p></li>
</ul>
<ul class="simple">
<li><p>Zuul-web requires information for all defined connections.
Previously, zuul-web may have started without all of the
connections fully defined in its config file, or with some
requirements (such as keys used for connecting to remote services)
present.  They are now required in order for zuul-web to start.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-11-0">
<span id="id132"></span><h2>4.11.0<a class="headerlink" href="#relnotes-4-11-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-11-0-new-features">
<span id="id133"></span><h3>New Features<a class="headerlink" href="#relnotes-4-11-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The new variable <a class="reference internal" href="job-content.html#var-zuul.playbook_context" title="var-zuul.playbook_context"><span class="xref zuul zuul-var">zuul.playbook_context</span></a> as well as new
variables under <a class="reference internal" href="job-content.html#var-zuul.projects" title="var-zuul.projects"><span class="xref zuul zuul-var">zuul.projects</span></a> have been added to help debug
or audit the playbooks and roles used by Ansible when running
jobs.</p>
<p>These variables describe the repo configuration used for the
playbooks and roles of each Ansible execution.  These repos may
have a different state than the workspace repos.</p>
</li>
</ul>
<ul class="simple">
<li><p>It is now possible to disable connection pooling in the Gitlab
driver with <a class="reference internal" href="drivers/gitlab.html#attr-&lt;gitlab connection&gt;.disable_connection_pool" title="attr-&lt;gitlab connection&gt;.disable_connection_pool"><span class="xref zuul zuul-attr">&lt;gitlab connection&gt;.disable_connection_pool</span></a>.
This option may be useful under adverse network conditions.</p></li>
</ul>
<ul class="simple">
<li><p>The optional prometheus service now also includes endpoints for
readiness and liveness checks.  See <a class="reference internal" href="monitoring.html#prometheus-liveness"><span class="std std-ref">Liveness Probes</span></a> for
details.</p></li>
</ul>
<ul class="simple">
<li><p>Allow an authorized user to dequeue changes from the Web UIâ€™s status page.</p></li>
</ul>
<ul class="simple">
<li><p>Add authentication in the web UI. Zuulâ€™s web UI can be configured to authenticate
users against an Identity Provider supporting the OpenID Connect protocol.</p></li>
</ul>
</section>
<section id="relnotes-4-11-0-upgrade-notes">
<span id="id134"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-11-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Users upgrading from previous versions of zuul will need to run
<code class="docutils literal notranslate"><span class="pre">zuul</span> <span class="pre">delete-state</span></code> to delete Zuulâ€™s ephemeral state from
Zookeeper. The ephemeral state produced by older versions of zuul
is not compatible with this release. This command should be run while
all Zuul services are stopped to prevent writes to the Zookeeper
database. More information on this command can be found in the
documentation:
<a class="reference external" href="https://zuul-ci.org/docs/zuul/reference/client.html#delete-state">https://zuul-ci.org/docs/zuul/reference/client.html#delete-state</a></p></li>
</ul>
<ul class="simple">
<li><p>The prometheus endpoint would previously serve metrics at any URI.
It now only returns metrics on the <cite>/</cite> and <cite>/metrics</cite> URI.  The
latter is recommended.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-10-4">
<span id="id135"></span><h2>4.10.4<a class="headerlink" href="#relnotes-4-10-4" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-10-4-bug-fixes">
<span id="id136"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-10-4-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A fix was made to mitigate an issue where a ZooKeeper disconnect
could cause too many threads to be spawned resulting in errors.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-10-3">
<span id="id137"></span><h2>4.10.3<a class="headerlink" href="#relnotes-4-10-3" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-10-3-bug-fixes">
<span id="id138"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-10-3-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A bug with the change cache cleanup routine which could have
caused items to be stuck in pipelines without running jobs has
been corrected.</p></li>
</ul>
<ul class="simple">
<li><p>Gerrit driver: Zuul error responses could overflow the default
message length with large configurations leading to Gerrit
rejecting the comment (and hence no notification from Zuul on the
change).  Such messages are now truncated to a safe length.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-10-2">
<span id="id139"></span><h2>4.10.2<a class="headerlink" href="#relnotes-4-10-2" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-10-2-bug-fixes">
<span id="id140"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-10-2-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A bug which prevented change cache cleanup (and therefore caused
ZooKeeper usage to grow without limits) was fixed.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-10-1">
<span id="id141"></span><h2>4.10.1<a class="headerlink" href="#relnotes-4-10-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-10-1-new-features">
<span id="id142"></span><h3>New Features<a class="headerlink" href="#relnotes-4-10-1-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Add support for squashing MR with gitlab.</p></li>
</ul>
<ul class="simple">
<li><p>On the description page of a buildset in the zuul web dashboard, a user can
display a timeline of the builds making up the buildset.</p></li>
</ul>
</section>
<section id="relnotes-4-10-1-bug-fixes">
<span id="id143"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-10-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Fix a bug in the cleanup routine for the new Zookeeper based change
cache. Previously this caused the change cache to leak entries. Note
the fixed routine will clean up the leaked entries automatically once
Zuul is restarted on this new version.</p></li>
</ul>
<ul class="simple">
<li><p>Fix detection of the failed merge in gitlab driver.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-10-0">
<span id="id144"></span><h2>4.10.0<a class="headerlink" href="#relnotes-4-10-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-10-0-upgrade-notes">
<span id="id145"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-10-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Nodepool 4.3.0 is now required.  Zuul stores additional
information in node records in preparation for supporting multiple
schedulers.</p></li>
</ul>
<ul>
<li><p>The scheduler time database has been removed.  This was stored in
the scheduler state directory, typically <code class="docutils literal notranslate"><span class="pre">/var/lib/zuul/times</span></code>.
The entire state directory on the scheduler is no longer used and
may now be removed.</p>
<p>Zuul now derives its estimated build duration times from the SQL
database.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-4-9-0">
<span id="id146"></span><h2>4.9.0<a class="headerlink" href="#relnotes-4-9-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-9-0-new-features">
<span id="id147"></span><h3>New Features<a class="headerlink" href="#relnotes-4-9-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">zuul</span> <span class="pre">delete-state</span></code> command may be used to delete all of the
ephemeral state stored by Zuul in ZooKeeper.  Normally Zuul is able
to detect and correct errors on its own, but in case it is unable to,
this may prove a useful utility for manual recovery.</p></li>
</ul>
<ul class="simple">
<li><p>The new commands <code class="docutils literal notranslate"><span class="pre">zuul</span> <span class="pre">copy-keys</span></code> and <code class="docutils literal notranslate"><span class="pre">zuul</span> <span class="pre">delete-keys</span></code> may
be useful when renaming projects in order to move the keys from
the old to the new project names without service interruption.</p></li>
</ul>
<ul class="simple">
<li><p>Add new statsd gauge metrics of current open node requests exported as
<code class="docutils literal notranslate"><span class="pre">zuul.nodepool.tenant.&lt;tenant&gt;.current_requests</span></code>. This metric tracks the
currently open node requests per tenant. It drills down the overall
<code class="docutils literal notranslate"><span class="pre">zuul.nodepool.current_requests</span></code> metric.</p></li>
</ul>
</section>
<section id="relnotes-4-9-0-upgrade-notes">
<span id="id148"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-9-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Zuul no longer reads or writes project private key files from the
schedulerâ€™s filesystem.  In order to load existing keys into
ZooKeeper, run version 4.6.0 of the scheduler at least once, if
you havenâ€™t already.</p>
<p>A new command <code class="docutils literal notranslate"><span class="pre">zuul</span> <span class="pre">export-keys</span></code> has been added to export the
encrypted keys from ZooKeeper onto the filesystem for backup.
Likewise, <code class="docutils literal notranslate"><span class="pre">zuul</span> <span class="pre">import-keys</span></code> will load a previously-exported
backup into ZooKeeper.  It is recommended that you use these
commands in system backup scripts.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-4-8-1">
<span id="id149"></span><h2>4.8.1<a class="headerlink" href="#relnotes-4-8-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-8-1-upgrade-notes">
<span id="id150"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-8-1-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>An error was found in a change related to Zuulâ€™s internal
configuration cache which could cause Zuul to use cached in-repo
configuration files which no longer exist.  If a <code class="docutils literal notranslate"><span class="pre">zuul.yaml</span></code> (or
<code class="docutils literal notranslate"><span class="pre">zuul.d/*</span></code> or any related variant) file was deleted or renamed,
Zuul would honor that change immediately, but would attempt to
load both the old and new contents from its cache upon the next
restart.</p>
<p>This error was introduced in version 4.8.0.</p>
<p>If upgrading from 4.8.0, run <code class="docutils literal notranslate"><span class="pre">zuul-scheduler</span> <span class="pre">full-reconfigure</span></code>
in order to correctly update the cache.</p>
</li>
</ul>
</section>
<section id="relnotes-4-8-1-bug-fixes">
<span id="id151"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-8-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Restored the job.success-message and job.failure-message
functionality which was inadvertently removed.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-8-0">
<span id="id152"></span><h2>4.8.0<a class="headerlink" href="#relnotes-4-8-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-8-0-new-features">
<span id="id153"></span><h3>New Features<a class="headerlink" href="#relnotes-4-8-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now can route live log streams via finger gateways to make it possible
to distribute executors over multiple datacenters without the possibility
to directly contact every executor from within zuul-web. This is typically
the case in a Kubernetes based deployment.</p></li>
</ul>
<ul>
<li><p>The finger gateway and executor log streaming system now supports TLS
connections.</p>
<p>Normally zuul-web makes a direct connection to an executor in
order to stream logs.  With this new option, that connection can
be encrypted if it crosses an untrusted network.</p>
<p>The ability to route log streaming connections through finger
gateway servers was recently added; these will also use TLS if
required.</p>
<p>The finger gateway server can also be used by end-users; in that
case it may need a TLS certificate to use if it is required to
connect to an encrypted executor or finger gateway to stream logs.
An option to disable using TLS when acting as a server is provided
for this case, since there are no TLS-enable finger clients.</p>
<p>See <a class="reference internal" href="configuration.html#attr-fingergw.tls_cert" title="attr-fingergw.tls_cert"><span class="xref zuul zuul-attr">fingergw.tls_cert</span></a> and related options to enable
encrypted connections for all three components.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-4-7-0">
<span id="id154"></span><h2>4.7.0<a class="headerlink" href="#relnotes-4-7-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-7-0-new-features">
<span id="id155"></span><h3>New Features<a class="headerlink" href="#relnotes-4-7-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The executor now honors the <a class="reference internal" href="configuration.html#attr-executor.sigterm_method" title="attr-executor.sigterm_method"><span class="xref zuul zuul-attr">executor.sigterm_method</span></a>
configuration file setting to determine whether <code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code> should be
equivalent to the <code class="docutils literal notranslate"><span class="pre">graceful</span></code> command (the default) or the
<code class="docutils literal notranslate"><span class="pre">stop</span></code> command.</p></li>
</ul>
<ul class="simple">
<li><p>The Github driver can now use â€˜skippedâ€™ and â€˜neutralâ€™ status for
<a class="reference internal" href="drivers/github.html#attr-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check" title="attr-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check"><span class="xref zuul zuul-attr">pipeline.&lt;reporter&gt;.&lt;github source&gt;.check</span></a> attribute on the
Github reporter.</p></li>
</ul>
</section>
<section id="relnotes-4-7-0-upgrade-notes">
<span id="id156"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-7-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The default behavior when an executor receives SIGTERM has been
changed from immediately stopping jobs to gracefully waiting for
them to finish.  Set the <a class="reference internal" href="configuration.html#attr-executor.sigterm_method" title="attr-executor.sigterm_method"><span class="xref zuul zuul-attr">executor.sigterm_method</span></a>
configuration file setting to <code class="docutils literal notranslate"><span class="pre">stop</span></code> to preserve the old behavior.</p></li>
</ul>
<ul class="simple">
<li><p>The <cite>zuul.scheduler.eventqueues.result</cite> gauge was removed</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now requires at least Nodepool version of 4.2.0 due to an
internal API change.</p></li>
</ul>
</section>
<section id="relnotes-4-7-0-deprecation-notes">
<span id="id157"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-4-7-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The following attributes are now ignored:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">report-build-page</span></code> tenant configuration setting.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">success-url</span></code> job attribute.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">failure-url</span></code> job attribute.</p></li>
</ul>
</div></blockquote>
<p>The URL of the build page is now always reported for every build.
This is now also true for in-progress builds, which provides for a
more consistent user experience.</p>
<p>Since the build page is always reported as the URL, the success
and failure URL job attributes are no longer useful, so this
functionality has also been removed.</p>
<p>Zuulâ€™s configuration syntax checker will continue to allow these
settings for now (they are simply ignored) but this will be
removed in version 5.0 and using them will be considered an error.</p>
<p>To achieve a similar result, consider returning the URL as an
artifact from the job via <cite>zuul_return</cite>.  This will cause a link
to appear in the â€œArtifactsâ€ section of the build page.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-4-6-0">
<span id="id158"></span><h2>4.6.0<a class="headerlink" href="#relnotes-4-6-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-6-0-new-features">
<span id="id159"></span><h3>New Features<a class="headerlink" href="#relnotes-4-6-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>If sensitive data must be returned from a job in order to be
provided to dependent jobs, the <code class="docutils literal notranslate"><span class="pre">secret_data</span></code> attribute of
<code class="docutils literal notranslate"><span class="pre">zuul_return</span></code> attribute may now be used instead of the normal
<code class="docutils literal notranslate"><span class="pre">data</span></code> attribute.  The data will be provided via the same
mechanism as job secrets, where the data are not written to disk
in the work directory.  Care must still be taken to avoid
displaying or storing sensitive data within the job.  For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">zuul_return</span><span class="p">:</span>
<span class="w">      </span><span class="nt">secret_data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foobar</span>
<span class="w">      </span><span class="nt">data</span><span class="p">:</span>
<span class="w">        </span><span class="nt">this_is</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">not secret</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="relnotes-4-6-0-security-issues">
<span id="id160"></span><h3>Security Issues<a class="headerlink" href="#relnotes-4-6-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The following connection-related variables are no longer allowed
to be set in job definitions, as they may be used to circumvent
security measures:</p>
<blockquote>
<div><ul class="simple">
<li><p>ansible_connection</p></li>
<li><p>ansible_host</p></li>
<li><p>ansible_python_interpreter</p></li>
<li><p>ansible_shell_executable</p></li>
<li><p>ansible_user</p></li>
</ul>
</div></blockquote>
<p>They may still be set using the corresponding settings in
Nodepool.</p>
</li>
</ul>
<ul>
<li><p>The ability to use Ansible Jinja templates in Zuul job variables
is partially restricted.</p>
<p>It was found that the ability to use Jinja templates in Zuul job
variables could be used to expose the contents of secrets.  To
remedy this, the values of Zuul job variables are frozen at the
start of the job and these values are used for trusted playbooks
and playbooks with secrets.  The freezing action is taken without
access to any secrets so they can not be exposed.</p>
<p>This means that Zuul job variables which reference non-secret
values that are known at the start of the job (including any
zuul.* variable) will continue to work as expected.  Job variables
which reference secrets will not work (they will be undefined).
In untrusted playbooks, job variables are still dynamically
evaluated and can make use of values that are set after the start
of the job.</p>
<p>Additionally, <cite>job.extra-vars</cite> are no longer passed to Ansible
using the â€œ-eâ€ command line options.  They could be used to expose
secrets because they take precedence over some internal playbook
variables in some circumstances.  Zuulâ€™s extra-vars are now passed
as normal inventory variables, however, they retain precedence
over all other Zuul job variables (<cite>vars</cite>, <cite>host-vars</cite>, and
<cite>group-vars</cite>) except secrets.</p>
<p>Secrets are also now passed as inventory variables as well for the
same reason.  They have the highest precedence of all Zuul job
variables.  Their values are tagged with <code class="docutils literal notranslate"><span class="pre">!unsafe</span></code> so that
Ansible will not evaluate them as Jinja expressions.</p>
<p>If you are certain that a value contained within a secret is safe
to evaluate as a Jinja expression, you may work around this
limitation using the following construct in a playbook:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">set_fact</span><span class="p">:</span>
<span class="w">    </span><span class="nt">unsafe_var_eval</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{{</span><span class="nv"> </span><span class="s">hostvars[&#39;localhost&#39;].secret.var</span><span class="nv"> </span><span class="s">}}&quot;</span>
</pre></div>
</div>
<p>This will force an explicit evaluation of the variable.  This is
generally safe to do in a situation where a playbook is accessing
a single secret by name, with no other secrets in scope.  Do not
use this capability with more than one secret that is not under
the control of the project where the playbook is defined.</p>
<p>Similarly, versions of all the original job variables tagged with
<code class="docutils literal notranslate"><span class="pre">!unsafe</span></code> are available under the <code class="docutils literal notranslate"><span class="pre">unsafe_vars</span></code> variable
hierarchy.  For example, the job variable <cite>myvar</cite> would be
available under <cite>unsafe_vars.myvar</cite>.  It is not recommended to
evaluate <code class="docutils literal notranslate"><span class="pre">unsafe_vars</span></code> expressions except in the most controlled
of circumstances.  They are almost impossible to render safely.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-4-5-1">
<span id="id161"></span><h2>4.5.1<a class="headerlink" href="#relnotes-4-5-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-5-1-bug-fixes">
<span id="id162"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-5-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The zuul tenant-conf-check command no longer needs a ZooKeeper connection
to validate the tenants configuration file is valid.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-5-0">
<span id="id163"></span><h2>4.5.0<a class="headerlink" href="#relnotes-4-5-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-5-0-prelude">
<span id="id164"></span><h3>Prelude<a class="headerlink" href="#relnotes-4-5-0-prelude" title="Link to this heading">ïƒ</a></h3>
<p>This is a checkpoint release. This release contains some bugfixes and other user-invisible changes, but its main purpose is to serve as a checkpoint as we move more of Zuulâ€™s functionality into ZooKeeper. This version has seen production use in OpenDev and we believe it to be stable and ready for wider use. Please do upgrade to it and report any issues to zuul-discuss. You may downgrade to the previous release if you do encounter any issues. Likewise, operators running the latest development builds may downgrade to this release in the case of issues.</p>
</section>
</section>
<section id="relnotes-4-4-0">
<span id="id165"></span><h2>4.4.0<a class="headerlink" href="#relnotes-4-4-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-4-0-new-features">
<span id="id166"></span><h3>New Features<a class="headerlink" href="#relnotes-4-4-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new prometheus_port option for the services can be used to start the
prometheus python client and exposes metrics.</p></li>
</ul>
<ul>
<li><p>Jobs may now request multiple semaphores and they will not start until
all semaphores are acquired.</p>
<p>Use the new <a class="reference internal" href="config/job.html#attr-job.semaphores" title="attr-job.semaphores"><span class="xref zuul zuul-attr">job.semaphores</span></a> (plural) attribute to specify them.</p>
<p>Note that the new attribute is additive when considering
inheritance and job variants.  That is to say that a job
definition with a <cite>semaphores</cite> attribute will extend the list of
semaphores supplied by its parent rather than overriding it (which
is the behavior for the deprecated attribute).</p>
</li>
</ul>
</section>
<section id="relnotes-4-4-0-deprecation-notes">
<span id="id167"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-4-4-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The job attribute <a class="reference internal" href="config/job.html#attr-job.semaphore" title="attr-job.semaphore"><span class="xref zuul zuul-attr">job.semaphore</span></a> (note the singular rather
than plural form) job attribute is now deprecated.  Use the plural
form <a class="reference internal" href="config/job.html#attr-job.semaphores" title="attr-job.semaphores"><span class="xref zuul zuul-attr">job.semaphores</span></a> instead.  As with most list items in
Zuul configuration, it also accepts a single item without the
wrapping list, so to convert existing jobs, simply change the
spelling of the attribute, no change to the value is required.</p>
<p>The singular form will be removed in Zuul 5.0.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-4-3-0">
<span id="id168"></span><h2>4.3.0<a class="headerlink" href="#relnotes-4-3-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-3-0-new-features">
<span id="id169"></span><h3>New Features<a class="headerlink" href="#relnotes-4-3-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The MQTT reporter now includes artifact information along with build results.</p></li>
</ul>
<ul class="simple">
<li><p>Jobs may now specify an alternate scheme to use when preparing
repositories in the workspace.  The default remains the same
golang-style, but an alternate scheme called <cite>flat</cite> is now
available.  See <a class="reference internal" href="config/job.html#attr-job.workspace-scheme" title="attr-job.workspace-scheme"><span class="xref zuul zuul-attr">job.workspace-scheme</span></a> for more details.</p></li>
</ul>
<ul>
<li><p>Project secrets keys and SSH keys are now stored in Zookeeper. All private
data will be encrypted at rest, which requires a new mandatory setting
<a class="reference internal" href="configuration.html#attr-keystore.password" title="attr-keystore.password"><span class="xref zuul zuul-attr">keystore.password</span></a> in <code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code>.</p>
<p>For backup purposes the secrets keys and SSH keys will still exist on the
local filesystem of the scheduler as before.</p>
</li>
</ul>
</section>
<section id="relnotes-4-3-0-upgrade-notes">
<span id="id170"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-3-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The internal git repo caches maintained by the mergers and
executors now use a new naming scheme in order to avoid
collisions.  When existing executors and mergers are restarted,
they will remove their git repo caches and re-clone repos using
the new scheme.  Jobs may be slow to start until the caches are
warmed again.</p></li>
</ul>
<ul class="simple">
<li><p>As project secrets keys and SSH keys are stored encrypted in Zookeeper the
new <a class="reference internal" href="configuration.html#attr-keystore.password" title="attr-keystore.password"><span class="xref zuul zuul-attr">keystore.password</span></a> option in <code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code> is
required. Please add it to your configuration for both the scheduler and
executor.</p></li>
</ul>
</section>
<section id="relnotes-4-3-0-deprecation-notes">
<span id="id171"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-4-3-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now correctly handles the <code class="docutils literal notranslate"><span class="pre">rerequested</span></code> action on check run trigger
definitions (<a class="reference internal" href="drivers/github.html#value-pipeline.trigger.&lt;github source&gt;.event.check_run" title="value-pipeline.trigger.&lt;github source&gt;.event.check_run"><span class="xref zuul zuul-value">check_run</span></a>)
literally. This has been <code class="docutils literal notranslate"><span class="pre">requested</span></code> which doesnâ€™t match the GitHub api.
The value <code class="docutils literal notranslate"><span class="pre">requested</span></code> is now deprecated and will be removed in a later
release.</p></li>
</ul>
</section>
<section id="relnotes-4-3-0-bug-fixes">
<span id="id172"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-3-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Fixed a bug where multiple connections of the same type would not filter
trigger events coming from the wrong connection.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-2-0">
<span id="id173"></span><h2>4.2.0<a class="headerlink" href="#relnotes-4-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-2-0-prelude">
<span id="id174"></span><h3>Prelude<a class="headerlink" href="#relnotes-4-2-0-prelude" title="Link to this heading">ïƒ</a></h3>
<p>This is a checkpoint release.  This release contains some bugfixes and other user-invisible changes, but its main purpose is to serve as a checkpoint as we move more of Zuulâ€™s functionality into ZooKeeper.  This version has seen production use in OpenDev and we believe it to be stable and ready for wider use.  Please do upgrade to it and report any issues to zuul-discuss.  You may downgrade to the previous release if you do encounter any issues.  Likewise, operators running the latest development builds may downgrade to this release in the case of issues.</p>
</section>
</section>
<section id="relnotes-4-1-0">
<span id="id175"></span><h2>4.1.0<a class="headerlink" href="#relnotes-4-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-1-0-new-features">
<span id="id176"></span><h3>New Features<a class="headerlink" href="#relnotes-4-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Executors configured with <a class="reference internal" href="configuration.html#attr-executor.zone" title="attr-executor.zone"><span class="xref zuul zuul-attr">executor.zone</span></a> now can also be configured
to also process jobs without a zone by enabling
<a class="reference internal" href="configuration.html#attr-executor.allow_unzoned" title="attr-executor.allow_unzoned"><span class="xref zuul zuul-attr">executor.allow_unzoned</span></a>.</p></li>
</ul>
<ul>
<li><p>Zuul now honors the shell-type configuration from nodepool and
uses it to set ansible_shell_type, a setting that is required
when connecting to Windows workers over ssh.</p>
<p>For Linux workers, there is a long standing ansible issue with 
using non-default ansible_shell_type and become, so this feature
is primarily targeting Windows workers.</p>
</li>
</ul>
<ul class="simple">
<li><p>Projects can now configure change queues to queue per branch.
See <a class="reference internal" href="config/queue.html#attr-queue" title="attr-queue"><span class="xref zuul zuul-attr">queue</span></a> for more information.</p></li>
</ul>
<ul class="simple">
<li><p>Circular dependencies are now optionally supported (but disabled
by default).  To permit dependency cycles to be enqueued, see the
<a class="reference internal" href="config/queue.html#attr-queue.allow-circular-dependencies" title="attr-queue.allow-circular-dependencies"><span class="xref zuul zuul-attr">queue.allow-circular-dependencies</span></a> option.</p></li>
</ul>
<ul class="simple">
<li><p>A job now can leave warning messages on the change using zuul_return.
See <a class="reference internal" href="job-content.html#return-values"><span class="std std-ref">Return Values</span></a> for examples.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports the <code class="docutils literal notranslate"><span class="pre">--validate-tenants</span></code> switch which can be used to
validate the complete configuration of the listed tenants.</p></li>
</ul>
</section>
<section id="relnotes-4-1-0-upgrade-notes">
<span id="id177"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-1-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Two sets of statsd metrics are now reported for executors: zoned
and unzoned.  The existing statsd keys are now deprecated; new
statsd keys are available for both zoned and unzoned executors.
See <a class="reference internal" href="monitoring.html#stat-zuul.executors" title="stat-zuul.executors"><span class="xref zuul zuul-stat">zuul.executors</span></a> for details.</p></li>
</ul>
</section>
<section id="relnotes-4-1-0-deprecation-notes">
<span id="id178"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-4-1-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Shared <code class="docutils literal notranslate"><span class="pre">queues</span></code> should be configured per project now instead per
pipeline. Specifying <cite>project.&lt;pipeline&gt;.queue</cite> is deprecated
and will be removed in a future release.</p></li>
</ul>
</section>
<section id="relnotes-4-1-0-bug-fixes">
<span id="id179"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-1-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>If zoned executors were used with prior releases of Zuul, the
reported executor statistics would only represent a single,
unspecified zone.  This has now been corrected.</p></li>
</ul>
</section>
</section>
<section id="relnotes-4-0-0">
<span id="id180"></span><h2>4.0.0<a class="headerlink" href="#relnotes-4-0-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-4-0-0-prelude">
<span id="id181"></span><h3>Prelude<a class="headerlink" href="#relnotes-4-0-0-prelude" title="Link to this heading">ïƒ</a></h3>
<p>This is the first 4.x release of Zuul.  It requires some deployment changes by operators which have been carefully planned in order to facilitate work on Zuul version 5, which will be the first version of Zuul where every component is fault tolerant and able to scale.
If you read the release notes for the last 3.x release, you may have already made all of the required changes.  If not, please do so before upgrading to version 4.  Every required change in version 4 is optionally supported in 3.19, so it is safe to make these changes and then upgrade.
Please read all of the notes below, especially in the â€œUpgradingâ€ section for details.  The primary additional requirements are:</p>
<blockquote>
<div><ul class="simple">
<li><p>TLS ZooKeeper connections</p></li>
<li><p>Network connectivity from all components to ZooKeeper</p></li>
<li><p>An SQL database</p></li>
</ul>
</div></blockquote>
<p>With these changes in place, it is anticipated that further upgrades to Zuul made in support of the scale-out-scheduler work will be done with minimal disruption in the course of normal releases between version 4 and 5.</p>
</section>
<section id="relnotes-4-0-0-new-features">
<span id="id182"></span><h3>New Features<a class="headerlink" href="#relnotes-4-0-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The action â€œpromoteâ€ is now available via the tenant-scoped REST API using
the zuul cli.</p></li>
</ul>
<ul class="simple">
<li><p>Builds in the SQL reporter have a â€œheldâ€ attribute set to True if the build
triggered a autohold request. Builds can be filtered by held status.</p></li>
</ul>
<ul class="simple">
<li><p>Subdirectories of <code class="docutils literal notranslate"><span class="pre">zuul.d</span></code> or <code class="docutils literal notranslate"><span class="pre">.zuul.d</span></code> can be ignored when
reading configuration by placing a <code class="docutils literal notranslate"><span class="pre">.zuul.ignore</span></code> file inside
them.</p></li>
</ul>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">find</span></code> module is now allowed to run on the executor.</p></li>
</ul>
<ul class="simple">
<li><p>Changes can now be dequeued via the Github checks API. If a github
reporter is configured to use the checks API, all running checks will
provide a custom â€œAbortâ€ action.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now respects GitHub review requirements when enqueuing into gate
pipelines. This works for github.com and GitHub Enterprise starting with
version 2.21.0.</p></li>
</ul>
<ul class="simple">
<li><p>Jobs may specify the new <code class="docutils literal notranslate"><span class="pre">intermediate</span></code> flag to note they may only be inherited by abstract jobs.  This can be useful if building a job hierarchy where wish to limit where a base job is instantiated.</p></li>
</ul>
<ul>
<li><p>The builds/ and buildset/ API endpoints now include information about
retried builds. They are called non-final as those are all builds that
were retried at least once and thus werenâ€™t visible to the user so far.</p>
<p>The builds/ API can filter those retried builds and you might exclude
them from API result by setting <code class="docutils literal notranslate"><span class="pre">final=false</span></code> in the API request.</p>
</li>
</ul>
<ul>
<li><p>An option to use the URL of the Zuul build page when reporting has
been added.  This feature requires that all the pipelines in the
tenant have a SQL reporter configured, and at
least one of <a class="reference internal" href="tenants.html#attr-tenant.web-root" title="attr-tenant.web-root"><span class="xref zuul zuul-attr">tenant.web-root</span></a> or <a class="reference internal" href="configuration.html#attr-web.root" title="attr-web.root"><span class="xref zuul zuul-attr">web.root</span></a> must be
defined.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">tenant.report-build-page</span></code>.</p>
</li>
</ul>
<ul class="simple">
<li><p>REST API: authorizations: add a tenant-scoped endpoint at
â€˜/api/tenant/{tenant}/authorizationsâ€™. Calling the endpoint will return
a list of admin tenants limited to the scoped tenant, if the user has admin
privileges on it.</p></li>
</ul>
<ul class="simple">
<li><p>Host key checking is now disabled for a host in the generated
Ansible inventory if <code class="docutils literal notranslate"><span class="pre">host-key-checking</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>
in the corresponding nodepool config.</p></li>
</ul>
</section>
<section id="relnotes-4-0-0-upgrade-notes">
<span id="id183"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-4-0-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Support for Ansible 2.7 has been removed.</p></li>
</ul>
<ul class="simple">
<li><p>If using a SQL reporter, the zuul_builds table will be updated with a new
â€˜heldâ€™ column. The <cite>zuul-scheduler</cite> and <cite>zuul-web</cite> services need to be restarted
together for the change to take effect.</p></li>
</ul>
<ul class="simple">
<li><p>Previously the SqlReporter would record the job name in the database in
place of the url if the url was empty. This has now been updated to store
a null in the database for that case. Zuul will automatically run a
database migration to correct old values.</p></li>
</ul>
<ul class="simple">
<li><p>The -d switch doesnâ€™t enforce foreground anymore. It only enables debug
logging. To start zuul in foreground please add the -f switch instead.</p></li>
</ul>
<ul class="simple">
<li><p>Support for running Zuul under Python 3.5 has been dropped.</p></li>
</ul>
<ul class="simple">
<li><p>As further integration with the web interface is planned, the
<a class="reference internal" href="configuration.html#attr-web.root" title="attr-web.root"><span class="xref zuul zuul-attr">web.root</span></a> setting in <code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code> is marked required and
future releases may error if it is missing.  Please add it to your
configuration now.  See <a class="reference internal" href="tenants.html#attr-tenant.web-root" title="attr-tenant.web-root"><span class="xref zuul zuul-attr">tenant.web-root</span></a> for additional
information about whitelabel tenants.</p></li>
</ul>
<ul class="simple">
<li><p>The components zuul-scheduler and zuul-web now require database
configuration. There is now only one supported database connection. If
multiple sql connections have been configured only the first one will be
used.</p></li>
</ul>
<ul class="simple">
<li><p>Signal based triggering of full-reconfiguration in the scheduler
(deprecated since 3.3.0) has been removed.  Use <code class="docutils literal notranslate"><span class="pre">zuul-scheduler</span>
<span class="pre">full-reconfigure</span></code> instead.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="configuration.html#attr-zookeeper" title="attr-zookeeper"><span class="xref zuul zuul-attr">zookeeper</span></a> section in <code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code> is required for all
components, and all components must now be able to connect to
ZooKeeper.  Additionally, TLS is now required for all ZooKeeper
connections.  See <a class="reference internal" href="howtos/zookeeper.html#zk-encrypted-connections"><span class="std std-ref">Encrypted Connections</span></a> for more details.</p></li>
</ul>
</section>
<section id="relnotes-4-0-0-deprecation-notes">
<span id="id184"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-4-0-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Defining database connections using sql connection is now
deprecated. Refer to <a class="reference internal" href="configuration.html#database"><span class="std std-ref">Database</span></a> how to configure the database now.</p></li>
</ul>
<ul class="simple">
<li><p>REST API: authorizations: the /api/user/authorizations endpoint is deprecated
in favor of the tenant-scoped endpoint. It will be removed next release.</p></li>
</ul>
</section>
<section id="relnotes-4-0-0-bug-fixes">
<span id="id185"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-4-0-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Although the documentation states that the MQTT reporter reports the buildâ€™s
log_url, this was only true as long as <code class="docutils literal notranslate"><span class="pre">tenant.report-build-page</span></code> was
disabled. As soon as the setting was enabled, the MQTT reporter reported the
url to the buildâ€™s result page in Zuul. As MQTT is meant to be consumed by
machines, this broke use cases like log post processing.</p>
<p>This was fixed so that the <a class="reference internal" href="drivers/mqtt.html#attr-&lt;mqtt schema&gt;.buildset.builds.log_url" title="attr-&lt;mqtt schema&gt;.buildset.builds.log_url"><span class="xref zuul zuul-attr">&lt;mqtt schema&gt;.buildset.builds.log_url</span></a> now
always contains the log url, while an additional field
<a class="reference internal" href="drivers/mqtt.html#attr-&lt;mqtt schema&gt;.buildset.builds.web_url" title="attr-&lt;mqtt schema&gt;.buildset.builds.web_url"><span class="xref zuul zuul-attr">&lt;mqtt schema&gt;.buildset.builds.web_url</span></a> contains the url to the
buildâ€™s result page if <code class="docutils literal notranslate"><span class="pre">tenant.report-build-page</span></code> is enabled.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-3-19-1">
<span id="id186"></span><h2>3.19.1<a class="headerlink" href="#relnotes-3-19-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-19-1-security-issues">
<span id="id187"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-19-1-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>A long-standing security vulnerability regarding executing code on
the executor was corrected.</p>
<p>The Zuul executor was designed to prohibit executing command or
shell tasks on the executor itself (i.e., localhost in Ansible)
from untrusted playbooks.  Tobias Henkel discovered that this
check has been broken for some time, likely since June of 2018.</p>
<p>The use of bubblewrap means that any commands executed via this
vulnerability would still be contained within the restricted
environment, meaning that they can not access files outside of the
build directory or continue running longer than the job.  However,
by executing arbitrary commands, users may have been able to
connect to unprotected internal network services.</p>
<p>Because this bug is so long-standing, it is possible, even likely,
that users may have accidentally come to rely on it.  We
discovered two jobs in the zuul-jobs library which did so:
dco-license and promote-docker-image.  The promote-docker-image
job has been altered so it no longer needs to run a command on the
executor.  The dco-license job has been altered to run on a node.
If you would prefer to run it on the exceutor, you can create a
new job in a config-project that uses the validate-dco-license
role.</p>
<p>You may want to look for other jobs in your system which may be
affected by this.  To aid in that, we have created a script which
will examine the job-output.json files created by previous builds
and output any tasks it finds which are now (once again)
prohibited.  This script is available here:</p>
<blockquote>
<div><p><a class="reference external" href="https://opendev.org/zuul/zuul/src/branch/master/tools/find-untrusted-exec.py">https://opendev.org/zuul/zuul/src/branch/master/tools/find-untrusted-exec.py</a></p>
</div></blockquote>
</li>
</ul>
</section>
<section id="relnotes-3-19-1-bug-fixes">
<span id="id188"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-19-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The dependency on kazoo has been upgraded to 2.8.0 which has an important
fix for using Zookeeper over TLS.</p></li>
</ul>
<ul class="simple">
<li><p>The Github access token URL has been updated in order to remove a
deprecation warning.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-19-0">
<span id="id189"></span><h2>3.19.0<a class="headerlink" href="#relnotes-3-19-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-19-0-prelude">
<span id="id190"></span><h3>Prelude<a class="headerlink" href="#relnotes-3-19-0-prelude" title="Link to this heading">ïƒ</a></h3>
<p>This is expected to be the last 3.x release of Zuul (barring any
unanticipated bugfix releases).</p>
<p>The next release of Zuul, 4.0.0, will require the following
deployment changes:</p>
<blockquote>
<div><ul class="simple">
<li><p>TLS ZooKeeper connections</p></li>
<li><p>Network connectivity from all components to ZooKeeper</p></li>
<li><p>A SQL database</p></li>
</ul>
</div></blockquote>
<p>These features are supported now, so it is important that you take
this time to <a class="reference internal" href="howtos/zookeeper.html#zk-encrypted-connections"><span class="std std-ref">switch your ZooKeeper connection to use
TLS</span></a>, and <a class="reference internal" href="configuration.html#database"><span class="std std-ref">configure a SQL
connection</span></a>.  Even though only some Zuul components
connect to ZooKeeper today, you should ensure that the
<code class="docutils literal notranslate"><span class="pre">[zookeeper]</span></code> section is present in <code class="docutils literal notranslate"><span class="pre">zuul.conf</span></code> for all
components, and that they have network connectivity to the ZooKeeper
servers.  Doing so will make the upgrade to 4.0.0 seamless.</p>
<p>These changes are in support of ongoing work to enable multiple
scheduler processes for scaling and availability.  After the 4.0.0
release, it is anticipated that further upgrades to Zuul made in
support of this work will be done with minimal disruption in the
course of normal releases.</p>
</section>
<section id="relnotes-3-19-0-new-features">
<span id="id191"></span><h3>New Features<a class="headerlink" href="#relnotes-3-19-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now supports whitelisting and configuring ansible callbacks with
<a class="reference internal" href="configuration.html#attr-ansible_callback &quot;&lt;name&gt;&quot;" title="attr-ansible_callback &quot;&lt;name&gt;&quot;"><span class="xref zuul zuul-attr">ansible_callback â€œ&lt;name&gt;â€</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Pipelines now provide a <a class="reference internal" href="config/pipeline.html#attr-pipeline.dequeue" title="attr-pipeline.dequeue"><span class="xref zuul zuul-attr">pipeline.dequeue</span></a> reporter action so that
reporters may run whenever an item is dequeued. The dequeue reporters will
only apply if the item wasnâ€™t a success or failure.</p></li>
</ul>
<ul class="simple">
<li><p>Support for generating dynamic <a class="reference internal" href="howtos/badges.html#badges"><span class="std std-ref">Badges</span></a> has been added.</p></li>
</ul>
<ul>
<li><p>The annotation levels for the file comments reported via Github checks
API are now configurable in <code class="docutils literal notranslate"><span class="pre">zuul_return</span></code>. Each file comment entry can
provide an optional <code class="docutils literal notranslate"><span class="pre">level</span></code> parameter <code class="docutils literal notranslate"><span class="pre">[info|warning|error]</span></code> that will
be picked up by the Github reporter.</p>
<p>For more details on how to provide file comments from Zuul, see the
documentation of the <a class="reference internal" href="job-content.html#return-values"><span class="std std-ref">Return Values</span></a>.</p>
</li>
</ul>
<ul class="simple">
<li><p>The status pipeline requirements of the Github driver
<a class="reference internal" href="drivers/github.html#attr-pipeline.require.&lt;github source&gt;.status" title="attr-pipeline.require.&lt;github source&gt;.status"><span class="xref zuul zuul-attr">pipeline.require.&lt;github source&gt;.status</span></a> now also matches
on statuses reported via the Github checks API.</p></li>
</ul>
<ul class="simple">
<li><p>The tenant configuration now supports loading a different branch than
master from config projects.
See <a class="reference internal" href="tenants.html#attr-tenant.config-projects.&lt;project&gt;.load-branch" title="attr-tenant.config-projects.&lt;project&gt;.load-branch"><span class="xref zuul zuul-attr">tenant.config-projects.&lt;project&gt;.load-branch</span></a>.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now matches tag items against their containing branches. This makes
it simpler to have release jobs in-tree. See <a class="reference internal" href="config/job.html#attr-job.branches" title="attr-job.branches"><span class="xref zuul zuul-attr">job.branches</span></a> for
details.</p></li>
</ul>
<ul class="simple">
<li><p>The zuul-executor now also pauses all merger related tasks when itâ€™s paused.
Further the zuul-merger can also be paused by running <code class="docutils literal notranslate"><span class="pre">zuul-merger</span> <span class="pre">pause</span></code>.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/pipeline.html#value-pipeline.manager.serial" title="value-pipeline.manager.serial"><span class="xref zuul zuul-value">serial</span></a> pipeline manager has been
added.  It is designed to handle serialized deployment pipelines
where supercedent is unsuitable in the case that not all jobs run
on every merge.</p></li>
</ul>
<ul class="simple">
<li><p>Add new timezone selector in web interface</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports a TLS secured connection to ZooKeeper.</p></li>
</ul>
</section>
<section id="relnotes-3-19-0-upgrade-notes">
<span id="id192"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-19-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Support for Ansible 2.6 has been removed.</p></li>
</ul>
<ul class="simple">
<li><p>Ansible 2.7 is now deprecated since it only receives security updates
and will be end of life soon.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now defaults to Ansible 2.9 if no version is specified.</p></li>
</ul>
<ul class="simple">
<li><p>With GitHub the Zuul app now requires permissions to read/write check runs.</p></li>
</ul>
<ul class="simple">
<li><p>The default behavior of the <code class="docutils literal notranslate"><span class="pre">tools/encrypt_secret.py</span></code>
helper script is now to strip incoming input of leading
and trailing whitespace. A new <code class="docutils literal notranslate"><span class="pre">--no-strip</span></code> option
has been added to support people with secrets that contain
valid leading or trailing whitespace.</p></li>
</ul>
<ul class="simple">
<li><p>Please configure your Zuul to use TLS secured connection. Running Zuul
with an unsecured connection to ZooKeeper is deprecated and will be
unsupported in a future release. See <a class="reference internal" href="configuration.html#attr-zookeeper" title="attr-zookeeper"><span class="xref zuul zuul-attr">zookeeper</span></a>
for details.</p></li>
</ul>
</section>
<section id="relnotes-3-19-0-security-issues">
<span id="id193"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-19-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul no longer adds environment variables starting with the <code class="docutils literal notranslate"><span class="pre">ZUUL_</span></code> prefix
to ansibles environment which could result in secrets being exposed.</p></li>
</ul>
</section>
<section id="relnotes-3-19-0-bug-fixes">
<span id="id194"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-19-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>In some cases (such as when an older version of kubectl is present on the executor,
or the kubectl on the executor is from OpenShift), streaming logs from Kubernetes or
OpenShift pods did not work.
The log streaming system has been corrected to work with a wider range of kubectl
versions and error logging has been improved.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-18-0">
<span id="id195"></span><h2>3.18.0<a class="headerlink" href="#relnotes-3-18-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-18-0-new-features">
<span id="id196"></span><h3>New Features<a class="headerlink" href="#relnotes-3-18-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The Github driver can now report file comments via Github checks API.
If a github reporter is configured to use the checks API, file comments
provided via <code class="docutils literal notranslate"><span class="pre">zuul_return</span></code> will automatically be reported to the pull
request in Github.</p>
<p>For more details on how to provide file comments from Zuul, see the
documentation of the <a class="reference internal" href="job-content.html#return-values"><span class="std std-ref">Return Values</span></a>.</p>
</li>
</ul>
</section>
<section id="relnotes-3-18-0-upgrade-notes">
<span id="id197"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-18-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Kubectl and socat must now be installed on Zuul executors if using
Kubernetes or OpenShift <cite>pod</cite> resources from Nodepool.  Additionally,
Nodepool version 3.12.0 or later is required, and the
â€œstart-zuul-consoleâ€ role from zuul-jobs should be run in the
pre-playbook of your base job.</p></li>
</ul>
</section>
<section id="relnotes-3-18-0-deprecation-notes">
<span id="id198"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-3-18-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Running the zuul processes with the -d switch to enforce running in
foreground is now deprecated. Switch to use -f instead for this purpose.
The -d switch will change to just enable debug logging in the future.</p></li>
</ul>
</section>
<section id="relnotes-3-18-0-security-issues">
<span id="id199"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-18-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The add_host host-vars blacklist is no longer effective for trusted
playbook.</p></li>
</ul>
</section>
<section id="relnotes-3-18-0-bug-fixes">
<span id="id200"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-18-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Previously, no output from shell or command tasks on pods was placed
in the job output; that has been corrected and streaming output is
now available.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-17-0">
<span id="id201"></span><h2>3.17.0<a class="headerlink" href="#relnotes-3-17-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-17-0-new-features">
<span id="id202"></span><h3>New Features<a class="headerlink" href="#relnotes-3-17-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The Github driver now has a basic support for the Github checks API.
To enable reporting build results via the checks API one can configure the
the new <a class="reference internal" href="drivers/github.html#attr-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check" title="attr-pipeline.&lt;reporter&gt;.&lt;github source&gt;.check"><span class="xref zuul zuul-attr">pipeline.&lt;reporter&gt;.&lt;github source&gt;.check</span></a> attribute on the
Github reporter. Itâ€™s also possible to trigger on a requested or completed
<a class="reference internal" href="drivers/github.html#value-pipeline.trigger.&lt;github source&gt;.event.check_run" title="value-pipeline.trigger.&lt;github source&gt;.event.check_run"><span class="xref zuul zuul-value">check_run</span></a>.</p>
<p>To be able to use the checks API, zuul must be authenticated as Github
app. For more information about the necessary requirements, please see
the <a class="reference internal" href="drivers/github.html#github-driver"><span class="std std-ref">GitHub</span></a> driver documentation.</p>
</li>
</ul>
</section>
<section id="relnotes-3-17-0-security-issues">
<span id="id203"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-17-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The add_host module attributes that can be used to bypass localhost
command execution are now also blacklisted using extra-vars to prevent
abuse through untrusted host_vars.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-16-1">
<span id="id204"></span><h2>3.16.1<a class="headerlink" href="#relnotes-3-16-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-16-1-bug-fixes">
<span id="id205"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-16-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>When using GitHub app authentication the fallback to anonymous access
was broken for repositories not having installed the zuul app.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-16-0">
<span id="id206"></span><h2>3.16.0<a class="headerlink" href="#relnotes-3-16-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-16-0-new-features">
<span id="id207"></span><h3>New Features<a class="headerlink" href="#relnotes-3-16-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new tenant option <a class="reference internal" href="tenants.html#attr-tenant.disallowed-labels" title="attr-tenant.disallowed-labels"><span class="xref zuul zuul-attr">tenant.disallowed-labels</span></a>
(similar to <a class="reference internal" href="tenants.html#attr-tenant.allowed-labels" title="attr-tenant.allowed-labels"><span class="xref zuul zuul-attr">tenant.allowed-labels</span></a>)
can be used to restrict what labels a tenant has access to.</p></li>
</ul>
</section>
<section id="relnotes-3-16-0-upgrade-notes">
<span id="id208"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-16-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>The default for <cite>auth_type</cite> has changed from
<code class="docutils literal notranslate"><span class="pre">digest</span></code> to <code class="docutils literal notranslate"><span class="pre">basic</span></code>.  Digest authentication has not been supported
in Gerrit since version 2.15.</p>
<p>If your Zuul connects to an older version of Gerrit via HTTP
authentication, you may now need to explicitly set this value.</p>
</li>
</ul>
</section>
<section id="relnotes-3-16-0-deprecation-notes">
<span id="id209"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-3-16-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Authentication: the JWT driver â€œRS256withJWKSâ€ is deprecated in favor of the
â€œOpenIDConnectâ€ driver. The â€œOpenIDConnectâ€ driver simplifies configuration
for administrators and is better aligned with OIDC configuration discovery
conventions.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-15-0">
<span id="id210"></span><h2>3.15.0<a class="headerlink" href="#relnotes-3-15-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-15-0-bug-fixes">
<span id="id211"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-15-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Files matcher has been fixed to act like irrelevant files matcher
when no files are present in the tested change, i.e. it now matches
such empty changes instead of rejecting them.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-14-0">
<span id="id212"></span><h2>3.14.0<a class="headerlink" href="#relnotes-3-14-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-14-0-new-features">
<span id="id213"></span><h3>New Features<a class="headerlink" href="#relnotes-3-14-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now supports triggering a smart reconfiguration by using the command
<code class="docutils literal notranslate"><span class="pre">zuul-scheduler</span> <span class="pre">smart-reconfigure</span></code>.</p></li>
</ul>
</section>
<section id="relnotes-3-14-0-upgrade-notes">
<span id="id214"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-14-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul no longer supports Ansible 2.5 for running jobs.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-13-0">
<span id="id215"></span><h2>3.13.0<a class="headerlink" href="#relnotes-3-13-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-13-0-new-features">
<span id="id216"></span><h3>New Features<a class="headerlink" href="#relnotes-3-13-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now supports Ansible 2.9 for running jobs.</p></li>
</ul>
</section>
<section id="relnotes-3-13-0-upgrade-notes">
<span id="id217"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-13-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The default version of Ansible used by Zuul jobs has been changed to 2.8.
See <a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a> for more information.</p></li>
</ul>
<ul class="simple">
<li><p>As a result of switching to Ansible 2.8, it is possible for the
ansible_python_interpreter version of your nodeset to change to â€˜autoâ€™.
This could result in your jobs now running under a different version of
python than prior to this release. See <a class="reference internal" href="operation.html#ansible-and-python-3"><span class="std std-ref">Ansible and Python 3</span></a> for
additional info.</p></li>
</ul>
<ul class="simple">
<li><p>Ansible 2.6 for Zuul jobs has been marked deprecated and will be removed in
a future release.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-12-0">
<span id="id218"></span><h2>3.12.0<a class="headerlink" href="#relnotes-3-12-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-12-0-new-features">
<span id="id219"></span><h3>New Features<a class="headerlink" href="#relnotes-3-12-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A new executor option <a class="reference internal" href="configuration.html#attr-executor.merge_jobs" title="attr-executor.merge_jobs"><span class="xref zuul zuul-attr">executor.merge_jobs</span></a> has been added to toggle
global merge operations.</p></li>
</ul>
</section>
<section id="relnotes-3-12-0-upgrade-notes">
<span id="id220"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-12-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Gerrit driver now has an additional option,
<a class="reference internal" href="drivers/gerrit.html#attr-pipeline.reporter.&lt;gerrit reporter&gt;.comment" title="attr-pipeline.reporter.&lt;gerrit reporter&gt;.comment"><span class="xref zuul zuul-attr">pipeline.reporter.&lt;gerrit reporter&gt;.comment</span></a> which may be
used to suppress reporting job results as review comments.  Due to
the configuration syntax for Gerrit reporters, the word â€œcommentâ€
may no longer be used as a review label.</p></li>
</ul>
</section>
<section id="relnotes-3-12-0-other-notes">
<span id="id221"></span><h3>Other Notes<a class="headerlink" href="#relnotes-3-12-0-other-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The â€“id option to both the autohold-delete and autohold-info zuul
CLI commands has been removed.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-11-1">
<span id="id222"></span><h2>3.11.1<a class="headerlink" href="#relnotes-3-11-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-11-1-bug-fixes">
<span id="id223"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-11-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Fixed a regression where changes with a failing job with soft dependencies would remain in the queue indefinitely.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-11-0">
<span id="id224"></span><h2>3.11.0<a class="headerlink" href="#relnotes-3-11-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-11-0-new-features">
<span id="id225"></span><h3>New Features<a class="headerlink" href="#relnotes-3-11-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Added the <a class="reference internal" href="config/pipeline.html#attr-pipeline.enqueue" title="attr-pipeline.enqueue"><span class="xref zuul zuul-attr">pipeline.enqueue</span></a> reporter action so that
reporters may be run when an item is enqueued into a pipeline.</p></li>
</ul>
<ul class="simple">
<li><p>Added the <a class="reference internal" href="config/pipeline.html#attr-pipeline.no-jobs" title="attr-pipeline.no-jobs"><span class="xref zuul zuul-attr">pipeline.no-jobs</span></a> reporter action so that
reporters may be run when an item is dequeued into a pipeline
without having run any jobs.</p></li>
</ul>
<ul class="simple">
<li><p>A new zuul CLI command, autohold-info, has been added to retrieve full
details for an existing autohold request.</p></li>
</ul>
<ul class="simple">
<li><p>Autohold requests are now stored in ZooKeeper, rather than in memory.
As a result of this change, a new zuul CLI command, autohold-delete has
been added to remove existing requests.</p></li>
</ul>
<ul class="simple">
<li><p>New scheduler options, max_hold_expiration and default_hold_expiration, are
added to control how long nodes held for an autohold request remain
available. The max_hold_expiration option defaults to 0, which means the
held nodes will not automatically expire, and default_hold_expiration
defaults to the value of max_hold_expiration.</p></li>
</ul>
</section>
<section id="relnotes-3-11-0-upgrade-notes">
<span id="id226"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-11-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Gerrit driver will now perform query actions over HTTP if an HTTP password is configured.  In this situation, the SSH connection is now only used for receiving events.  The HTTP password is not required, but it is recommended since it provides more reporting options (including line comments).</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-10-2">
<span id="id227"></span><h2>3.10.2<a class="headerlink" href="#relnotes-3-10-2" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-10-2-new-features">
<span id="id228"></span><h3>New Features<a class="headerlink" href="#relnotes-3-10-2-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The maximum starting builds depending on cpu cores can be limited using
<cite>executor.max_starting_builds</cite> configuration.</p></li>
</ul>
</section>
<section id="relnotes-3-10-2-security-issues">
<span id="id229"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-10-2-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The synchronize rsh rsync_opts is now prohibited for security reasons
as it could be used to circumvent executor host command execution
restrictions.</p></li>
</ul>
</section>
<section id="relnotes-3-10-2-bug-fixes">
<span id="id230"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-10-2-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Under specific conditions Zuul could fail to properly update git
repos causing it to fall back to testing master. If jobs were
meant to run against commits other than current master this lead
to testing the wrong commit. Zuul now correctly updates repos and
should test the correct commit in all cases.</p>
<p>Specifically this could happen if a new branch was created off a
commit in an existing branch. Then the first proposed change to
this new branch would be tested against master instead.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-3-10-1">
<span id="id231"></span><h2>3.10.1<a class="headerlink" href="#relnotes-3-10-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-10-1-bug-fixes">
<span id="id232"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-10-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Fixed Zuul dashboard not loading properly due to javascript dependencies missing.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-10-0">
<span id="id233"></span><h2>3.10.0<a class="headerlink" href="#relnotes-3-10-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-10-0-new-features">
<span id="id234"></span><h3>New Features<a class="headerlink" href="#relnotes-3-10-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Allow users to perform tenant-scoped, privileged actions either through
zuul-webâ€™s REST API or zuulâ€™s client, based on the JWT standard. The users
need a valid bearer token to perform such actions; the scope is set by matching
conditions on tokensâ€™ claims; these conditions can be defined in zuulâ€™s tenant
configuration file.
Zuul supports token signing and validation using the HS256 or RS256 algorithms.
External JWKS are also supported for token validation only.
Current tenant-scoped actions are â€œautoholdâ€, â€œenqueueâ€ and â€œdequeueâ€.</p></li>
</ul>
<ul class="simple">
<li><p>Config projects may now add any job to any projectâ€™s pipelines,
regardless of the setting of allowed-projets (including the implicit
setting of allowed-projects on jobs with secrets in untrusted
projects).</p></li>
</ul>
<ul class="simple">
<li><p>It is now possible to select the merge method GitHub uses to merge a Pull
Request to the base branch.</p></li>
</ul>
<ul>
<li><p>A new option,
<a class="reference internal" href="tenants.html#attr-tenant.untrusted-projects.&lt;project&gt;.extra-config-paths" title="attr-tenant.untrusted-projects.&lt;project&gt;.extra-config-paths"><span class="xref zuul zuul-attr">tenant.untrusted-projects.&lt;project&gt;.extra-config-paths</span></a> has
been added to allow an admin to indicate that Zuul should load
extra configuration data from a specific project in a tenant.</p>
<p>This feature may be useful to allow a project that primarily holds
shared jobs or roles to include additional in-repo configuration
for its own testing (which may not be relevant to other users of
the project).</p>
</li>
</ul>
<ul class="simple">
<li><p>The merge-mode <code class="docutils literal notranslate"><span class="pre">squash-merge</span></code> is now supported for Github.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/job.html#attr-job.cleanup-run" title="attr-job.cleanup-run"><span class="xref zuul zuul-attr">job.cleanup-run</span></a> attribute has been added to enable
a new cleanup phase to be performed after a job execution.</p></li>
</ul>
<ul class="simple">
<li><p>Support for the Pagure code review system has been added.</p></li>
</ul>
<ul>
<li><p>Pipelines may now indicate that they supercede other pipelines with the
<a class="reference internal" href="config/pipeline.html#attr-pipeline.supercedes" title="attr-pipeline.supercedes"><span class="xref zuul zuul-attr">pipeline.supercedes</span></a> attribute.</p>
<p>When a change is enqueued in a pipeline which supercedes others,
it will be removed from the other pipelines.  For example, a
<a class="reference internal" href="glossary.html#term-gate"><span class="xref std std-term">gate</span></a> pipeline may supercede a <a class="reference internal" href="glossary.html#term-check"><span class="xref std std-term">check</span></a> pipeline so
that test resources are not spent running near-duplicate jobs
simultaneously.</p>
</li>
</ul>
</section>
<section id="relnotes-3-10-0-upgrade-notes">
<span id="id235"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-10-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>If unprotected branches are excluded on a project they now also get
filtered out from jobs.</p></li>
</ul>
<ul>
<li><p>The default value for the <a class="reference internal" href="configuration.html#attr-executor.job_dir" title="attr-executor.job_dir"><span class="xref zuul zuul-attr">executor.job_dir</span></a> configuration
setting has been changed from <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> to
<code class="docutils literal notranslate"><span class="pre">/var/lib/zuul/builds</span></code>.  It is important for
<a class="reference internal" href="configuration.html#attr-executor.job_dir" title="attr-executor.job_dir"><span class="xref zuul zuul-attr">executor.job_dir</span></a> and <a class="reference internal" href="configuration.html#attr-executor.git_dir" title="attr-executor.git_dir"><span class="xref zuul zuul-attr">executor.git_dir</span></a> to be
located on the same filesystem, so this change increases the chances
that they end up on the same filesystem in most default configurations.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">builds</span></code> subdirectory will be created if it does not exist,
however, <code class="docutils literal notranslate"><span class="pre">/var/lib/zuul</span></code> at least must exist and be writable by
the Zuul user.</p>
</li>
</ul>
<ul>
<li><p>Jobs with file matchers will now automatically match if the configuration
of the job is changed.  This means that the Zuul configuration file no
longer needs to be included in the list of files to match in order for
changes to job configuration to be self-testing.</p>
<p>To keep the old behavior, set <a class="reference internal" href="config/job.html#attr-job.match-on-config-updates" title="attr-job.match-on-config-updates"><span class="xref zuul zuul-attr">job.match-on-config-updates</span></a>
to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</li>
</ul>
</section>
</section>
<section id="relnotes-3-9-0">
<span id="id236"></span><h2>3.9.0<a class="headerlink" href="#relnotes-3-9-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-9-0-new-features">
<span id="id237"></span><h3>New Features<a class="headerlink" href="#relnotes-3-9-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul now supports ansible 2.8 for running jobs.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports <a class="reference internal" href="config/project.html#attr-project.&lt;pipeline&gt;.fail-fast" title="attr-project.&lt;pipeline&gt;.fail-fast"><span class="xref zuul zuul-attr">project.&lt;pipeline&gt;.fail-fast</span></a> to immediately
report and cancel builds on the first failure in a buildset.</p></li>
</ul>
<ul>
<li><p>Zuul now reports resource usage statistics if they are provided by nodepool.</p>
<p>The following statistics are emitted:</p>
<ul class="simple">
<li><p><cite>zuul.nodepool.resources.tenant.{tenant}.{resource}</cite>:
Gauge with the currently used resources by tenant and counter with the
summed usage by tenant. e.g. cpu seconds</p></li>
<li><p><cite>zuul.nodepool.resources.project.{project}.{resource}</cite>:
Gauge with the currently used resources by project and counter with the
summed usage by project. e.g. cpu seconds</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="relnotes-3-8-1">
<span id="id238"></span><h2>3.8.1<a class="headerlink" href="#relnotes-3-8-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-8-1-bug-fixes">
<span id="id239"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-8-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Fixed a memory leak introduced in 3.8.0.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-8-0">
<span id="id240"></span><h2>3.8.0<a class="headerlink" href="#relnotes-3-8-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-8-0-new-features">
<span id="id241"></span><h3>New Features<a class="headerlink" href="#relnotes-3-8-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="job-content.html#return-artifacts"><span class="std std-ref">artifacts</span></a> returned by parent jobs are now
also available in child jobs of the same buildset.</p></li>
</ul>
</section>
<section id="relnotes-3-8-0-security-issues">
<span id="id242"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-8-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Fixed a bug where config (trusted) layout updates could be used
pre-merge as a dynamically loaded layout. This could happen if Zuul
was running with config errors that originated from outside of
the config (trusted) repo. A logic error allowed code to fall
through and return the trusted layout in this case.</p>
<p>Users should upgrade.</p>
</li>
</ul>
</section>
<section id="relnotes-3-8-0-bug-fixes">
<span id="id243"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-8-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Jobs which use the <a class="reference internal" href="config/job.html#attr-job.requires" title="attr-job.requires"><span class="xref zuul zuul-attr">job.requires</span></a> attribute and fail to have
their requirements met are now recorded as â€œFAILEDâ€ rather than
â€œSKIPPEDâ€.  This can happen if an earlier job which is expected to
produce artifacts fails to do so due to an error.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-7-1">
<span id="id244"></span><h2>3.7.1<a class="headerlink" href="#relnotes-3-7-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-7-1-bug-fixes">
<span id="id245"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-7-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>When using Ansible 2.7 the uri module crashed with a module failure.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="configuration.html#attr-scheduler.default_ansible_version" title="attr-scheduler.default_ansible_version"><span class="xref zuul zuul-attr">scheduler.default_ansible_version</span></a> has been ignored.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-7-0">
<span id="id246"></span><h2>3.7.0<a class="headerlink" href="#relnotes-3-7-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-7-0-new-features">
<span id="id247"></span><h3>New Features<a class="headerlink" href="#relnotes-3-7-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The ansible_python_interpreter variable is now whitelisted for the
add_host task.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports ansible 2.6 for running jobs.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports ansible 2.7 for running jobs.</p></li>
</ul>
<ul class="simple">
<li><p>Jobs may now specify which ansible version is used to run them.
The ansible version to use can now be specified by
<a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a>.</p></li>
</ul>
</section>
<section id="relnotes-3-7-0-upgrade-notes">
<span id="id248"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-7-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The default ansible version is now 2.7. In case this breaks any jobs this
can be overridden in <a class="reference internal" href="config/job.html#attr-job.ansible-version" title="attr-job.ansible-version"><span class="xref zuul zuul-attr">job.ansible-version</span></a>,
<a class="reference internal" href="tenants.html#attr-tenant.default-ansible-version" title="attr-tenant.default-ansible-version"><span class="xref zuul zuul-attr">tenant.default-ansible-version</span></a> or
<a class="reference internal" href="configuration.html#attr-scheduler.default_ansible_version" title="attr-scheduler.default_ansible_version"><span class="xref zuul zuul-attr">scheduler.default_ansible_version</span></a></p></li>
</ul>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">user</span></code> value in the <code class="docutils literal notranslate"><span class="pre">[fingergw]</span></code> configuration section previously defaulted to <code class="docutils literal notranslate"><span class="pre">zuul</span></code>, but now is unset by default, which will cause fingergw not to drop privileges.  It is recommended that this value be explicitly set to an unprivileged user.</p></li>
</ul>
<ul class="simple">
<li><p>In order to support several ansible versions installed simultaneously
Zuul now handles them itself in virtual environments. By default Zuul
installs the needed ansible versions on startup so there is no further
user action required. However it is recommended to pre-install the
ansible environments during installation by invoking
<code class="docutils literal notranslate"><span class="pre">zuul-manage-ansible</span></code>.</p></li>
</ul>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">hosts</span></code> value in the <code class="docutils literal notranslate"><span class="pre">[zookeeper]</span></code> configuration section previously defaulted to <code class="docutils literal notranslate"><span class="pre">localhost:2181</span></code>, but now is unset by default.  This value is required and must be explicitly set (and the documentation has always indicated this).</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-6-1">
<span id="id249"></span><h2>3.6.1<a class="headerlink" href="#relnotes-3-6-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-6-1-security-issues">
<span id="id250"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-6-1-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The raw module had not been blocked for local tasks. This could be used
to bypass protection and execute commands on the executor.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-6-0">
<span id="id251"></span><h2>3.6.0<a class="headerlink" href="#relnotes-3-6-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-6-0-new-features">
<span id="id252"></span><h3>New Features<a class="headerlink" href="#relnotes-3-6-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Artifacts may now include a metadata field for storing arbitrary metadata about the artifacts in the SQL database.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/job.html#attr-job.run" title="attr-job.run"><span class="xref zuul zuul-attr">job.run</span></a> attribute now supports a single or list of playbooks.</p></li>
</ul>
<ul class="simple">
<li><p>Support for expressing artifact or other resource dependencies between jobs running on different changes with a dependency relationship (e.g., a container image built in one project and consumed in a second project) has been added via the <a class="reference internal" href="config/job.html#attr-job.provides" title="attr-job.provides"><span class="xref zuul zuul-attr">job.provides</span></a> and <a class="reference internal" href="config/job.html#attr-job.requires" title="attr-job.requires"><span class="xref zuul zuul-attr">job.requires</span></a> job attributes.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/job.html#attr-job.dependencies" title="attr-job.dependencies"><span class="xref zuul zuul-attr">job.dependencies</span></a> attribute may now be used to express â€œsoftâ€ dependencies â€“ that is, to indicate a job should run after another completes, but only if it runs at all.  For example, a deployment job which should always run, but depends on a build job which only runs if the source code is changed.</p></li>
</ul>
</section>
<section id="relnotes-3-6-0-upgrade-notes">
<span id="id253"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-6-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Service Workers are now disabled by default in the Javascript
dashboard. Deployers who wish to enable them need to set
<code class="docutils literal notranslate"><span class="pre">REACT_APP_ENABLE_SERVICE_WORKER</span></code></p></li>
</ul>
<ul class="simple">
<li><p>Zuul recently added the job variable <a class="reference internal" href="job-content.html#var-zuul.message" title="var-zuul.message"><span class="xref zuul zuul-var">zuul.message</span></a>. This can contain
jinja tags which can cause problems accessing the zuul variable in the job.
Because of this the message is now base64 encoded and any job evaluating
this variable needs to be changed from <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">zuul.message</span> <span class="pre">}}</span></code> to
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">zuul.message</span> <span class="pre">|</span> <span class="pre">b64decode</span> <span class="pre">}}</span></code>.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-5-0">
<span id="id254"></span><h2>3.5.0<a class="headerlink" href="#relnotes-3-5-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-5-0-new-features">
<span id="id255"></span><h3>New Features<a class="headerlink" href="#relnotes-3-5-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="configuration.html#attr-executor.min_avail_mem" title="attr-executor.min_avail_mem"><span class="xref zuul zuul-attr">executor.min_avail_mem</span></a> setting now takes cgroup limits
into account. There is also a new metric
<cite>zuul.executor.&lt;executor&gt;.pct_used_ram_cgroup</cite> available.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/job.html#attr-job.secrets.pass-to-parent" title="attr-job.secrets.pass-to-parent"><span class="xref zuul zuul-attr">job.secrets.pass-to-parent</span></a> attribute has been added to
allow secrets to be made available to playbooks in parent jobs
(for example, to allow for jobs which are designed to use secrets,
but leave it to child jobs to actually supply them).  See also the
<a class="reference internal" href="config/secret.html#secret"><span class="std std-ref">Secret</span></a> documentation.</p></li>
</ul>
<ul class="simple">
<li><p>The restriction on using <code class="docutils literal notranslate"><span class="pre">known_hosts</span></code> in playbooks has been lifted.</p></li>
</ul>
<ul class="simple">
<li><p>The executors emit a new timer
<a class="reference internal" href="monitoring.html#stat-zuul.executor.&lt;executor&gt;.starting_builds" title="stat-zuul.executor.&lt;executor&gt;.starting_builds"><span class="xref zuul zuul-stat">zuul.executor.&lt;executor&gt;.starting_builds</span></a> with the time jobs spent
during starting.</p></li>
</ul>
</section>
<section id="relnotes-3-5-0-upgrade-notes">
<span id="id256"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-5-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The zuul_return module has been converted to an Ansible action plugin.
Job playbooks no longer need to use delegate_to or a localhost only play
with this module as action plugin by default run on localhost.</p></li>
</ul>
</section>
<section id="relnotes-3-5-0-security-issues">
<span id="id257"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-5-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Jobs with secrets in untrusted projects now automatically set
<cite>allowed-projects</cite>.</p>
<p>It is possible to circumvent the use of <cite>allowed-projects</cite> in
untrusted projects by creating a change which <cite>Depends-On</cite> a
change which alters a project definition.  This behavior may be
unexpected, so documentation has been updated with warnings to
avoid relying on it in sensitive cases.</p>
<p>It may have been possible to expose a secret, or use resources
protected by a secret, if a job using a secret was defined in an
untrusted project on a system with an independent pre-merge
post-review pipeline â€“ that is, a pipeline with <cite>post-review</cite> set
to true, <cite>manager</cite> set to <cite>independent</cite>, and which operated on
changes before they merged.</p>
<p>To prevent disclosure or use in this situation, <cite>allowed-projects</cite>
is now automatically set to the current project when a secret is
used in a job defined in an untrusted project, and it can not be
overridden.</p>
</li>
</ul>
</section>
<section id="relnotes-3-5-0-bug-fixes">
<span id="id258"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-5-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Untrusted playbooks no longer see
â€˜Adding hosts ssh with ansible_user to the inventory is prohibitedâ€™ when
using the add_host Ansible task on localhost.</p></li>
</ul>
<ul class="simple">
<li><p>Fixed an issue where a trailing slash on the baseurl of a git driver
connection config could cause an indefinite job hang.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-4-0">
<span id="id259"></span><h2>3.4.0<a class="headerlink" href="#relnotes-3-4-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-4-0-new-features">
<span id="id260"></span><h3>New Features<a class="headerlink" href="#relnotes-3-4-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Jobs may now return artifact URLs and they will be stored in the
SQL database (if configured).  See <a class="reference internal" href="job-content.html#return-artifacts"><span class="std std-ref">Returning artifact URLs</span></a> for
usage.</p></li>
</ul>
<ul class="simple">
<li><p>One or more zuul executors can now be added to a <a class="reference internal" href="configuration.html#attr-executor.zone" title="attr-executor.zone"><span class="xref zuul zuul-attr">executor.zone</span></a>.
This is helpful if a cloud does not have any public IP addresses for
nodepool nodes. Now youâ€™ll be able to have a zuul executor on the same
private network as your nodepool nodes.</p></li>
</ul>
<ul class="simple">
<li><p>The Ansible inventory file now includes nodepool.host_id variable if the
node was launched using the OpenStack Nodepool driver.</p></li>
</ul>
<ul class="simple">
<li><p>A new scheduler option, <a class="reference internal" href="configuration.html#attr-scheduler.relative_priority" title="attr-scheduler.relative_priority"><span class="xref zuul zuul-attr">scheduler.relative_priority</span></a>, can
be used to instruct Nodepool to fulfull requests from less-busy
projects more quickly.</p></li>
</ul>
</section>
<section id="relnotes-3-4-0-upgrade-notes">
<span id="id261"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-4-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <cite>zuul.nodepool</cite> statistics have been moved under
<cite>zuul.nodepool.requests</cite> to allow sub-stats to work correctly.
For example <cite>zuul.nodepool.requested</cite> has become
<cite>zuul.nodepool.requests.requested.total</cite>.  The previously missing
<cite>label</cite> and <cite>size</cite> counters are now available at
<cite>zuul.nodepool.requests.&lt;state&gt;.&lt;size|label&gt;</cite>.  For more info see
the monitoring documentation.</p></li>
</ul>
<ul class="simple">
<li><p>The zuul-web service now requires access to ZooKeeper, as a result you may
need to update your firewall allow access from the service. Additionally,
zuul.conf should now contain a <a class="reference internal" href="configuration.html#attr-zookeeper" title="attr-zookeeper"><span class="xref zuul zuul-attr">zookeeper</span></a> configuration section.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-3-1">
<span id="id262"></span><h2>3.3.1<a class="headerlink" href="#relnotes-3-3-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-3-1-new-features">
<span id="id263"></span><h3>New Features<a class="headerlink" href="#relnotes-3-3-1-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>New tenant options <a class="reference internal" href="tenants.html#attr-tenant.allowed-triggers" title="attr-tenant.allowed-triggers"><span class="xref zuul zuul-attr">tenant.allowed-triggers</span></a> and
<a class="reference internal" href="tenants.html#attr-tenant.allowed-reporters" title="attr-tenant.allowed-reporters"><span class="xref zuul zuul-attr">tenant.allowed-reporters</span></a> can be used to restrict
what connections a tenant has access to.</p></li>
</ul>
<ul class="simple">
<li><p>A new tenant option <a class="reference internal" href="tenants.html#attr-tenant.allowed-labels" title="attr-tenant.allowed-labels"><span class="xref zuul zuul-attr">tenant.allowed-labels</span></a>
can be used to restrict what labels a tenant has access to.</p></li>
</ul>
<ul class="simple">
<li><p>A job using a semaphore now can configure if it should acquire the it
before requesting resources or just before running.</p></li>
</ul>
</section>
<section id="relnotes-3-3-1-upgrade-notes">
<span id="id264"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-3-1-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The acquiring behavior of jobs with semaphores has been changed. Up to now
a job requested resources and aquired the semaphore just before it started
to run. However this could lead to a high amount of resource waste. Instead
jobs now acquire the semaphore before requesting the resources by default.
This behavior can be overridden by jobs using
job.semaphores.resources-first if some waste of resources is
acceptable.</p></li>
</ul>
</section>
<section id="relnotes-3-3-1-security-issues">
<span id="id265"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-3-1-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The add_host module options are restricted to a hostname, port, user and
password. Previously, malicious options could be used to bypass protection
and execute tasks on the executor. Only ssh and kubectl connection
are authorized.</p></li>
</ul>
</section>
<section id="relnotes-3-3-1-bug-fixes">
<span id="id266"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-3-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Jobs that encountered unreachable nodes are now correctly detected and
retried.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-3-0">
<span id="id267"></span><h2>3.3.0<a class="headerlink" href="#relnotes-3-3-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-3-0-new-features">
<span id="id268"></span><h3>New Features<a class="headerlink" href="#relnotes-3-3-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>A local project key file URI (eg. <code class="docutils literal notranslate"><span class="pre">file:///path/to/key.pub</span></code>) is now supported by the encrypt_secret.py tool. This allows encrypting secrets without directly accessing the Zuul web API to retrieve the project key.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports triggering a full reconfiguration by using the command
<code class="docutils literal notranslate"><span class="pre">zuul-scheduler</span> <span class="pre">full-reconfigure</span></code>.</p></li>
</ul>
<ul class="simple">
<li><p>The Gerrit driver can now (optionally) report via HTTP instead of SSH.  In the future, this will be used to report file and line comments (the SSH API only supports review messages).</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now supports leaving file comments, though currently only when using
the Gerrit driver.  See the documentation for <code class="docutils literal notranslate"><span class="pre">zuul_return</span></code> for details.</p></li>
</ul>
<ul class="simple">
<li><p>A job now can pause itself using <a class="reference internal" href="job-content.html#return-values"><span class="std std-ref">Return Values</span></a> and let the child jobs
run until they are finished. This can be used to serve some service which
can be used by the child jobs.</p></li>
</ul>
<ul class="simple">
<li><p>An SSH keypair is now generated for every project and may be used in
post-review jobs to access systems which trust that project.</p></li>
</ul>
<ul class="simple">
<li><p>GitHub <a class="reference internal" href="drivers/github.html#attr-&lt;github connection&gt;.rate_limit_logging" title="attr-&lt;github connection&gt;.rate_limit_logging"><span class="xref zuul zuul-attr">&lt;github connection&gt;.rate_limit_logging</span></a> now can be configured.
If disabled this can save some network round trip times. This can be
configured per connection.</p></li>
</ul>
<ul class="simple">
<li><p>The Zuul web dashboard has been rewritten in React.</p></li>
</ul>
<ul class="simple">
<li><p>The restriction on using <code class="docutils literal notranslate"><span class="pre">add_host</span></code> in playbooks has been lifted.</p></li>
</ul>
<ul class="simple">
<li><p>A new Build page in the web interface enable displaying a single Build
information.</p></li>
</ul>
<ul class="simple">
<li><p>A new Notification Drawer and a ConfigErrors page in the web interface
enable displaying the config-errors endpoint data.</p></li>
</ul>
<ul class="simple">
<li><p>A new Job page in the web interface enable browsing
through job configuration.</p></li>
</ul>
<ul class="simple">
<li><p>Client certificate locations to be used by winrm connections can be
configured now.</p></li>
</ul>
</section>
<section id="relnotes-3-3-0-upgrade-notes">
<span id="id269"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-3-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The Zuul web dashboard is now a single index.html and static offload
server needs new rewrite rules. Check the install instruction for backward
compatible rewrite rules. Note that serving the web dashboard from a
sub-directory requires the application to be rebuilt using the desired
homepage location.</p></li>
</ul>
</section>
<section id="relnotes-3-3-0-deprecation-notes">
<span id="id270"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-3-3-0-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Signal based triggering of a full reconfiguration via sending <cite>SIGHUP</cite> to
the zuul-scheduler PID is deprecated. Use the command
<code class="docutils literal notranslate"><span class="pre">zuul-scheduler</span> <span class="pre">full-reconfigure</span></code> now.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-2-0">
<span id="id271"></span><h2>3.2.0<a class="headerlink" href="#relnotes-3-2-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-2-0-new-features">
<span id="id272"></span><h3>New Features<a class="headerlink" href="#relnotes-3-2-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Zuul client got a new command â€˜tenant-conf-checkâ€™. This command validates the
schema of the tenant configuration and exits -1 if errors have been detected.</p></li>
</ul>
<ul class="simple">
<li><p>A new Ansible inventory variable <a class="reference internal" href="job-content.html#var-zuul.child_jobs" title="var-zuul.child_jobs"><span class="xref zuul zuul-var">zuul.child_jobs</span></a> which is a
list of the first level child jobs to be run after a job has
finished successfully.</p></li>
</ul>
<ul class="simple">
<li><p>Jobs are now able to use the <a class="reference internal" href="config/job.html#attr-job.extra-vars" title="attr-job.extra-vars"><span class="xref zuul zuul-attr">job.extra-vars</span></a> which will
use the â€“extra-vars flag when a job runs.</p></li>
</ul>
<ul class="simple">
<li><p>Project and project-templates may now create variables via a <code class="docutils literal notranslate"><span class="pre">vars</span></code> configuration entry.  Jobs can access these at runtime in the same manner as job variables.</p></li>
</ul>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/pipeline.html#value-pipeline.manager.supercedent" title="value-pipeline.manager.supercedent"><span class="xref zuul zuul-value">supercedent</span></a> pipeline manager has
been added.  It is designed to make post-merge artifact build
pipelines more efficient.</p></li>
</ul>
<ul class="simple">
<li><p>The <cite>dequeue</cite> command has been added to the Zuul CLI.
It allows operators to stop a given buildset at will.</p></li>
</ul>
<ul class="simple">
<li><p>It is now possible to use zuul_return to skip child jobs. You can
use the <a class="reference internal" href="job-content.html#var-zuul.child_jobs" title="var-zuul.child_jobs"><span class="xref zuul zuul-var">zuul.child_jobs</span></a> inventory variable to get a list of
child jobs configured to run, then use zuul_return to modify the
list.  Any child job not in zuul_return zuul.child_jobs will be
skipped. See <a class="reference internal" href="job-content.html#return-values"><span class="std std-ref">Return Values</span></a> for examples.</p></li>
</ul>
</section>
<section id="relnotes-3-2-0-bug-fixes">
<span id="id273"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-2-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Project Templates are now branch-aware and behave more like
project stanzas.  If a template is defined on a branch, it will
only apply to changes to that branch.</p></li>
</ul>
<ul class="simple">
<li><p>The timer trigger does not enqueue an event for every branch of every
project anymore and it now only processes projects actually using the
pipeline triggered by a timer.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-1-0">
<span id="id274"></span><h2>3.1.0<a class="headerlink" href="#relnotes-3-1-0" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-1-0-new-features">
<span id="id275"></span><h3>New Features<a class="headerlink" href="#relnotes-3-1-0-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The GitHub driver can determine the required status checks of pull requests
which are needed for entering a gate pipeline. This eliminates the need to
hard code required status checks in the gate pipeline and makes
interoperation with other GitHub apps much more flexible.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul is now ables to start with an invalid configuration.
When reading configuration files from project repositories,
if an issue is detected, Zuul will store the issue and skip
the broken block of configuration. Issues are then reported
in the scheduler log at the end of the configuration phase.</p></li>
</ul>
<ul class="simple">
<li><p>A <a class="reference internal" href="drivers/mqtt.html#attr-&lt;mqtt connection&gt;" title="attr-&lt;mqtt connection&gt;"><span class="xref zuul zuul-attr">&lt;mqtt connection&gt;</span></a> driver is added to feature build report over MQTT message.</p></li>
</ul>
<ul class="simple">
<li><p>The GitHub driver now supports the <a class="reference internal" href="drivers/github.html#attr-pipeline.require.&lt;github source&gt;.merged" title="attr-pipeline.require.&lt;github source&gt;.merged"><span class="xref zuul zuul-attr">pipeline.require.&lt;github source&gt;.merged</span></a>
requirement.</p></li>
</ul>
<ul class="simple">
<li><p>The json log now also contains the role name and the uuid
similar to the task entry.</p></li>
</ul>
</section>
<section id="relnotes-3-1-0-upgrade-notes">
<span id="id276"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-1-0-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Files (and irrelevant-files) matchers are now overridable.  Zuul
now uses only branch matchers to collect job variants.  Once those
variants are collected, they are combined, and the files and
irrelevant-files attributes are inherited and overridden as any
other job attribute.  The final values are used to determine
whether the job should ultimately run.</p></li>
</ul>
<ul class="simple">
<li><p>Zuul now uses Ansible 2.5.</p></li>
</ul>
</section>
<section id="relnotes-3-1-0-security-issues">
<span id="id277"></span><h3>Security Issues<a class="headerlink" href="#relnotes-3-1-0-security-issues" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Tobias Henkel (BMW Car IT GmbH) discovered a vulnerability which
is fixed in this release. If nodes become offline during the
build, the no_log attribute of a task is ignored. If the
unreachable error occurred in a task used with a loop variable
(e.g., with_items), the contents of the loop items would be
printed in the console. This could lead to accidentally leaking
credentials or secrets. MITRE has assigned CVE-2018-12557 to this
vulnerability.</p></li>
</ul>
</section>
<section id="relnotes-3-1-0-bug-fixes">
<span id="id278"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-1-0-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Untrusted playbooks no longer see â€˜Executing local code is prohibitedâ€™ when
using the zuul_return Ansible task.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-0-3">
<span id="id279"></span><h2>3.0.3<a class="headerlink" href="#relnotes-3-0-3" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-0-3-new-features">
<span id="id280"></span><h3>New Features<a class="headerlink" href="#relnotes-3-0-3-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="config/project.html#attr-project.default-branch" title="attr-project.default-branch"><span class="xref zuul zuul-attr">project.default-branch</span></a> option is now documented.  It has been
supported since version 3.0.0, but was omitted from the documentation.</p></li>
</ul>
<ul class="simple">
<li><p>Project stanzas now support regex matching of <a class="reference internal" href="config/project.html#attr-project.name" title="attr-project.name"><span class="xref zuul zuul-attr">project.name</span></a>.
This can be used to apply project pipelines to many projects at once.</p></li>
</ul>
</section>
<section id="relnotes-3-0-3-deprecation-notes">
<span id="id281"></span><h3>Deprecation Notes<a class="headerlink" href="#relnotes-3-0-3-deprecation-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">merge-mode</span></code> and <code class="docutils literal notranslate"><span class="pre">default-branch</span></code> attributes may no longer appear
in a <a class="reference internal" href="config/project.html#project-template"><span class="std std-ref">Project Template</span></a> stanza.</p></li>
</ul>
</section>
<section id="relnotes-3-0-3-bug-fixes">
<span id="id282"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-0-3-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Configuration loading for dynamic configuration changes (i.e.,
changes to <code class="docutils literal notranslate"><span class="pre">zuul.yaml</span></code> files) is now significantly more CPU and
memory efficient, incurring only a slight penalty compared to
normal changes.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-0-2">
<span id="id283"></span><h2>3.0.2<a class="headerlink" href="#relnotes-3-0-2" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-0-2-new-features">
<span id="id284"></span><h3>New Features<a class="headerlink" href="#relnotes-3-0-2-new-features" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The GitHub trigger status filter
<a class="reference internal" href="drivers/github.html#value-pipeline.trigger.&lt;github source&gt;.action.status" title="value-pipeline.trigger.&lt;github source&gt;.action.status"><span class="xref zuul zuul-value">status</span></a> and pipeline
requirements <a class="reference internal" href="drivers/github.html#attr-pipeline.require.&lt;github source&gt;.status" title="attr-pipeline.require.&lt;github source&gt;.status"><span class="xref zuul zuul-attr">pipeline.require.&lt;github source&gt;.status</span></a> now support
regular expression matching.</p></li>
</ul>
</section>
<section id="relnotes-3-0-2-upgrade-notes">
<span id="id285"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-0-2-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">fb-re2</span></code> python library is added as a dependency; this may
required the installation of the <code class="docutils literal notranslate"><span class="pre">re2</span></code> library and header files
in order to build.</p></li>
</ul>
<ul class="simple">
<li><p>The build start and end times are now stored as UTC in the database. Since
there is no localization done on zuul web side, the zuul api also exposes
these times as UTC now.</p></li>
</ul>
</section>
<section id="relnotes-3-0-2-bug-fixes">
<span id="id286"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-0-2-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Story 2001441 is fixed. Failure by one Zuul reporter will not short
circuit the reporting of other reporters. This ensures as much
information as possible is reported for each change even if some
failures occur. Note that the build set status is changed to â€˜ERRORâ€™
after the first failed reporter.</p></li>
</ul>
<ul class="simple">
<li><p>The zuul-changes.py script has been adapted to the new zuul-web api routes.</p></li>
</ul>
</section>
</section>
<section id="relnotes-3-0-1">
<span id="id287"></span><h2>3.0.1<a class="headerlink" href="#relnotes-3-0-1" title="Link to this heading">ïƒ</a></h2>
<section id="relnotes-3-0-1-new-features">
<span id="id288"></span><h3>New Features<a class="headerlink" href="#relnotes-3-0-1-new-features" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Git repositories will have a <code class="docutils literal notranslate"><span class="pre">origin</span></code> remote with refs pointing to the
previous change in the speculative state.</p>
<p>This allows jobs to determine the commits that are part of a change, which
was not possible before. The remote URL is set to a bogus value which
wonâ€™t work with git commands that need to talk to the remote repository.</p>
</li>
</ul>
<ul class="simple">
<li><p>PostgreSQL is now officially supported as database backend.
See <code class="docutils literal notranslate"><span class="pre">sql</span> <span class="pre">connection</span></code> on how to configure database connections.</p></li>
</ul>
<ul class="simple">
<li><p>A new option for the scheduler
<a class="reference internal" href="configuration.html#attr-scheduler.tenant_config_script" title="attr-scheduler.tenant_config_script"><span class="xref zuul zuul-attr">scheduler.tenant_config_script</span></a> can be used to tell Zuul to
execute a script and read its yaml output as the tenants
configuration. The option is exclusive with the
<a class="reference internal" href="configuration.html#attr-scheduler.tenant_config" title="attr-scheduler.tenant_config"><span class="xref zuul zuul-attr">scheduler.tenant_config</span></a> option.</p></li>
</ul>
</section>
<section id="relnotes-3-0-1-upgrade-notes">
<span id="id289"></span><h3>Upgrade Notes<a class="headerlink" href="#relnotes-3-0-1-upgrade-notes" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>The alembic version table is fixed to being prefixed too. This is necessary
when using <code class="docutils literal notranslate"><span class="pre">table_prefix</span></code>. However if you are
already using <code class="docutils literal notranslate"><span class="pre">table_prefix</span></code> you will need to rename the table
<code class="docutils literal notranslate"><span class="pre">alembic_version</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;prefix&gt;alembic_version</span></code> before starting Zuul.
Otherwise zuul will try to create the tables again and fail. If youâ€™re not
using <code class="docutils literal notranslate"><span class="pre">table_prefix</span></code> you can safely ignore this.</p></li>
</ul>
</section>
<section id="relnotes-3-0-1-bug-fixes">
<span id="id290"></span><h3>Bug Fixes<a class="headerlink" href="#relnotes-3-0-1-bug-fixes" title="Link to this heading">ïƒ</a></h3>
<ul>
<li><p>Zuul role repository checkouts now honor <a class="reference internal" href="config/job.html#attr-job.override-checkout" title="attr-job.override-checkout"><span class="xref zuul zuul-attr">job.override-checkout</span></a>.</p>
<p>Previously, when a Zuul role was specified for a job, Zuul would
usually checkout the master branch, unless that repository
appeared in the dependency chain for a patch.  It will now follow
the usual procedure for determining the branch to check out,
including honoring <a class="reference internal" href="config/job.html#attr-job.override-checkout" title="attr-job.override-checkout"><span class="xref zuul zuul-attr">job.override-checkout</span></a> options.</p>
<p>This may alter the behavior of currently existing jobs.  Depending
on circumstances, you may need to set
<a class="reference internal" href="config/job.html#attr-job.override-checkout" title="attr-job.override-checkout"><span class="xref zuul zuul-attr">job.override-checkout</span></a> or copy roles to other branches of
projects.</p>
</li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="vulnerabilities.html" class="btn btn-neutral float-left" title="Vulnerability Reporting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="glossary.html" class="btn btn-neutral float-right" title="Glossary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2026, Zuul project contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book">Versions</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        
          <dd><a href="/docs/zuul/latest/">latest</a></dd>
        
          <dd><a href="/docs/zuul/13.1.1/">13.1.1</a></dd>
        
          <dd><a href="/docs/zuul/13.1.0/">13.1.0</a></dd>
        
          <dd><a href="/docs/zuul/13.0.1/">13.0.1</a></dd>
        
          <dd><a href="/docs/zuul/13.0.0/">13.0.0</a></dd>
        
          <dd><a href="/docs/zuul/12.1.0/">12.1.0</a></dd>
        
          <dd><a href="/docs/zuul/12.0.0/">12.0.0</a></dd>
        
          <dd><a href="/docs/zuul/11.3.0/">11.3.0</a></dd>
        
          <dd><a href="/docs/zuul/11.2.0/">11.2.0</a></dd>
        
          <dd><a href="/docs/zuul/11.1.0/">11.1.0</a></dd>
        
          <dd><a href="/docs/zuul/11.0.1/">11.0.1</a></dd>
        
          <dd><a href="/docs/zuul/11.0.0/">11.0.0</a></dd>
        
          <dd><a href="/docs/zuul/10.2.0/">10.2.0</a></dd>
        
          <dd><a href="/docs/zuul/10.1.0/">10.1.0</a></dd>
        
          <dd><a href="/docs/zuul/10.0.0/">10.0.0</a></dd>
        
          <dd><a href="/docs/zuul/9.5.0/">9.5.0</a></dd>
        
          <dd><a href="/docs/zuul/9.4.0/">9.4.0</a></dd>
        
          <dd><a href="/docs/zuul/9.3.0/">9.3.0</a></dd>
        
          <dd><a href="/docs/zuul/9.2.0/">9.2.0</a></dd>
        
          <dd><a href="/docs/zuul/9.1.0/">9.1.0</a></dd>
        
          <dd><a href="/docs/zuul/9.0.0/">9.0.0</a></dd>
        
          <dd><a href="/docs/zuul/8.3.1/">8.3.1</a></dd>
        
          <dd><a href="/docs/zuul/8.3.0/">8.3.0</a></dd>
        
          <dd><a href="/docs/zuul/8.2.0/">8.2.0</a></dd>
        
          <dd><a href="/docs/zuul/8.1.0/">8.1.0</a></dd>
        
          <dd><a href="/docs/zuul/8.0.1/">8.0.1</a></dd>
        
          <dd><a href="/docs/zuul/8.0.0/">8.0.0</a></dd>
        
          <dd><a href="/docs/zuul/7.1.0/">7.1.0</a></dd>
        
          <dd><a href="/docs/zuul/7.0.0/">7.0.0</a></dd>
        
          <dd><a href="/docs/zuul/6.4.0/">6.4.0</a></dd>
        
          <dd><a href="/docs/zuul/6.3.0/">6.3.0</a></dd>
        
          <dd><a href="/docs/zuul/6.2.0/">6.2.0</a></dd>
        
          <dd><a href="/docs/zuul/6.1.0/">6.1.0</a></dd>
        
          <dd><a href="/docs/zuul/6.0.0/">6.0.0</a></dd>
        
          <dd><a href="/docs/zuul/5.2.5/">5.2.5</a></dd>
        
          <dd><a href="/docs/zuul/5.2.4/">5.2.4</a></dd>
        
          <dd><a href="/docs/zuul/5.2.3/">5.2.3</a></dd>
        
          <dd><a href="/docs/zuul/5.2.2/">5.2.2</a></dd>
        
          <dd><a href="/docs/zuul/5.2.1/">5.2.1</a></dd>
        
          <dd><a href="/docs/zuul/5.2.0/">5.2.0</a></dd>
        
          <dd><a href="/docs/zuul/5.1.0/">5.1.0</a></dd>
        
          <dd><a href="/docs/zuul/5.0.0/">5.0.0</a></dd>
        
          <dd><a href="/docs/zuul/4.12.0/">4.12.0</a></dd>
        
          <dd><a href="/docs/zuul/4.11.0/">4.11.0</a></dd>
        
          <dd><a href="/docs/zuul/4.10.4/">4.10.4</a></dd>
        
          <dd><a href="/docs/zuul/4.10.3/">4.10.3</a></dd>
        
          <dd><a href="/docs/zuul/4.10.2/">4.10.2</a></dd>
        
          <dd><a href="/docs/zuul/4.10.1/">4.10.1</a></dd>
        
          <dd><a href="/docs/zuul/4.10.0/">4.10.0</a></dd>
        
          <dd><a href="/docs/zuul/4.9.0/">4.9.0</a></dd>
        
          <dd><a href="/docs/zuul/4.8.1/">4.8.1</a></dd>
        
          <dd><a href="/docs/zuul/4.8.0/">4.8.0</a></dd>
        
          <dd><a href="/docs/zuul/4.7.0/">4.7.0</a></dd>
        
          <dd><a href="/docs/zuul/4.6.0/">4.6.0</a></dd>
        
          <dd><a href="/docs/zuul/4.5.1/">4.5.1</a></dd>
        
          <dd><a href="/docs/zuul/4.5.0/">4.5.0</a></dd>
        
          <dd><a href="/docs/zuul/4.4.0/">4.4.0</a></dd>
        
          <dd><a href="/docs/zuul/4.3.0/">4.3.0</a></dd>
        
          <dd><a href="/docs/zuul/4.2.0/">4.2.0</a></dd>
        
          <dd><a href="/docs/zuul/4.1.0/">4.1.0</a></dd>
        
          <dd><a href="/docs/zuul/4.0.0/">4.0.0</a></dd>
        
          <dd><a href="/docs/zuul/3.19.1/">3.19.1</a></dd>
        
          <dd><a href="/docs/zuul/3.19.0/">3.19.0</a></dd>
        
          <dd><a href="/docs/zuul/3.18.0/">3.18.0</a></dd>
        
          <dd><a href="/docs/zuul/3.17.0/">3.17.0</a></dd>
        
          <dd><a href="/docs/zuul/3.16.1/">3.16.1</a></dd>
        
          <dd><a href="/docs/zuul/3.16.0/">3.16.0</a></dd>
        
          <dd><a href="/docs/zuul/3.15.0/">3.15.0</a></dd>
        
          <dd><a href="/docs/zuul/3.14.0/">3.14.0</a></dd>
        
          <dd><a href="/docs/zuul/3.13.0/">3.13.0</a></dd>
        
          <dd><a href="/docs/zuul/3.12.0/">3.12.0</a></dd>
        
          <dd><a href="/docs/zuul/3.11.1/">3.11.1</a></dd>
        
          <dd><a href="/docs/zuul/3.11.0/">3.11.0</a></dd>
        
          <dd><a href="/docs/zuul/3.10.2/">3.10.2</a></dd>
        
          <dd><a href="/docs/zuul/3.10.1/">3.10.1</a></dd>
        
          <dd><a href="/docs/zuul/3.10.0/">3.10.0</a></dd>
        
          <dd><a href="/docs/zuul/3.9.0/">3.9.0</a></dd>
        
          <dd><a href="/docs/zuul/3.8.1/">3.8.1</a></dd>
        
          <dd><a href="/docs/zuul/3.8.0/">3.8.0</a></dd>
        
          <dd><a href="/docs/zuul/3.7.1/">3.7.1</a></dd>
        
          <dd><a href="/docs/zuul/3.7.0/">3.7.0</a></dd>
        
          <dd><a href="/docs/zuul/3.6.1/">3.6.1</a></dd>
        
          <dd><a href="/docs/zuul/3.6.0/">3.6.0</a></dd>
        
          <dd><a href="/docs/zuul/3.5.0/">3.5.0</a></dd>
        
          <dd><a href="/docs/zuul/3.4.0/">3.4.0</a></dd>
        
          <dd><a href="/docs/zuul/3.3.1/">3.3.1</a></dd>
        
          <dd><a href="/docs/zuul/3.3.0/">3.3.0</a></dd>
        
      </dl>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>